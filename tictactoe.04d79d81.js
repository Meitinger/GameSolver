!function(){function e(e){return e&&e.__esModule?e.default:e}function t(e,t,r,n){Object.defineProperty(e,t,{get:r,set:n,enumerable:!0,configurable:!0})}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},i={},a=r.parcelRequirec9a8;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in i){var t=i[e];delete i[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){i[e]=t},r.parcelRequirec9a8=a),importScripts("./tictactoe.56693f30.js"),importScripts("./tictactoe.37f29f78.js");var o={};t(o,"Schema",(function(){return p})),t(o,"TicTacToe",(function(){return d}));var s=a("e6kUJ"),c=a("3DTNj"),u=a("PAmCh"),l=a("1zfaW"),f=2*Math.PI,p={type:"object",properties:{board:{type:"array",description:"Specifies the initial board setup, one array per horizontal line.",minItems:3,maxItems:3,items:{type:"array",description:"Specifies the three spaces of one horizontal line.",minItems:3,maxItems:3,items:{type:"string",description:'"x" for player X, "o" for player O or " " if no one has marked the space yet.',enum:[" ","x","o"]}}},start:{type:"string",description:'Specifies the player who should start, either "x" for player X or "o" for player O.',enum:["x","o"]}},required:["board","start"],additionalProperties:!1},d=function(t){"use strict";s.inherits(n,t);var r=s.createSuper(n);function n(){var e;return s.classCallCheck(this,n),e=r.apply(this,arguments),s.defineProperty(s.assertThisInitialized(e),"schema",p),e}return s.createClass(n,[{key:"getPlayers",value:function(){return[{name:"x",color:"#0f0"},{name:"o",color:"#f00"}]}},{key:"encodeState",value:function(e){var t=s.slicedToArray(e,3),r=((t[0]?524288:0)|t[1]<<9|t[2]).toString(16);return"0".repeat(5-r.length)+r}},{key:"decodeState",value:function(e){var t=parseInt(e,16);return[0==(524288&t),t>>9&1023,1023&t]}},{key:"getInitialState",value:function(){var e=this.getSetup(),t=0,r=0;return e.board.forEach((function(e,n){return e.forEach((function(e,i){var a=1<<3*n+i;switch(e){case"o":r|=a;break;case"x":t|=a}}))})),["x"===e.start,t,r]}},{key:"getNextStates",value:e(c).mark((function t(r){var n,i,a,o,u,l,f,p;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=s.slicedToArray(r,3),i=n[0],a=n[1],o=n[2],!this.isWinning(a)&&!this.isWinning(o)){e.next=3;break}return e.abrupt("return");case 3:u=i?a:o,l=i?o:a,f=8;case 6:if(!(f>=0)){e.next=14;break}if(0!=(u&(p=1<<f))||0!=(l&p)){e.next=11;break}return e.next=11,i?[0,[[!1,u|p,l]]]:[1,[[!0,l,u|p]]];case 11:f--,e.next=6;break;case 14:case"end":return e.stop()}}),t,this)}))},{key:"isWinning",value:function(e){return 7==(7&e)||56==(56&e)||448==(448&e)||73==(73&e)||146==(146&e)||292==(292&e)||273==(273&e)||84==(84&e)}},{key:"getWinningPlayersFromState",value:e(c).mark((function t(r){var n,i,a;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=s.slicedToArray(r,3),i=n[1],a=n[2],!this.isWinning(i)){e.next=4;break}return e.next=4,0;case 4:if(!this.isWinning(a)){e.next=7;break}return e.next=7,1;case 7:case"end":return e.stop()}}),t,this)}))},{key:"renderState",value:function(e,t,r,n){var i=Math.min(t,r),a=(t-i)/2,o=(r-i)/2,c=i/3,u=2*i/3,l=i/6,p=i/12;n.lineWidth=Math.max(i/72,1),n.strokeStyle="black",n.beginPath(),n.moveTo(a,o+c),n.lineTo(a+i,o+c),n.stroke(),n.beginPath(),n.moveTo(a,o+u),n.lineTo(a+i,o+u),n.stroke(),n.beginPath(),n.moveTo(a+c,o),n.lineTo(a+c,o+i),n.stroke(),n.beginPath(),n.moveTo(a+u,o),n.lineTo(a+u,o+i),n.stroke();for(var d=s.slicedToArray(e,3),h=d[1],y=d[2],m=0;m<3;m++)for(var v=0;v<3;v++){var k=1<<3*m+v,b=a+l*(2*v+1),g=o+l*(2*m+1);0!=(h&k)&&(n.strokeStyle="green",n.beginPath(),n.moveTo(b-p,g-p),n.lineTo(b+p,g+p),n.stroke(),n.beginPath(),n.moveTo(b-p,g+p),n.lineTo(b+p,g-p),n.stroke()),0!=(y&k)&&(n.strokeStyle="red",n.beginPath(),n.ellipse(b,g,p,p,0,0,f),n.stroke())}}}]),n}(l.TypedGame);l.isWorker()&&u.expose(new d)}();
//# sourceMappingURL=tictactoe.04d79d81.js.map
