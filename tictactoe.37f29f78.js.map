{"mappings":"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","sources":["node_modules/comlink/src/comlink.ts","node_modules/@swc/helpers/src/_assert_this_initialized.js","node_modules/@swc/helpers/src/_async_to_generator.js","node_modules/@swc/helpers/src/_class_call_check.js","node_modules/@swc/helpers/src/_construct.js","node_modules/@swc/helpers/src/_set_prototype_of.js","node_modules/@swc/helpers/src/_create_class.js","node_modules/@swc/helpers/src/_create_super.js","node_modules/@swc/helpers/src/_is_native_reflect_construct.js","node_modules/@swc/helpers/src/_get_prototype_of.js","node_modules/@swc/helpers/src/_possible_constructor_return.js","node_modules/@swc/helpers/src/_type_of.js","node_modules/@swc/helpers/src/_define_property.js","node_modules/@swc/helpers/src/_get.js","node_modules/@swc/helpers/src/_super_prop_base.js","node_modules/@swc/helpers/src/_inherits.js","node_modules/@swc/helpers/src/_object_spread.js","node_modules/@swc/helpers/src/_sliced_to_array.js","node_modules/@swc/helpers/src/_array_with_holes.js","node_modules/@swc/helpers/src/_iterable_to_array.js","node_modules/@swc/helpers/src/_non_iterable_rest.js","node_modules/@swc/helpers/src/_unsupported_iterable_to_array.js","node_modules/@swc/helpers/src/_array_like_to_array.js","node_modules/@swc/helpers/src/_tagged_template_literal.js","node_modules/@swc/helpers/src/_to_consumable_array.js","node_modules/@swc/helpers/src/_array_without_holes.js","node_modules/@swc/helpers/src/_non_iterable_spread.js","node_modules/@swc/helpers/src/_wrap_native_super.js","node_modules/@swc/helpers/src/_is_native_function.js","src/game.ts","node_modules/ajv/lib/ajv.ts","node_modules/ajv/lib/core.ts","node_modules/regenerator-runtime/runtime.js","node_modules/ajv/lib/compile/validate/index.ts","node_modules/ajv/lib/compile/validate/boolSchema.ts","node_modules/ajv/lib/compile/errors.ts","node_modules/ajv/lib/compile/codegen/index.ts","node_modules/ajv/lib/compile/codegen/code.ts","node_modules/ajv/lib/compile/codegen/scope.ts","node_modules/ajv/lib/compile/util.ts","node_modules/ajv/lib/compile/names.ts","node_modules/ajv/lib/compile/validate/dataType.ts","node_modules/ajv/lib/compile/rules.ts","node_modules/ajv/lib/compile/validate/applicability.ts","node_modules/ajv/lib/compile/validate/defaults.ts","node_modules/ajv/lib/compile/validate/keyword.ts","node_modules/ajv/lib/vocabularies/code.ts","node_modules/ajv/lib/compile/validate/subschema.ts","node_modules/ajv/lib/compile/resolve.ts","node_modules/fast-deep-equal/index.js","node_modules/json-schema-traverse/index.js","node_modules/ajv/lib/runtime/validation_error.ts","node_modules/ajv/lib/compile/ref_error.ts","node_modules/ajv/lib/compile/index.ts","node_modules/ajv/dist/refs/data.json","node_modules/ajv/lib/runtime/uri.ts","node_modules/uri-js/src/util.ts","node_modules/uri-js/src/regexps-uri.ts","node_modules/uri-js/src/regexps-iri.ts","node_modules/uri-js/node_modules/punycode/punycode.es6.js","node_modules/uri-js/src/uri.ts","node_modules/uri-js/src/schemes/http.ts","node_modules/uri-js/src/schemes/https.ts","node_modules/uri-js/src/schemes/ws.ts","node_modules/uri-js/src/schemes/wss.ts","node_modules/uri-js/src/schemes/mailto.ts","node_modules/uri-js/src/schemes/urn.ts","node_modules/uri-js/src/schemes/urn-uuid.ts","node_modules/uri-js/src/index.ts","node_modules/ajv/lib/vocabularies/draft7.ts","node_modules/ajv/lib/vocabularies/core/index.ts","node_modules/ajv/lib/vocabularies/core/id.ts","node_modules/ajv/lib/vocabularies/core/ref.ts","node_modules/ajv/lib/vocabularies/validation/index.ts","node_modules/ajv/lib/vocabularies/validation/limitNumber.ts","node_modules/ajv/lib/vocabularies/validation/multipleOf.ts","node_modules/ajv/lib/vocabularies/validation/limitLength.ts","node_modules/ajv/lib/runtime/ucs2length.ts","node_modules/ajv/lib/vocabularies/validation/pattern.ts","node_modules/ajv/lib/vocabularies/validation/limitProperties.ts","node_modules/ajv/lib/vocabularies/validation/required.ts","node_modules/ajv/lib/vocabularies/validation/limitItems.ts","node_modules/ajv/lib/vocabularies/validation/uniqueItems.ts","node_modules/ajv/lib/runtime/equal.ts","node_modules/ajv/lib/vocabularies/validation/const.ts","node_modules/ajv/lib/vocabularies/validation/enum.ts","node_modules/ajv/lib/vocabularies/applicator/index.ts","node_modules/ajv/lib/vocabularies/applicator/additionalItems.ts","node_modules/ajv/lib/vocabularies/applicator/prefixItems.ts","node_modules/ajv/lib/vocabularies/applicator/items.ts","node_modules/ajv/lib/vocabularies/applicator/items2020.ts","node_modules/ajv/lib/vocabularies/applicator/contains.ts","node_modules/ajv/lib/vocabularies/applicator/dependencies.ts","node_modules/ajv/lib/vocabularies/applicator/propertyNames.ts","node_modules/ajv/lib/vocabularies/applicator/additionalProperties.ts","node_modules/ajv/lib/vocabularies/applicator/properties.ts","node_modules/ajv/lib/vocabularies/applicator/patternProperties.ts","node_modules/ajv/lib/vocabularies/applicator/not.ts","node_modules/ajv/lib/vocabularies/applicator/anyOf.ts","node_modules/ajv/lib/vocabularies/applicator/oneOf.ts","node_modules/ajv/lib/vocabularies/applicator/allOf.ts","node_modules/ajv/lib/vocabularies/applicator/if.ts","node_modules/ajv/lib/vocabularies/applicator/thenElse.ts","node_modules/ajv/lib/vocabularies/format/index.ts","node_modules/ajv/lib/vocabularies/format/format.ts","node_modules/ajv/lib/vocabularies/metadata.ts","node_modules/ajv/lib/vocabularies/discriminator/index.ts","node_modules/ajv/lib/vocabularies/discriminator/types.ts","node_modules/ajv/dist/refs/json-schema-draft-07.json","node_modules/graphology/dist/graphology.umd.min.js"],"sourcesContent":["/**\n * Copyright 2019 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *     http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  Endpoint,\n  EventSource,\n  Message,\n  MessageType,\n  PostMessageWithOrigin,\n  WireValue,\n  WireValueType,\n} from \"./protocol\";\nexport { Endpoint };\n\nexport const proxyMarker = Symbol(\"Comlink.proxy\");\nexport const createEndpoint = Symbol(\"Comlink.endpoint\");\nexport const releaseProxy = Symbol(\"Comlink.releaseProxy\");\n\nconst throwMarker = Symbol(\"Comlink.thrown\");\n\n/**\n * Interface of values that were marked to be proxied with `comlink.proxy()`.\n * Can also be implemented by classes.\n */\nexport interface ProxyMarked {\n  [proxyMarker]: true;\n}\n\n/**\n * Takes a type and wraps it in a Promise, if it not already is one.\n * This is to avoid `Promise<Promise<T>>`.\n *\n * This is the inverse of `Unpromisify<T>`.\n */\ntype Promisify<T> = T extends Promise<unknown> ? T : Promise<T>;\n/**\n * Takes a type that may be Promise and unwraps the Promise type.\n * If `P` is not a Promise, it returns `P`.\n *\n * This is the inverse of `Promisify<T>`.\n */\ntype Unpromisify<P> = P extends Promise<infer T> ? T : P;\n\n/**\n * Takes the raw type of a remote property and returns the type that is visible to the local thread on the proxy.\n *\n * Note: This needs to be its own type alias, otherwise it will not distribute over unions.\n * See https://www.typescriptlang.org/docs/handbook/advanced-types.html#distributive-conditional-types\n */\ntype RemoteProperty<T> =\n  // If the value is a method, comlink will proxy it automatically.\n  // Objects are only proxied if they are marked to be proxied.\n  // Otherwise, the property is converted to a Promise that resolves the cloned value.\n  T extends Function | ProxyMarked ? Remote<T> : Promisify<T>;\n\n/**\n * Takes the raw type of a property as a remote thread would see it through a proxy (e.g. when passed in as a function\n * argument) and returns the type that the local thread has to supply.\n *\n * This is the inverse of `RemoteProperty<T>`.\n *\n * Note: This needs to be its own type alias, otherwise it will not distribute over unions. See\n * https://www.typescriptlang.org/docs/handbook/advanced-types.html#distributive-conditional-types\n */\ntype LocalProperty<T> = T extends Function | ProxyMarked\n  ? Local<T>\n  : Unpromisify<T>;\n\n/**\n * Proxies `T` if it is a `ProxyMarked`, clones it otherwise (as handled by structured cloning and transfer handlers).\n */\nexport type ProxyOrClone<T> = T extends ProxyMarked ? Remote<T> : T;\n/**\n * Inverse of `ProxyOrClone<T>`.\n */\nexport type UnproxyOrClone<T> = T extends RemoteObject<ProxyMarked>\n  ? Local<T>\n  : T;\n\n/**\n * Takes the raw type of a remote object in the other thread and returns the type as it is visible to the local thread\n * when proxied with `Comlink.proxy()`.\n *\n * This does not handle call signatures, which is handled by the more general `Remote<T>` type.\n *\n * @template T The raw type of a remote object as seen in the other thread.\n */\nexport type RemoteObject<T> = { [P in keyof T]: RemoteProperty<T[P]> };\n/**\n * Takes the type of an object as a remote thread would see it through a proxy (e.g. when passed in as a function\n * argument) and returns the type that the local thread has to supply.\n *\n * This does not handle call signatures, which is handled by the more general `Local<T>` type.\n *\n * This is the inverse of `RemoteObject<T>`.\n *\n * @template T The type of a proxied object.\n */\nexport type LocalObject<T> = { [P in keyof T]: LocalProperty<T[P]> };\n\n/**\n * Additional special comlink methods available on each proxy returned by `Comlink.wrap()`.\n */\nexport interface ProxyMethods {\n  [createEndpoint]: () => Promise<MessagePort>;\n  [releaseProxy]: () => void;\n}\n\n/**\n * Takes the raw type of a remote object, function or class in the other thread and returns the type as it is visible to\n * the local thread from the proxy return value of `Comlink.wrap()` or `Comlink.proxy()`.\n */\nexport type Remote<T> =\n  // Handle properties\n  RemoteObject<T> &\n    // Handle call signature (if present)\n    (T extends (...args: infer TArguments) => infer TReturn\n      ? (\n          ...args: { [I in keyof TArguments]: UnproxyOrClone<TArguments[I]> }\n        ) => Promisify<ProxyOrClone<Unpromisify<TReturn>>>\n      : unknown) &\n    // Handle construct signature (if present)\n    // The return of construct signatures is always proxied (whether marked or not)\n    (T extends { new (...args: infer TArguments): infer TInstance }\n      ? {\n          new (\n            ...args: {\n              [I in keyof TArguments]: UnproxyOrClone<TArguments[I]>;\n            }\n          ): Promisify<Remote<TInstance>>;\n        }\n      : unknown) &\n    // Include additional special comlink methods available on the proxy.\n    ProxyMethods;\n\n/**\n * Expresses that a type can be either a sync or async.\n */\ntype MaybePromise<T> = Promise<T> | T;\n\n/**\n * Takes the raw type of a remote object, function or class as a remote thread would see it through a proxy (e.g. when\n * passed in as a function argument) and returns the type the local thread has to supply.\n *\n * This is the inverse of `Remote<T>`. It takes a `Remote<T>` and returns its original input `T`.\n */\nexport type Local<T> =\n  // Omit the special proxy methods (they don't need to be supplied, comlink adds them)\n  Omit<LocalObject<T>, keyof ProxyMethods> &\n    // Handle call signatures (if present)\n    (T extends (...args: infer TArguments) => infer TReturn\n      ? (\n          ...args: { [I in keyof TArguments]: ProxyOrClone<TArguments[I]> }\n        ) => // The raw function could either be sync or async, but is always proxied automatically\n        MaybePromise<UnproxyOrClone<Unpromisify<TReturn>>>\n      : unknown) &\n    // Handle construct signature (if present)\n    // The return of construct signatures is always proxied (whether marked or not)\n    (T extends { new (...args: infer TArguments): infer TInstance }\n      ? {\n          new (\n            ...args: {\n              [I in keyof TArguments]: ProxyOrClone<TArguments[I]>;\n            }\n          ): // The raw constructor could either be sync or async, but is always proxied automatically\n          MaybePromise<Local<Unpromisify<TInstance>>>;\n        }\n      : unknown);\n\nconst isObject = (val: unknown): val is object =>\n  (typeof val === \"object\" && val !== null) || typeof val === \"function\";\n\n/**\n * Customizes the serialization of certain values as determined by `canHandle()`.\n *\n * @template T The input type being handled by this transfer handler.\n * @template S The serialized type sent over the wire.\n */\nexport interface TransferHandler<T, S> {\n  /**\n   * Gets called for every value to determine whether this transfer handler\n   * should serialize the value, which includes checking that it is of the right\n   * type (but can perform checks beyond that as well).\n   */\n  canHandle(value: unknown): value is T;\n\n  /**\n   * Gets called with the value if `canHandle()` returned `true` to produce a\n   * value that can be sent in a message, consisting of structured-cloneable\n   * values and/or transferrable objects.\n   */\n  serialize(value: T): [S, Transferable[]];\n\n  /**\n   * Gets called to deserialize an incoming value that was serialized in the\n   * other thread with this transfer handler (known through the name it was\n   * registered under).\n   */\n  deserialize(value: S): T;\n}\n\n/**\n * Internal transfer handle to handle objects marked to proxy.\n */\nconst proxyTransferHandler: TransferHandler<object, MessagePort> = {\n  canHandle: (val): val is ProxyMarked =>\n    isObject(val) && (val as ProxyMarked)[proxyMarker],\n  serialize(obj) {\n    const { port1, port2 } = new MessageChannel();\n    expose(obj, port1);\n    return [port2, [port2]];\n  },\n  deserialize(port) {\n    port.start();\n    return wrap(port);\n  },\n};\n\ninterface ThrownValue {\n  [throwMarker]: unknown; // just needs to be present\n  value: unknown;\n}\ntype SerializedThrownValue =\n  | { isError: true; value: Error }\n  | { isError: false; value: unknown };\n\n/**\n * Internal transfer handler to handle thrown exceptions.\n */\nconst throwTransferHandler: TransferHandler<\n  ThrownValue,\n  SerializedThrownValue\n> = {\n  canHandle: (value): value is ThrownValue =>\n    isObject(value) && throwMarker in value,\n  serialize({ value }) {\n    let serialized: SerializedThrownValue;\n    if (value instanceof Error) {\n      serialized = {\n        isError: true,\n        value: {\n          message: value.message,\n          name: value.name,\n          stack: value.stack,\n        },\n      };\n    } else {\n      serialized = { isError: false, value };\n    }\n    return [serialized, []];\n  },\n  deserialize(serialized) {\n    if (serialized.isError) {\n      throw Object.assign(\n        new Error(serialized.value.message),\n        serialized.value\n      );\n    }\n    throw serialized.value;\n  },\n};\n\n/**\n * Allows customizing the serialization of certain values.\n */\nexport const transferHandlers = new Map<\n  string,\n  TransferHandler<unknown, unknown>\n>([\n  [\"proxy\", proxyTransferHandler],\n  [\"throw\", throwTransferHandler],\n]);\n\nexport function expose(obj: any, ep: Endpoint = self as any) {\n  ep.addEventListener(\"message\", function callback(ev: MessageEvent) {\n    if (!ev || !ev.data) {\n      return;\n    }\n    const { id, type, path } = {\n      path: [] as string[],\n      ...(ev.data as Message),\n    };\n    const argumentList = (ev.data.argumentList || []).map(fromWireValue);\n    let returnValue;\n    try {\n      const parent = path.slice(0, -1).reduce((obj, prop) => obj[prop], obj);\n      const rawValue = path.reduce((obj, prop) => obj[prop], obj);\n      switch (type) {\n        case MessageType.GET:\n          {\n            returnValue = rawValue;\n          }\n          break;\n        case MessageType.SET:\n          {\n            parent[path.slice(-1)[0]] = fromWireValue(ev.data.value);\n            returnValue = true;\n          }\n          break;\n        case MessageType.APPLY:\n          {\n            returnValue = rawValue.apply(parent, argumentList);\n          }\n          break;\n        case MessageType.CONSTRUCT:\n          {\n            const value = new rawValue(...argumentList);\n            returnValue = proxy(value);\n          }\n          break;\n        case MessageType.ENDPOINT:\n          {\n            const { port1, port2 } = new MessageChannel();\n            expose(obj, port2);\n            returnValue = transfer(port1, [port1]);\n          }\n          break;\n        case MessageType.RELEASE:\n          {\n            returnValue = undefined;\n          }\n          break;\n        default:\n          return;\n      }\n    } catch (value) {\n      returnValue = { value, [throwMarker]: 0 };\n    }\n    Promise.resolve(returnValue)\n      .catch((value) => {\n        return { value, [throwMarker]: 0 };\n      })\n      .then((returnValue) => {\n        const [wireValue, transferables] = toWireValue(returnValue);\n        ep.postMessage({ ...wireValue, id }, transferables);\n        if (type === MessageType.RELEASE) {\n          // detach and deactive after sending release response above.\n          ep.removeEventListener(\"message\", callback as any);\n          closeEndPoint(ep);\n        }\n      });\n  } as any);\n  if (ep.start) {\n    ep.start();\n  }\n}\n\nfunction isMessagePort(endpoint: Endpoint): endpoint is MessagePort {\n  return endpoint.constructor.name === \"MessagePort\";\n}\n\nfunction closeEndPoint(endpoint: Endpoint) {\n  if (isMessagePort(endpoint)) endpoint.close();\n}\n\nexport function wrap<T>(ep: Endpoint, target?: any): Remote<T> {\n  return createProxy<T>(ep, [], target) as any;\n}\n\nfunction throwIfProxyReleased(isReleased: boolean) {\n  if (isReleased) {\n    throw new Error(\"Proxy has been released and is not useable\");\n  }\n}\n\nfunction createProxy<T>(\n  ep: Endpoint,\n  path: (string | number | symbol)[] = [],\n  target: object = function () {}\n): Remote<T> {\n  let isProxyReleased = false;\n  const proxy = new Proxy(target, {\n    get(_target, prop) {\n      throwIfProxyReleased(isProxyReleased);\n      if (prop === releaseProxy) {\n        return () => {\n          return requestResponseMessage(ep, {\n            type: MessageType.RELEASE,\n            path: path.map((p) => p.toString()),\n          }).then(() => {\n            closeEndPoint(ep);\n            isProxyReleased = true;\n          });\n        };\n      }\n      if (prop === \"then\") {\n        if (path.length === 0) {\n          return { then: () => proxy };\n        }\n        const r = requestResponseMessage(ep, {\n          type: MessageType.GET,\n          path: path.map((p) => p.toString()),\n        }).then(fromWireValue);\n        return r.then.bind(r);\n      }\n      return createProxy(ep, [...path, prop]);\n    },\n    set(_target, prop, rawValue) {\n      throwIfProxyReleased(isProxyReleased);\n      // FIXME: ES6 Proxy Handler `set` methods are supposed to return a\n      // boolean. To show good will, we return true asynchronously \\_()_/\n      const [value, transferables] = toWireValue(rawValue);\n      return requestResponseMessage(\n        ep,\n        {\n          type: MessageType.SET,\n          path: [...path, prop].map((p) => p.toString()),\n          value,\n        },\n        transferables\n      ).then(fromWireValue) as any;\n    },\n    apply(_target, _thisArg, rawArgumentList) {\n      throwIfProxyReleased(isProxyReleased);\n      const last = path[path.length - 1];\n      if ((last as any) === createEndpoint) {\n        return requestResponseMessage(ep, {\n          type: MessageType.ENDPOINT,\n        }).then(fromWireValue);\n      }\n      // We just pretend that `bind()` didnt happen.\n      if (last === \"bind\") {\n        return createProxy(ep, path.slice(0, -1));\n      }\n      const [argumentList, transferables] = processArguments(rawArgumentList);\n      return requestResponseMessage(\n        ep,\n        {\n          type: MessageType.APPLY,\n          path: path.map((p) => p.toString()),\n          argumentList,\n        },\n        transferables\n      ).then(fromWireValue);\n    },\n    construct(_target, rawArgumentList) {\n      throwIfProxyReleased(isProxyReleased);\n      const [argumentList, transferables] = processArguments(rawArgumentList);\n      return requestResponseMessage(\n        ep,\n        {\n          type: MessageType.CONSTRUCT,\n          path: path.map((p) => p.toString()),\n          argumentList,\n        },\n        transferables\n      ).then(fromWireValue);\n    },\n  });\n  return proxy as any;\n}\n\nfunction myFlat<T>(arr: (T | T[])[]): T[] {\n  return Array.prototype.concat.apply([], arr);\n}\n\nfunction processArguments(argumentList: any[]): [WireValue[], Transferable[]] {\n  const processed = argumentList.map(toWireValue);\n  return [processed.map((v) => v[0]), myFlat(processed.map((v) => v[1]))];\n}\n\nconst transferCache = new WeakMap<any, Transferable[]>();\nexport function transfer<T>(obj: T, transfers: Transferable[]): T {\n  transferCache.set(obj, transfers);\n  return obj;\n}\n\nexport function proxy<T>(obj: T): T & ProxyMarked {\n  return Object.assign(obj, { [proxyMarker]: true }) as any;\n}\n\nexport function windowEndpoint(\n  w: PostMessageWithOrigin,\n  context: EventSource = self,\n  targetOrigin = \"*\"\n): Endpoint {\n  return {\n    postMessage: (msg: any, transferables: Transferable[]) =>\n      w.postMessage(msg, targetOrigin, transferables),\n    addEventListener: context.addEventListener.bind(context),\n    removeEventListener: context.removeEventListener.bind(context),\n  };\n}\n\nfunction toWireValue(value: any): [WireValue, Transferable[]] {\n  for (const [name, handler] of transferHandlers) {\n    if (handler.canHandle(value)) {\n      const [serializedValue, transferables] = handler.serialize(value);\n      return [\n        {\n          type: WireValueType.HANDLER,\n          name,\n          value: serializedValue,\n        },\n        transferables,\n      ];\n    }\n  }\n  return [\n    {\n      type: WireValueType.RAW,\n      value,\n    },\n    transferCache.get(value) || [],\n  ];\n}\n\nfunction fromWireValue(value: WireValue): any {\n  switch (value.type) {\n    case WireValueType.HANDLER:\n      return transferHandlers.get(value.name)!.deserialize(value.value);\n    case WireValueType.RAW:\n      return value.value;\n  }\n}\n\nfunction requestResponseMessage(\n  ep: Endpoint,\n  msg: Message,\n  transfers?: Transferable[]\n): Promise<WireValue> {\n  return new Promise((resolve) => {\n    const id = generateUUID();\n    ep.addEventListener(\"message\", function l(ev: MessageEvent) {\n      if (!ev.data || !ev.data.id || ev.data.id !== id) {\n        return;\n      }\n      ep.removeEventListener(\"message\", l as any);\n      resolve(ev.data);\n    } as any);\n    if (ep.start) {\n      ep.start();\n    }\n    ep.postMessage({ id, ...msg }, transfers);\n  });\n}\n\nfunction generateUUID(): string {\n  return new Array(4)\n    .fill(0)\n    .map(() => Math.floor(Math.random() * Number.MAX_SAFE_INTEGER).toString(16))\n    .join(\"-\");\n}\n","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n      args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","import _setPrototypeOf from \"./_set_prototype_of\";\n\nfunction isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () { }));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    construct = Reflect.construct;\n  } else {\n    construct = function construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) _setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return construct.apply(null, arguments);\n}\n\nexport default function _construct(Parent, args, Class) {\n  return construct.apply(null, arguments);\n}\n","function setPrototypeOf(o, p) {\n  setPrototypeOf = Object.setPrototypeOf || function setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return setPrototypeOf(o, p);\n}\n\nexport default function _setPrototypeOf(o, p) {\n  return setPrototypeOf(o, p);\n}\n","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n","import _isNativeReflectConstruct from \"./_is_native_reflect_construct\";\nimport _getPrototypeOf from \"./_get_prototype_of\";\nimport _possibleConstructorReturn from './_possible_constructor_return';\n\nexport default function _createSuper(Derived) {\n    var hasNativeReflectConstruct = _isNativeReflectConstruct();\n    return function _createSuperInternal() {\n        var Super = _getPrototypeOf(Derived),\n            result;\n        if (hasNativeReflectConstruct) {\n            var NewTarget = _getPrototypeOf(this).constructor;\n            result = Reflect.construct(Super, arguments, NewTarget);\n        } else {\n            result = Super.apply(this, arguments);\n        }\n        return _possibleConstructorReturn(this, result);\n    };\n}","export default function _isNativeReflectConstruct() {\n    if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n    if (Reflect.construct.sham) return false;\n    if (typeof Proxy === \"function\") return true;\n    try {\n        Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { }));\n        return true;\n    } catch (e) {\n        return false;\n    }\n}","function getPrototypeOf(o) {\n  getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return getPrototypeOf(o);\n}\n\nexport default function _getPrototypeOf(o) {\n  return getPrototypeOf(o);\n}","import assertThisInitialized from './_assert_this_initialized';\nimport _typeof from './_type_of';\n\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n","export default function _typeof(obj) {\n    \"@swc/helpers - typeof\";\n    return obj && obj.constructor === Symbol ? \"symbol\" : typeof obj;\n};\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n","import superPropBase from './_super_prop_base';\n\nfunction get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    get = Reflect.get;\n  } else {\n    get = function get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver || target);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return get(target, property, receiver);\n}\n\nexport default function _get(target, property, reciever) {\n  return get(target, property, reciever);\n}\n","import getPrototypeOf from './_get_prototype_of';\n\nexport default function _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n","import setPrototypeOf from './_set_prototype_of';\n\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n","import defineProperty from './_define_property';\n\nexport default function _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}","import arrayWithHoles from './_array_with_holes';\nimport iterableToArrayLimit from './_iterable_to_array';\nimport nonIterableRest from './_non_iterable_rest';\nimport unsupportedIterableToArray from './_unsupported_iterable_to_array';\n\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n","import _arrayLikeToArray from './_array_like_to_array';\n\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))\n    return _arrayLikeToArray(o, minLen);\n}\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\n","export default function _taggedTemplateLiteral(strings, raw) {\n  if (!raw) {\n    raw = strings.slice(0);\n  }\n\n  return Object.freeze(Object.defineProperties(strings, {\n    raw: {\n      value: Object.freeze(raw)\n    }\n  }));\n}\n","import arrayWithoutHoles from './_array_without_holes';\nimport iterableToArray from './_iterable_to_array';\nimport nonIterableSpread from './_non_iterable_spread';\nimport unsupportedIterableToArray from './_unsupported_iterable_to_array';\n\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n","import _arrayLikeToArray from './_array_like_to_array';\n\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n","import construct from './_construct';\nimport isNativeFunction from './_is_native_function';\nimport getPrototypeOf from './_get_prototype_of';\nimport setPrototypeOf from './_set_prototype_of';\n\nfunction wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  wrapNativeSuper = function wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  };\n\n  return wrapNativeSuper(Class);\n}\n\nexport default function _wrapNativeSuper(Class) {\n  return wrapNativeSuper(Class);\n}\n","export default function _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\n","/*\n * Visual Solver for Decision Games\n * Copyright (C) 2021  Manuel Meitinger\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport Ajv, { JSONSchemaType } from 'ajv'\nimport * as Comlink from 'comlink'\nimport { MultiDirectedGraph } from 'graphology'\nimport { SerializedGraph } from 'graphology-types'\n\nconst ajv = new Ajv()\n\nexport interface PlayerInfo {\n  name: string\n  color: string\n}\n\nexport abstract class Game {\n  public abstract load (data: string): void\n  public abstract solve (cb: (graph: SerializedGraph) => void, interval: number): string[]\n  public abstract render (state: string, width: number, height: number): ImageBitmap\n  public abstract renderFallback (state: string, canvas: HTMLCanvasElement): void\n}\n\ninterface NodeAttributes {\n  x: number\n  y: number\n  label: string\n  winning: Set<number>\n  color: string\n  size: number\n}\n\ninterface EdgeAttributes {\n  player: number\n  color: string\n  size: number\n}\n\nexport type RenderingContext = CanvasRenderingContext2D | OffscreenCanvasRenderingContext2D\n\nexport abstract class TypedGame<Setup, State> extends Game {\n  private setup?: Setup\n\n  public load (data: string): void {\n    try {\n      const setup: unknown = JSON.parse(data)\n      if (!ajv.validate(this.schema, setup)) {\n        throw new Error(ajv.errorsText(ajv.errors))\n      }\n      this.setup = setup\n    } catch (error) {\n      delete this.setup\n      throw error\n    }\n  }\n\n  private calculateStrategy (graph: MultiDirectedGraph<NodeAttributes, EdgeAttributes>, initialNode: string, player: number): boolean {\n    const nodesNotInW = new Map<string, number>()\n    const nodesToBeMovedToW = new Set<string>()\n    // initialize in O(|e| + |v|)\n    graph.forEachNode((node, attributes) => { // go over each node\n      if (attributes.winning.has(player)) {\n        nodesToBeMovedToW.add(node) // queue node for later\n      } else {\n        // NB: we don't consider getting stuck as losing (or winning for the others) automatically but leave it up to the game\n        nodesNotInW.set(\n          node,\n          graph.reduceOutEdges( // go over each node's outgoing edge (necessary to calculate the out-degree)\n            node,\n            (v, _, attributes) => attributes.player === player ? v : (v + 1), 0\n          )\n        )\n      }\n    })\n    const nodesInW = new Set<string>()\n    const strategyEdges = new Set<string>() // used for output, not part of the solving algorithm\n    // fix-point algorithm in O(|e| + |v|)\n    while (nodesToBeMovedToW.size > 0) {\n      for (const node of nodesToBeMovedToW) { // go over each node in the queue\n        nodesToBeMovedToW.delete(node)\n        console.assert(!nodesInW.has(node)) // no node is visited twice\n        nodesInW.add(node)\n        graph.forEachInEdge(node, (edge, attributes, sourceNode) => { // go over each node's incoming edge\n          if (attributes.player === player) {\n            if (nodesNotInW.delete(sourceNode)) {\n              nodesToBeMovedToW.add(sourceNode)\n              strategyEdges.add(edge)\n            }\n          } else {\n            const v = nodesNotInW.get(sourceNode)\n            if (v !== undefined) {\n              if (v > 1) {\n                nodesNotInW.set(sourceNode, v - 1)\n              } else {\n                nodesNotInW.delete(sourceNode)\n                nodesToBeMovedToW.add(sourceNode)\n              }\n            }\n          }\n        })\n      }\n    }\n    // highlight the winning strategy\n    if (nodesInW.has(initialNode)) {\n      strategyEdges.forEach(edge => graph.setEdgeAttribute(edge, 'size', 3))\n      return true\n    }\n    return false\n  }\n\n  public solve (cb: (graph: SerializedGraph) => void, interval: number): string[] {\n    let nextTime = new Date().valueOf() + interval\n    const graph = new MultiDirectedGraph<NodeAttributes, EdgeAttributes>()\n    const players = this.getPlayers()\n    const pendingStates = [] as Array<[number, number, string, State]>\n    const callbackIfItsTime = (): void => {\n      const currentTime = new Date().valueOf()\n      if (currentTime > nextTime) {\n        nextTime = currentTime + interval\n        cb(graph.export())\n      }\n    }\n    const addState = (x: number, y: number, name: string, state: State): void => {\n      const winning = new Set(this.getWinningPlayersFromState(state))\n      graph.addNode(name, { x, y, label: name, winning, color: '#aaa', size: winning.size > 0 ? 4 : 2 })\n      pendingStates.push([x, y, name, state])\n    }\n    const initialState = this.getInitialState()\n    const initialNode = this.encodeState(initialState)\n    addState(0, 0, initialNode, initialState)\n    graph.setNodeAttribute(initialNode, 'color', '#000')\n    graph.setNodeAttribute(initialNode, 'size', 6)\n    while (true) {\n      const popped = pendingStates.pop()\n      if (popped === undefined) {\n        break\n      }\n      const [x, y, name, state] = popped\n      let offset = 0\n      for (const [player, nextStates] of this.getNextStates(state)) {\n        const playerInfo = players[player]\n        if (playerInfo === undefined) {\n          throw new Error(`Player '${player}' is undefined.`)\n        }\n        for (const nextState of nextStates) {\n          const nextName = this.encodeState(nextState)\n          if (!graph.hasNode(nextName)) {\n            addState(x + 1, y + ++offset, nextName, nextState)\n          }\n          graph.addEdge(name, nextName, { player, color: playerInfo.color, size: 1 })\n        }\n      }\n      callbackIfItsTime()\n    }\n    const winningPlayers = players.filter((_, i) => {\n      if (this.calculateStrategy(graph, initialNode, i)) {\n        callbackIfItsTime()\n        return true\n      } else {\n        return false\n      }\n    })\n    cb(graph.export())\n    return winningPlayers.map(player => player.name)\n  }\n\n  private getRenderingContext (canvas: OffscreenCanvas | HTMLCanvasElement): RenderingContext {\n    const ctx = canvas.getContext('2d')\n    if (ctx == null) {\n      throw new Error('Couldn\\'t create 2D rendering context.')\n    }\n    ctx.beginPath()\n    ctx.fillStyle = 'white'\n    ctx.fillRect(0, 0, canvas.width, canvas.height)\n    return ctx\n  }\n\n  public render (state: string, width: number, height: number): ImageBitmap {\n    const canvas = new OffscreenCanvas(width, height)\n    this.renderState(this.decodeState(state), width, height, this.getRenderingContext(canvas))\n    const bitmap = canvas.transferToImageBitmap()\n    return Comlink.transfer(bitmap, [bitmap])\n  }\n\n  public renderFallback (state: string, canvas: HTMLCanvasElement): void {\n    this.renderState(this.decodeState(state), canvas.width, canvas.height, this.getRenderingContext(canvas))\n  }\n\n  protected getSetup (): Setup {\n    if (this.setup === undefined) {\n      throw new Error('Game not yet loaded.')\n    }\n    return this.setup\n  }\n\n  protected abstract readonly schema: JSONSchemaType<Setup>\n  protected abstract getPlayers (): PlayerInfo[]\n  protected abstract encodeState (state: State): string\n  protected abstract decodeState (encodedState: string): State\n  protected abstract getInitialState (): State\n  protected abstract getNextStates (state: State): Iterable<[number, Iterable<State>]>\n  protected abstract getWinningPlayersFromState (state: State): Iterable<number>\n  protected abstract renderState (state: State, width: number, height: number, ctx: RenderingContext): void\n}\n\nexport interface GameMetaData {\n  label: string\n  hasArena: boolean\n  instance: Game\n  createWorker: () => Worker\n  fileName: string\n  schema: unknown\n  setup: unknown\n}\n\nexport interface TypedGameMetaData<T> extends GameMetaData {\n  instance: TypedGame<T, unknown>\n  schema: JSONSchemaType<T>\n  setup: T\n}\n\nexport function isWorker (): boolean {\n  return typeof importScripts === 'function'\n}\n","import type {AnySchemaObject} from \"./types\"\nimport AjvCore from \"./core\"\nimport draft7Vocabularies from \"./vocabularies/draft7\"\nimport discriminator from \"./vocabularies/discriminator\"\nimport * as draft7MetaSchema from \"./refs/json-schema-draft-07.json\"\n\nconst META_SUPPORT_DATA = [\"/properties\"]\n\nconst META_SCHEMA_ID = \"http://json-schema.org/draft-07/schema\"\n\nclass Ajv extends AjvCore {\n  _addVocabularies(): void {\n    super._addVocabularies()\n    draft7Vocabularies.forEach((v) => this.addVocabulary(v))\n    if (this.opts.discriminator) this.addKeyword(discriminator)\n  }\n\n  _addDefaultMetaSchema(): void {\n    super._addDefaultMetaSchema()\n    if (!this.opts.meta) return\n    const metaSchema = this.opts.$data\n      ? this.$dataMetaSchema(draft7MetaSchema, META_SUPPORT_DATA)\n      : draft7MetaSchema\n    this.addMetaSchema(metaSchema, META_SCHEMA_ID, false)\n    this.refs[\"http://json-schema.org/schema\"] = META_SCHEMA_ID\n  }\n\n  defaultMeta(): string | AnySchemaObject | undefined {\n    return (this.opts.defaultMeta =\n      super.defaultMeta() || (this.getSchema(META_SCHEMA_ID) ? META_SCHEMA_ID : undefined))\n  }\n}\n\nmodule.exports = exports = Ajv\nObject.defineProperty(exports, \"__esModule\", {value: true})\n\nexport default Ajv\n\nexport {\n  Format,\n  FormatDefinition,\n  AsyncFormatDefinition,\n  KeywordDefinition,\n  KeywordErrorDefinition,\n  CodeKeywordDefinition,\n  MacroKeywordDefinition,\n  FuncKeywordDefinition,\n  Vocabulary,\n  Schema,\n  SchemaObject,\n  AnySchemaObject,\n  AsyncSchema,\n  AnySchema,\n  ValidateFunction,\n  AsyncValidateFunction,\n  SchemaValidateFunction,\n  ErrorObject,\n  ErrorNoParams,\n} from \"./types\"\n\nexport {Plugin, Options, CodeOptions, InstanceOptions, Logger, ErrorsTextOptions} from \"./core\"\nexport {SchemaCxt, SchemaObjCxt} from \"./compile\"\nexport {KeywordCxt} from \"./compile/validate\"\nexport {DefinedError} from \"./vocabularies/errors\"\nexport {JSONType} from \"./compile/rules\"\nexport {JSONSchemaType} from \"./types/json-schema\"\nexport {_, str, stringify, nil, Name, Code, CodeGen, CodeGenOptions} from \"./compile/codegen\"\n","export {\n  Format,\n  FormatDefinition,\n  AsyncFormatDefinition,\n  KeywordDefinition,\n  KeywordErrorDefinition,\n  CodeKeywordDefinition,\n  MacroKeywordDefinition,\n  FuncKeywordDefinition,\n  Vocabulary,\n  Schema,\n  SchemaObject,\n  AnySchemaObject,\n  AsyncSchema,\n  AnySchema,\n  ValidateFunction,\n  AsyncValidateFunction,\n  AnyValidateFunction,\n  ErrorObject,\n  ErrorNoParams,\n} from \"./types\"\n\nexport {SchemaCxt, SchemaObjCxt} from \"./compile\"\nexport interface Plugin<Opts> {\n  (ajv: Ajv, options?: Opts): Ajv\n  [prop: string]: any\n}\n\nexport {KeywordCxt} from \"./compile/validate\"\nexport {DefinedError} from \"./vocabularies/errors\"\nexport {JSONType} from \"./compile/rules\"\nexport {JSONSchemaType} from \"./types/json-schema\"\nexport {JTDSchemaType, SomeJTDSchemaType, JTDDataType} from \"./types/jtd-schema\"\nexport {_, str, stringify, nil, Name, Code, CodeGen, CodeGenOptions} from \"./compile/codegen\"\n\nimport type {\n  Schema,\n  AnySchema,\n  AnySchemaObject,\n  SchemaObject,\n  AsyncSchema,\n  Vocabulary,\n  KeywordDefinition,\n  AddedKeywordDefinition,\n  AnyValidateFunction,\n  ValidateFunction,\n  AsyncValidateFunction,\n  ErrorObject,\n  Format,\n  AddedFormat,\n  RegExpEngine,\n  UriResolver,\n} from \"./types\"\nimport type {JSONSchemaType} from \"./types/json-schema\"\nimport type {JTDSchemaType, SomeJTDSchemaType, JTDDataType} from \"./types/jtd-schema\"\nimport ValidationError from \"./runtime/validation_error\"\nimport MissingRefError from \"./compile/ref_error\"\nimport {getRules, ValidationRules, Rule, RuleGroup, JSONType} from \"./compile/rules\"\nimport {SchemaEnv, compileSchema, resolveSchema} from \"./compile\"\nimport {Code, ValueScope} from \"./compile/codegen\"\nimport {normalizeId, getSchemaRefs} from \"./compile/resolve\"\nimport {getJSONTypes} from \"./compile/validate/dataType\"\nimport {eachItem} from \"./compile/util\"\nimport * as $dataRefSchema from \"./refs/data.json\"\n\nimport DefaultUriResolver from \"./runtime/uri\"\n\nconst defaultRegExp: RegExpEngine = (str, flags) => new RegExp(str, flags)\ndefaultRegExp.code = \"new RegExp\"\n\nconst META_IGNORE_OPTIONS: (keyof Options)[] = [\"removeAdditional\", \"useDefaults\", \"coerceTypes\"]\nconst EXT_SCOPE_NAMES = new Set([\n  \"validate\",\n  \"serialize\",\n  \"parse\",\n  \"wrapper\",\n  \"root\",\n  \"schema\",\n  \"keyword\",\n  \"pattern\",\n  \"formats\",\n  \"validate$data\",\n  \"func\",\n  \"obj\",\n  \"Error\",\n])\n\nexport type Options = CurrentOptions & DeprecatedOptions\n\nexport interface CurrentOptions {\n  // strict mode options (NEW)\n  strict?: boolean | \"log\"\n  strictSchema?: boolean | \"log\"\n  strictNumbers?: boolean | \"log\"\n  strictTypes?: boolean | \"log\"\n  strictTuples?: boolean | \"log\"\n  strictRequired?: boolean | \"log\"\n  allowMatchingProperties?: boolean // disables a strict mode restriction\n  allowUnionTypes?: boolean\n  validateFormats?: boolean\n  // validation and reporting options:\n  $data?: boolean\n  allErrors?: boolean\n  verbose?: boolean\n  discriminator?: boolean\n  unicodeRegExp?: boolean\n  timestamp?: \"string\" | \"date\" // JTD only\n  parseDate?: boolean // JTD only\n  allowDate?: boolean // JTD only\n  $comment?:\n    | true\n    | ((comment: string, schemaPath?: string, rootSchema?: AnySchemaObject) => unknown)\n  formats?: {[Name in string]?: Format}\n  keywords?: Vocabulary\n  schemas?: AnySchema[] | {[Key in string]?: AnySchema}\n  logger?: Logger | false\n  loadSchema?: (uri: string) => Promise<AnySchemaObject>\n  // options to modify validated data:\n  removeAdditional?: boolean | \"all\" | \"failing\"\n  useDefaults?: boolean | \"empty\"\n  coerceTypes?: boolean | \"array\"\n  // advanced options:\n  next?: boolean // NEW\n  unevaluated?: boolean // NEW\n  dynamicRef?: boolean // NEW\n  schemaId?: \"id\" | \"$id\"\n  jtd?: boolean // NEW\n  meta?: SchemaObject | boolean\n  defaultMeta?: string | AnySchemaObject\n  validateSchema?: boolean | \"log\"\n  addUsedSchema?: boolean\n  inlineRefs?: boolean | number\n  passContext?: boolean\n  loopRequired?: number\n  loopEnum?: number // NEW\n  ownProperties?: boolean\n  multipleOfPrecision?: number\n  int32range?: boolean // JTD only\n  messages?: boolean\n  code?: CodeOptions // NEW\n  uriResolver?: UriResolver\n}\n\nexport interface CodeOptions {\n  es5?: boolean\n  esm?: boolean\n  lines?: boolean\n  optimize?: boolean | number\n  formats?: Code // code to require (or construct) map of available formats - for standalone code\n  source?: boolean\n  process?: (code: string, schema?: SchemaEnv) => string\n  regExp?: RegExpEngine\n}\n\ninterface InstanceCodeOptions extends CodeOptions {\n  regExp: RegExpEngine\n  optimize: number\n}\n\ninterface DeprecatedOptions {\n  /** @deprecated */\n  ignoreKeywordsWithRef?: boolean\n  /** @deprecated */\n  jsPropertySyntax?: boolean // added instead of jsonPointers\n  /** @deprecated */\n  unicode?: boolean\n}\n\ninterface RemovedOptions {\n  format?: boolean\n  errorDataPath?: \"object\" | \"property\"\n  nullable?: boolean // \"nullable\" keyword is supported by default\n  jsonPointers?: boolean\n  extendRefs?: true | \"ignore\" | \"fail\"\n  missingRefs?: true | \"ignore\" | \"fail\"\n  processCode?: (code: string, schema?: SchemaEnv) => string\n  sourceCode?: boolean\n  strictDefaults?: boolean\n  strictKeywords?: boolean\n  uniqueItems?: boolean\n  unknownFormats?: true | string[] | \"ignore\"\n  cache?: any\n  serialize?: (schema: AnySchema) => unknown\n  ajvErrors?: boolean\n}\n\ntype OptionsInfo<T extends RemovedOptions | DeprecatedOptions> = {\n  [K in keyof T]-?: string | undefined\n}\n\nconst removedOptions: OptionsInfo<RemovedOptions> = {\n  errorDataPath: \"\",\n  format: \"`validateFormats: false` can be used instead.\",\n  nullable: '\"nullable\" keyword is supported by default.',\n  jsonPointers: \"Deprecated jsPropertySyntax can be used instead.\",\n  extendRefs: \"Deprecated ignoreKeywordsWithRef can be used instead.\",\n  missingRefs: \"Pass empty schema with $id that should be ignored to ajv.addSchema.\",\n  processCode: \"Use option `code: {process: (code, schemaEnv: object) => string}`\",\n  sourceCode: \"Use option `code: {source: true}`\",\n  strictDefaults: \"It is default now, see option `strict`.\",\n  strictKeywords: \"It is default now, see option `strict`.\",\n  uniqueItems: '\"uniqueItems\" keyword is always validated.',\n  unknownFormats: \"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).\",\n  cache: \"Map is used as cache, schema object as key.\",\n  serialize: \"Map is used as cache, schema object as key.\",\n  ajvErrors: \"It is default now.\",\n}\n\nconst deprecatedOptions: OptionsInfo<DeprecatedOptions> = {\n  ignoreKeywordsWithRef: \"\",\n  jsPropertySyntax: \"\",\n  unicode: '\"minLength\"/\"maxLength\" account for unicode characters by default.',\n}\n\ntype RequiredInstanceOptions = {\n  [K in\n    | \"strictSchema\"\n    | \"strictNumbers\"\n    | \"strictTypes\"\n    | \"strictTuples\"\n    | \"strictRequired\"\n    | \"inlineRefs\"\n    | \"loopRequired\"\n    | \"loopEnum\"\n    | \"meta\"\n    | \"messages\"\n    | \"schemaId\"\n    | \"addUsedSchema\"\n    | \"validateSchema\"\n    | \"validateFormats\"\n    | \"int32range\"\n    | \"unicodeRegExp\"\n    | \"uriResolver\"]: NonNullable<Options[K]>\n} & {code: InstanceCodeOptions}\n\nexport type InstanceOptions = Options & RequiredInstanceOptions\n\nconst MAX_EXPRESSION = 200\n\n// eslint-disable-next-line complexity\nfunction requiredOptions(o: Options): RequiredInstanceOptions {\n  const s = o.strict\n  const _optz = o.code?.optimize\n  const optimize = _optz === true || _optz === undefined ? 1 : _optz || 0\n  const regExp = o.code?.regExp ?? defaultRegExp\n  const uriResolver = o.uriResolver ?? DefaultUriResolver\n  return {\n    strictSchema: o.strictSchema ?? s ?? true,\n    strictNumbers: o.strictNumbers ?? s ?? true,\n    strictTypes: o.strictTypes ?? s ?? \"log\",\n    strictTuples: o.strictTuples ?? s ?? \"log\",\n    strictRequired: o.strictRequired ?? s ?? false,\n    code: o.code ? {...o.code, optimize, regExp} : {optimize, regExp},\n    loopRequired: o.loopRequired ?? MAX_EXPRESSION,\n    loopEnum: o.loopEnum ?? MAX_EXPRESSION,\n    meta: o.meta ?? true,\n    messages: o.messages ?? true,\n    inlineRefs: o.inlineRefs ?? true,\n    schemaId: o.schemaId ?? \"$id\",\n    addUsedSchema: o.addUsedSchema ?? true,\n    validateSchema: o.validateSchema ?? true,\n    validateFormats: o.validateFormats ?? true,\n    unicodeRegExp: o.unicodeRegExp ?? true,\n    int32range: o.int32range ?? true,\n    uriResolver: uriResolver,\n  }\n}\n\nexport interface Logger {\n  log(...args: unknown[]): unknown\n  warn(...args: unknown[]): unknown\n  error(...args: unknown[]): unknown\n}\n\nexport default class Ajv {\n  opts: InstanceOptions\n  errors?: ErrorObject[] | null // errors from the last validation\n  logger: Logger\n  // shared external scope values for compiled functions\n  readonly scope: ValueScope\n  readonly schemas: {[Key in string]?: SchemaEnv} = {}\n  readonly refs: {[Ref in string]?: SchemaEnv | string} = {}\n  readonly formats: {[Name in string]?: AddedFormat} = {}\n  readonly RULES: ValidationRules\n  readonly _compilations: Set<SchemaEnv> = new Set()\n  private readonly _loading: {[Ref in string]?: Promise<AnySchemaObject>} = {}\n  private readonly _cache: Map<AnySchema, SchemaEnv> = new Map()\n  private readonly _metaOpts: InstanceOptions\n\n  static ValidationError = ValidationError\n  static MissingRefError = MissingRefError\n\n  constructor(opts: Options = {}) {\n    opts = this.opts = {...opts, ...requiredOptions(opts)}\n    const {es5, lines} = this.opts.code\n\n    this.scope = new ValueScope({scope: {}, prefixes: EXT_SCOPE_NAMES, es5, lines})\n    this.logger = getLogger(opts.logger)\n    const formatOpt = opts.validateFormats\n    opts.validateFormats = false\n\n    this.RULES = getRules()\n    checkOptions.call(this, removedOptions, opts, \"NOT SUPPORTED\")\n    checkOptions.call(this, deprecatedOptions, opts, \"DEPRECATED\", \"warn\")\n    this._metaOpts = getMetaSchemaOptions.call(this)\n\n    if (opts.formats) addInitialFormats.call(this)\n    this._addVocabularies()\n    this._addDefaultMetaSchema()\n    if (opts.keywords) addInitialKeywords.call(this, opts.keywords)\n    if (typeof opts.meta == \"object\") this.addMetaSchema(opts.meta)\n    addInitialSchemas.call(this)\n    opts.validateFormats = formatOpt\n  }\n\n  _addVocabularies(): void {\n    this.addKeyword(\"$async\")\n  }\n\n  _addDefaultMetaSchema(): void {\n    const {$data, meta, schemaId} = this.opts\n    let _dataRefSchema: SchemaObject = $dataRefSchema\n    if (schemaId === \"id\") {\n      _dataRefSchema = {...$dataRefSchema}\n      _dataRefSchema.id = _dataRefSchema.$id\n      delete _dataRefSchema.$id\n    }\n    if (meta && $data) this.addMetaSchema(_dataRefSchema, _dataRefSchema[schemaId], false)\n  }\n\n  defaultMeta(): string | AnySchemaObject | undefined {\n    const {meta, schemaId} = this.opts\n    return (this.opts.defaultMeta = typeof meta == \"object\" ? meta[schemaId] || meta : undefined)\n  }\n\n  // Validate data using schema\n  // AnySchema will be compiled and cached using schema itself as a key for Map\n  validate(schema: Schema | string, data: unknown): boolean\n  validate(schemaKeyRef: AnySchema | string, data: unknown): boolean | Promise<unknown>\n  validate<T>(schema: Schema | JSONSchemaType<T> | string, data: unknown): data is T\n  // Separated for type inference to work\n  // eslint-disable-next-line @typescript-eslint/unified-signatures\n  validate<T>(schema: JTDSchemaType<T>, data: unknown): data is T\n  // This overload is only intended for typescript inference, the first\n  // argument prevents manual type annotation from matching this overload\n  validate<N extends never, T extends SomeJTDSchemaType>(\n    schema: T,\n    data: unknown\n  ): data is JTDDataType<T>\n  validate<T>(schema: AsyncSchema, data: unknown | T): Promise<T>\n  validate<T>(schemaKeyRef: AnySchema | string, data: unknown): data is T | Promise<T>\n  validate<T>(\n    schemaKeyRef: AnySchema | string, // key, ref or schema object\n    data: unknown | T // to be validated\n  ): boolean | Promise<T> {\n    let v: AnyValidateFunction | undefined\n    if (typeof schemaKeyRef == \"string\") {\n      v = this.getSchema<T>(schemaKeyRef)\n      if (!v) throw new Error(`no schema with key or ref \"${schemaKeyRef}\"`)\n    } else {\n      v = this.compile<T>(schemaKeyRef)\n    }\n\n    const valid = v(data)\n    if (!(\"$async\" in v)) this.errors = v.errors\n    return valid\n  }\n\n  // Create validation function for passed schema\n  // _meta: true if schema is a meta-schema. Used internally to compile meta schemas of user-defined keywords.\n  compile<T = unknown>(schema: Schema | JSONSchemaType<T>, _meta?: boolean): ValidateFunction<T>\n  // Separated for type inference to work\n  // eslint-disable-next-line @typescript-eslint/unified-signatures\n  compile<T = unknown>(schema: JTDSchemaType<T>, _meta?: boolean): ValidateFunction<T>\n  // This overload is only intended for typescript inference, the first\n  // argument prevents manual type annotation from matching this overload\n  compile<N extends never, T extends SomeJTDSchemaType>(\n    schema: T,\n    _meta?: boolean\n  ): ValidateFunction<JTDDataType<T>>\n  compile<T = unknown>(schema: AsyncSchema, _meta?: boolean): AsyncValidateFunction<T>\n  compile<T = unknown>(schema: AnySchema, _meta?: boolean): AnyValidateFunction<T>\n  compile<T = unknown>(schema: AnySchema, _meta?: boolean): AnyValidateFunction<T> {\n    const sch = this._addSchema(schema, _meta)\n    return (sch.validate || this._compileSchemaEnv(sch)) as AnyValidateFunction<T>\n  }\n\n  // Creates validating function for passed schema with asynchronous loading of missing schemas.\n  // `loadSchema` option should be a function that accepts schema uri and returns promise that resolves with the schema.\n  // TODO allow passing schema URI\n  // meta - optional true to compile meta-schema\n  compileAsync<T = unknown>(\n    schema: SchemaObject | JSONSchemaType<T>,\n    _meta?: boolean\n  ): Promise<ValidateFunction<T>>\n  // Separated for type inference to work\n  // eslint-disable-next-line @typescript-eslint/unified-signatures\n  compileAsync<T = unknown>(schema: JTDSchemaType<T>, _meta?: boolean): Promise<ValidateFunction<T>>\n  compileAsync<T = unknown>(schema: AsyncSchema, meta?: boolean): Promise<AsyncValidateFunction<T>>\n  // eslint-disable-next-line @typescript-eslint/unified-signatures\n  compileAsync<T = unknown>(\n    schema: AnySchemaObject,\n    meta?: boolean\n  ): Promise<AnyValidateFunction<T>>\n  compileAsync<T = unknown>(\n    schema: AnySchemaObject,\n    meta?: boolean\n  ): Promise<AnyValidateFunction<T>> {\n    if (typeof this.opts.loadSchema != \"function\") {\n      throw new Error(\"options.loadSchema should be a function\")\n    }\n    const {loadSchema} = this.opts\n    return runCompileAsync.call(this, schema, meta)\n\n    async function runCompileAsync(\n      this: Ajv,\n      _schema: AnySchemaObject,\n      _meta?: boolean\n    ): Promise<AnyValidateFunction> {\n      await loadMetaSchema.call(this, _schema.$schema)\n      const sch = this._addSchema(_schema, _meta)\n      return sch.validate || _compileAsync.call(this, sch)\n    }\n\n    async function loadMetaSchema(this: Ajv, $ref?: string): Promise<void> {\n      if ($ref && !this.getSchema($ref)) {\n        await runCompileAsync.call(this, {$ref}, true)\n      }\n    }\n\n    async function _compileAsync(this: Ajv, sch: SchemaEnv): Promise<AnyValidateFunction> {\n      try {\n        return this._compileSchemaEnv(sch)\n      } catch (e) {\n        if (!(e instanceof MissingRefError)) throw e\n        checkLoaded.call(this, e)\n        await loadMissingSchema.call(this, e.missingSchema)\n        return _compileAsync.call(this, sch)\n      }\n    }\n\n    function checkLoaded(this: Ajv, {missingSchema: ref, missingRef}: MissingRefError): void {\n      if (this.refs[ref]) {\n        throw new Error(`AnySchema ${ref} is loaded but ${missingRef} cannot be resolved`)\n      }\n    }\n\n    async function loadMissingSchema(this: Ajv, ref: string): Promise<void> {\n      const _schema = await _loadSchema.call(this, ref)\n      if (!this.refs[ref]) await loadMetaSchema.call(this, _schema.$schema)\n      if (!this.refs[ref]) this.addSchema(_schema, ref, meta)\n    }\n\n    async function _loadSchema(this: Ajv, ref: string): Promise<AnySchemaObject> {\n      const p = this._loading[ref]\n      if (p) return p\n      try {\n        return await (this._loading[ref] = loadSchema(ref))\n      } finally {\n        delete this._loading[ref]\n      }\n    }\n  }\n\n  // Adds schema to the instance\n  addSchema(\n    schema: AnySchema | AnySchema[], // If array is passed, `key` will be ignored\n    key?: string, // Optional schema key. Can be passed to `validate` method instead of schema object or id/ref. One schema per instance can have empty `id` and `key`.\n    _meta?: boolean, // true if schema is a meta-schema. Used internally, addMetaSchema should be used instead.\n    _validateSchema = this.opts.validateSchema // false to skip schema validation. Used internally, option validateSchema should be used instead.\n  ): Ajv {\n    if (Array.isArray(schema)) {\n      for (const sch of schema) this.addSchema(sch, undefined, _meta, _validateSchema)\n      return this\n    }\n    let id: string | undefined\n    if (typeof schema === \"object\") {\n      const {schemaId} = this.opts\n      id = schema[schemaId]\n      if (id !== undefined && typeof id != \"string\") {\n        throw new Error(`schema ${schemaId} must be string`)\n      }\n    }\n    key = normalizeId(key || id)\n    this._checkUnique(key)\n    this.schemas[key] = this._addSchema(schema, _meta, key, _validateSchema, true)\n    return this\n  }\n\n  // Add schema that will be used to validate other schemas\n  // options in META_IGNORE_OPTIONS are alway set to false\n  addMetaSchema(\n    schema: AnySchemaObject,\n    key?: string, // schema key\n    _validateSchema = this.opts.validateSchema // false to skip schema validation, can be used to override validateSchema option for meta-schema\n  ): Ajv {\n    this.addSchema(schema, key, true, _validateSchema)\n    return this\n  }\n\n  //  Validate schema against its meta-schema\n  validateSchema(schema: AnySchema, throwOrLogError?: boolean): boolean | Promise<unknown> {\n    if (typeof schema == \"boolean\") return true\n    let $schema: string | AnySchemaObject | undefined\n    $schema = schema.$schema\n    if ($schema !== undefined && typeof $schema != \"string\") {\n      throw new Error(\"$schema must be a string\")\n    }\n    $schema = $schema || this.opts.defaultMeta || this.defaultMeta()\n    if (!$schema) {\n      this.logger.warn(\"meta-schema not available\")\n      this.errors = null\n      return true\n    }\n    const valid = this.validate($schema, schema)\n    if (!valid && throwOrLogError) {\n      const message = \"schema is invalid: \" + this.errorsText()\n      if (this.opts.validateSchema === \"log\") this.logger.error(message)\n      else throw new Error(message)\n    }\n    return valid\n  }\n\n  // Get compiled schema by `key` or `ref`.\n  // (`key` that was passed to `addSchema` or full schema reference - `schema.$id` or resolved id)\n  getSchema<T = unknown>(keyRef: string): AnyValidateFunction<T> | undefined {\n    let sch\n    while (typeof (sch = getSchEnv.call(this, keyRef)) == \"string\") keyRef = sch\n    if (sch === undefined) {\n      const {schemaId} = this.opts\n      const root = new SchemaEnv({schema: {}, schemaId})\n      sch = resolveSchema.call(this, root, keyRef)\n      if (!sch) return\n      this.refs[keyRef] = sch\n    }\n    return (sch.validate || this._compileSchemaEnv(sch)) as AnyValidateFunction<T> | undefined\n  }\n\n  // Remove cached schema(s).\n  // If no parameter is passed all schemas but meta-schemas are removed.\n  // If RegExp is passed all schemas with key/id matching pattern but meta-schemas are removed.\n  // Even if schema is referenced by other schemas it still can be removed as other schemas have local references.\n  removeSchema(schemaKeyRef?: AnySchema | string | RegExp): Ajv {\n    if (schemaKeyRef instanceof RegExp) {\n      this._removeAllSchemas(this.schemas, schemaKeyRef)\n      this._removeAllSchemas(this.refs, schemaKeyRef)\n      return this\n    }\n    switch (typeof schemaKeyRef) {\n      case \"undefined\":\n        this._removeAllSchemas(this.schemas)\n        this._removeAllSchemas(this.refs)\n        this._cache.clear()\n        return this\n      case \"string\": {\n        const sch = getSchEnv.call(this, schemaKeyRef)\n        if (typeof sch == \"object\") this._cache.delete(sch.schema)\n        delete this.schemas[schemaKeyRef]\n        delete this.refs[schemaKeyRef]\n        return this\n      }\n      case \"object\": {\n        const cacheKey = schemaKeyRef\n        this._cache.delete(cacheKey)\n        let id = schemaKeyRef[this.opts.schemaId]\n        if (id) {\n          id = normalizeId(id)\n          delete this.schemas[id]\n          delete this.refs[id]\n        }\n        return this\n      }\n      default:\n        throw new Error(\"ajv.removeSchema: invalid parameter\")\n    }\n  }\n\n  // add \"vocabulary\" - a collection of keywords\n  addVocabulary(definitions: Vocabulary): Ajv {\n    for (const def of definitions) this.addKeyword(def)\n    return this\n  }\n\n  addKeyword(\n    kwdOrDef: string | KeywordDefinition,\n    def?: KeywordDefinition // deprecated\n  ): Ajv {\n    let keyword: string | string[]\n    if (typeof kwdOrDef == \"string\") {\n      keyword = kwdOrDef\n      if (typeof def == \"object\") {\n        this.logger.warn(\"these parameters are deprecated, see docs for addKeyword\")\n        def.keyword = keyword\n      }\n    } else if (typeof kwdOrDef == \"object\" && def === undefined) {\n      def = kwdOrDef\n      keyword = def.keyword\n      if (Array.isArray(keyword) && !keyword.length) {\n        throw new Error(\"addKeywords: keyword must be string or non-empty array\")\n      }\n    } else {\n      throw new Error(\"invalid addKeywords parameters\")\n    }\n\n    checkKeyword.call(this, keyword, def)\n    if (!def) {\n      eachItem(keyword, (kwd) => addRule.call(this, kwd))\n      return this\n    }\n    keywordMetaschema.call(this, def)\n    const definition: AddedKeywordDefinition = {\n      ...def,\n      type: getJSONTypes(def.type),\n      schemaType: getJSONTypes(def.schemaType),\n    }\n    eachItem(\n      keyword,\n      definition.type.length === 0\n        ? (k) => addRule.call(this, k, definition)\n        : (k) => definition.type.forEach((t) => addRule.call(this, k, definition, t))\n    )\n    return this\n  }\n\n  getKeyword(keyword: string): AddedKeywordDefinition | boolean {\n    const rule = this.RULES.all[keyword]\n    return typeof rule == \"object\" ? rule.definition : !!rule\n  }\n\n  // Remove keyword\n  removeKeyword(keyword: string): Ajv {\n    // TODO return type should be Ajv\n    const {RULES} = this\n    delete RULES.keywords[keyword]\n    delete RULES.all[keyword]\n    for (const group of RULES.rules) {\n      const i = group.rules.findIndex((rule) => rule.keyword === keyword)\n      if (i >= 0) group.rules.splice(i, 1)\n    }\n    return this\n  }\n\n  // Add format\n  addFormat(name: string, format: Format): Ajv {\n    if (typeof format == \"string\") format = new RegExp(format)\n    this.formats[name] = format\n    return this\n  }\n\n  errorsText(\n    errors: ErrorObject[] | null | undefined = this.errors, // optional array of validation errors\n    {separator = \", \", dataVar = \"data\"}: ErrorsTextOptions = {} // optional options with properties `separator` and `dataVar`\n  ): string {\n    if (!errors || errors.length === 0) return \"No errors\"\n    return errors\n      .map((e) => `${dataVar}${e.instancePath} ${e.message}`)\n      .reduce((text, msg) => text + separator + msg)\n  }\n\n  $dataMetaSchema(metaSchema: AnySchemaObject, keywordsJsonPointers: string[]): AnySchemaObject {\n    const rules = this.RULES.all\n    metaSchema = JSON.parse(JSON.stringify(metaSchema))\n    for (const jsonPointer of keywordsJsonPointers) {\n      const segments = jsonPointer.split(\"/\").slice(1) // first segment is an empty string\n      let keywords = metaSchema\n      for (const seg of segments) keywords = keywords[seg] as AnySchemaObject\n\n      for (const key in rules) {\n        const rule = rules[key]\n        if (typeof rule != \"object\") continue\n        const {$data} = rule.definition\n        const schema = keywords[key] as AnySchemaObject | undefined\n        if ($data && schema) keywords[key] = schemaOrData(schema)\n      }\n    }\n\n    return metaSchema\n  }\n\n  private _removeAllSchemas(schemas: {[Ref in string]?: SchemaEnv | string}, regex?: RegExp): void {\n    for (const keyRef in schemas) {\n      const sch = schemas[keyRef]\n      if (!regex || regex.test(keyRef)) {\n        if (typeof sch == \"string\") {\n          delete schemas[keyRef]\n        } else if (sch && !sch.meta) {\n          this._cache.delete(sch.schema)\n          delete schemas[keyRef]\n        }\n      }\n    }\n  }\n\n  _addSchema(\n    schema: AnySchema,\n    meta?: boolean,\n    baseId?: string,\n    validateSchema = this.opts.validateSchema,\n    addSchema = this.opts.addUsedSchema\n  ): SchemaEnv {\n    let id: string | undefined\n    const {schemaId} = this.opts\n    if (typeof schema == \"object\") {\n      id = schema[schemaId]\n    } else {\n      if (this.opts.jtd) throw new Error(\"schema must be object\")\n      else if (typeof schema != \"boolean\") throw new Error(\"schema must be object or boolean\")\n    }\n    let sch = this._cache.get(schema)\n    if (sch !== undefined) return sch\n\n    baseId = normalizeId(id || baseId)\n    const localRefs = getSchemaRefs.call(this, schema, baseId)\n    sch = new SchemaEnv({schema, schemaId, meta, baseId, localRefs})\n    this._cache.set(sch.schema, sch)\n    if (addSchema && !baseId.startsWith(\"#\")) {\n      // TODO atm it is allowed to overwrite schemas without id (instead of not adding them)\n      if (baseId) this._checkUnique(baseId)\n      this.refs[baseId] = sch\n    }\n    if (validateSchema) this.validateSchema(schema, true)\n    return sch\n  }\n\n  private _checkUnique(id: string): void {\n    if (this.schemas[id] || this.refs[id]) {\n      throw new Error(`schema with key or id \"${id}\" already exists`)\n    }\n  }\n\n  private _compileSchemaEnv(sch: SchemaEnv): AnyValidateFunction {\n    if (sch.meta) this._compileMetaSchema(sch)\n    else compileSchema.call(this, sch)\n\n    /* istanbul ignore if */\n    if (!sch.validate) throw new Error(\"ajv implementation error\")\n    return sch.validate\n  }\n\n  private _compileMetaSchema(sch: SchemaEnv): void {\n    const currentOpts = this.opts\n    this.opts = this._metaOpts\n    try {\n      compileSchema.call(this, sch)\n    } finally {\n      this.opts = currentOpts\n    }\n  }\n}\n\nexport interface ErrorsTextOptions {\n  separator?: string\n  dataVar?: string\n}\n\nfunction checkOptions(\n  this: Ajv,\n  checkOpts: OptionsInfo<RemovedOptions | DeprecatedOptions>,\n  options: Options & RemovedOptions,\n  msg: string,\n  log: \"warn\" | \"error\" = \"error\"\n): void {\n  for (const key in checkOpts) {\n    const opt = key as keyof typeof checkOpts\n    if (opt in options) this.logger[log](`${msg}: option ${key}. ${checkOpts[opt]}`)\n  }\n}\n\nfunction getSchEnv(this: Ajv, keyRef: string): SchemaEnv | string | undefined {\n  keyRef = normalizeId(keyRef) // TODO tests fail without this line\n  return this.schemas[keyRef] || this.refs[keyRef]\n}\n\nfunction addInitialSchemas(this: Ajv): void {\n  const optsSchemas = this.opts.schemas\n  if (!optsSchemas) return\n  if (Array.isArray(optsSchemas)) this.addSchema(optsSchemas)\n  else for (const key in optsSchemas) this.addSchema(optsSchemas[key] as AnySchema, key)\n}\n\nfunction addInitialFormats(this: Ajv): void {\n  for (const name in this.opts.formats) {\n    const format = this.opts.formats[name]\n    if (format) this.addFormat(name, format)\n  }\n}\n\nfunction addInitialKeywords(\n  this: Ajv,\n  defs: Vocabulary | {[K in string]?: KeywordDefinition}\n): void {\n  if (Array.isArray(defs)) {\n    this.addVocabulary(defs)\n    return\n  }\n  this.logger.warn(\"keywords option as map is deprecated, pass array\")\n  for (const keyword in defs) {\n    const def = defs[keyword] as KeywordDefinition\n    if (!def.keyword) def.keyword = keyword\n    this.addKeyword(def)\n  }\n}\n\nfunction getMetaSchemaOptions(this: Ajv): InstanceOptions {\n  const metaOpts = {...this.opts}\n  for (const opt of META_IGNORE_OPTIONS) delete metaOpts[opt]\n  return metaOpts\n}\n\nconst noLogs = {log() {}, warn() {}, error() {}}\n\nfunction getLogger(logger?: Partial<Logger> | false): Logger {\n  if (logger === false) return noLogs\n  if (logger === undefined) return console\n  if (logger.log && logger.warn && logger.error) return logger as Logger\n  throw new Error(\"logger must implement log, warn and error methods\")\n}\n\nconst KEYWORD_NAME = /^[a-z_$][a-z0-9_$:-]*$/i\n\nfunction checkKeyword(this: Ajv, keyword: string | string[], def?: KeywordDefinition): void {\n  const {RULES} = this\n  eachItem(keyword, (kwd) => {\n    if (RULES.keywords[kwd]) throw new Error(`Keyword ${kwd} is already defined`)\n    if (!KEYWORD_NAME.test(kwd)) throw new Error(`Keyword ${kwd} has invalid name`)\n  })\n  if (!def) return\n  if (def.$data && !(\"code\" in def || \"validate\" in def)) {\n    throw new Error('$data keyword must have \"code\" or \"validate\" function')\n  }\n}\n\nfunction addRule(\n  this: Ajv,\n  keyword: string,\n  definition?: AddedKeywordDefinition,\n  dataType?: JSONType\n): void {\n  const post = definition?.post\n  if (dataType && post) throw new Error('keyword with \"post\" flag cannot have \"type\"')\n  const {RULES} = this\n  let ruleGroup = post ? RULES.post : RULES.rules.find(({type: t}) => t === dataType)\n  if (!ruleGroup) {\n    ruleGroup = {type: dataType, rules: []}\n    RULES.rules.push(ruleGroup)\n  }\n  RULES.keywords[keyword] = true\n  if (!definition) return\n\n  const rule: Rule = {\n    keyword,\n    definition: {\n      ...definition,\n      type: getJSONTypes(definition.type),\n      schemaType: getJSONTypes(definition.schemaType),\n    },\n  }\n  if (definition.before) addBeforeRule.call(this, ruleGroup, rule, definition.before)\n  else ruleGroup.rules.push(rule)\n  RULES.all[keyword] = rule\n  definition.implements?.forEach((kwd) => this.addKeyword(kwd))\n}\n\nfunction addBeforeRule(this: Ajv, ruleGroup: RuleGroup, rule: Rule, before: string): void {\n  const i = ruleGroup.rules.findIndex((_rule) => _rule.keyword === before)\n  if (i >= 0) {\n    ruleGroup.rules.splice(i, 0, rule)\n  } else {\n    ruleGroup.rules.push(rule)\n    this.logger.warn(`rule ${before} is not defined`)\n  }\n}\n\nfunction keywordMetaschema(this: Ajv, def: KeywordDefinition): void {\n  let {metaSchema} = def\n  if (metaSchema === undefined) return\n  if (def.$data && this.opts.$data) metaSchema = schemaOrData(metaSchema)\n  def.validateSchema = this.compile(metaSchema, true)\n}\n\nconst $dataRef = {\n  $ref: \"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#\",\n}\n\nfunction schemaOrData(schema: AnySchema): AnySchemaObject {\n  return {anyOf: [schema, $dataRef]}\n}\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = GeneratorFunctionPrototype;\n  define(Gp, \"constructor\", GeneratorFunctionPrototype);\n  define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction);\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  });\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  define(Gp, iteratorSymbol, function() {\n    return this;\n  });\n\n  define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  });\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, in modern engines\n  // we can explicitly access globalThis. In older engines we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","import type {\n  AddedKeywordDefinition,\n  AnySchema,\n  AnySchemaObject,\n  KeywordErrorCxt,\n  KeywordCxtParams,\n} from \"../../types\"\nimport type {SchemaCxt, SchemaObjCxt} from \"..\"\nimport type {InstanceOptions} from \"../../core\"\nimport {boolOrEmptySchema, topBoolOrEmptySchema} from \"./boolSchema\"\nimport {coerceAndCheckDataType, getSchemaTypes} from \"./dataType\"\nimport {shouldUseGroup, shouldUseRule} from \"./applicability\"\nimport {checkDataType, checkDataTypes, reportTypeError, DataType} from \"./dataType\"\nimport {assignDefaults} from \"./defaults\"\nimport {funcKeywordCode, macroKeywordCode, validateKeywordUsage, validSchemaType} from \"./keyword\"\nimport {getSubschema, extendSubschemaData, SubschemaArgs, extendSubschemaMode} from \"./subschema\"\nimport {_, nil, str, or, not, getProperty, Block, Code, Name, CodeGen} from \"../codegen\"\nimport N from \"../names\"\nimport {resolveUrl} from \"../resolve\"\nimport {\n  schemaRefOrVal,\n  schemaHasRulesButRef,\n  checkUnknownRules,\n  checkStrictMode,\n  unescapeJsonPointer,\n  mergeEvaluated,\n} from \"../util\"\nimport type {JSONType, Rule, RuleGroup} from \"../rules\"\nimport {\n  ErrorPaths,\n  reportError,\n  reportExtraError,\n  resetErrorsCount,\n  keyword$DataError,\n} from \"../errors\"\n\n// schema compilation - generates validation function, subschemaCode (below) is used for subschemas\nexport function validateFunctionCode(it: SchemaCxt): void {\n  if (isSchemaObj(it)) {\n    checkKeywords(it)\n    if (schemaCxtHasRules(it)) {\n      topSchemaObjCode(it)\n      return\n    }\n  }\n  validateFunction(it, () => topBoolOrEmptySchema(it))\n}\n\nfunction validateFunction(\n  {gen, validateName, schema, schemaEnv, opts}: SchemaCxt,\n  body: Block\n): void {\n  if (opts.code.es5) {\n    gen.func(validateName, _`${N.data}, ${N.valCxt}`, schemaEnv.$async, () => {\n      gen.code(_`\"use strict\"; ${funcSourceUrl(schema, opts)}`)\n      destructureValCxtES5(gen, opts)\n      gen.code(body)\n    })\n  } else {\n    gen.func(validateName, _`${N.data}, ${destructureValCxt(opts)}`, schemaEnv.$async, () =>\n      gen.code(funcSourceUrl(schema, opts)).code(body)\n    )\n  }\n}\n\nfunction destructureValCxt(opts: InstanceOptions): Code {\n  return _`{${N.instancePath}=\"\", ${N.parentData}, ${N.parentDataProperty}, ${N.rootData}=${\n    N.data\n  }${opts.dynamicRef ? _`, ${N.dynamicAnchors}={}` : nil}}={}`\n}\n\nfunction destructureValCxtES5(gen: CodeGen, opts: InstanceOptions): void {\n  gen.if(\n    N.valCxt,\n    () => {\n      gen.var(N.instancePath, _`${N.valCxt}.${N.instancePath}`)\n      gen.var(N.parentData, _`${N.valCxt}.${N.parentData}`)\n      gen.var(N.parentDataProperty, _`${N.valCxt}.${N.parentDataProperty}`)\n      gen.var(N.rootData, _`${N.valCxt}.${N.rootData}`)\n      if (opts.dynamicRef) gen.var(N.dynamicAnchors, _`${N.valCxt}.${N.dynamicAnchors}`)\n    },\n    () => {\n      gen.var(N.instancePath, _`\"\"`)\n      gen.var(N.parentData, _`undefined`)\n      gen.var(N.parentDataProperty, _`undefined`)\n      gen.var(N.rootData, N.data)\n      if (opts.dynamicRef) gen.var(N.dynamicAnchors, _`{}`)\n    }\n  )\n}\n\nfunction topSchemaObjCode(it: SchemaObjCxt): void {\n  const {schema, opts, gen} = it\n  validateFunction(it, () => {\n    if (opts.$comment && schema.$comment) commentKeyword(it)\n    checkNoDefault(it)\n    gen.let(N.vErrors, null)\n    gen.let(N.errors, 0)\n    if (opts.unevaluated) resetEvaluated(it)\n    typeAndKeywords(it)\n    returnResults(it)\n  })\n  return\n}\n\nfunction resetEvaluated(it: SchemaObjCxt): void {\n  // TODO maybe some hook to execute it in the end to check whether props/items are Name, as in assignEvaluated\n  const {gen, validateName} = it\n  it.evaluated = gen.const(\"evaluated\", _`${validateName}.evaluated`)\n  gen.if(_`${it.evaluated}.dynamicProps`, () => gen.assign(_`${it.evaluated}.props`, _`undefined`))\n  gen.if(_`${it.evaluated}.dynamicItems`, () => gen.assign(_`${it.evaluated}.items`, _`undefined`))\n}\n\nfunction funcSourceUrl(schema: AnySchema, opts: InstanceOptions): Code {\n  const schId = typeof schema == \"object\" && schema[opts.schemaId]\n  return schId && (opts.code.source || opts.code.process) ? _`/*# sourceURL=${schId} */` : nil\n}\n\n// schema compilation - this function is used recursively to generate code for sub-schemas\nfunction subschemaCode(it: SchemaCxt, valid: Name): void {\n  if (isSchemaObj(it)) {\n    checkKeywords(it)\n    if (schemaCxtHasRules(it)) {\n      subSchemaObjCode(it, valid)\n      return\n    }\n  }\n  boolOrEmptySchema(it, valid)\n}\n\nfunction schemaCxtHasRules({schema, self}: SchemaCxt): boolean {\n  if (typeof schema == \"boolean\") return !schema\n  for (const key in schema) if (self.RULES.all[key]) return true\n  return false\n}\n\nfunction isSchemaObj(it: SchemaCxt): it is SchemaObjCxt {\n  return typeof it.schema != \"boolean\"\n}\n\nfunction subSchemaObjCode(it: SchemaObjCxt, valid: Name): void {\n  const {schema, gen, opts} = it\n  if (opts.$comment && schema.$comment) commentKeyword(it)\n  updateContext(it)\n  checkAsyncSchema(it)\n  const errsCount = gen.const(\"_errs\", N.errors)\n  typeAndKeywords(it, errsCount)\n  // TODO var\n  gen.var(valid, _`${errsCount} === ${N.errors}`)\n}\n\nfunction checkKeywords(it: SchemaObjCxt): void {\n  checkUnknownRules(it)\n  checkRefsAndKeywords(it)\n}\n\nfunction typeAndKeywords(it: SchemaObjCxt, errsCount?: Name): void {\n  if (it.opts.jtd) return schemaKeywords(it, [], false, errsCount)\n  const types = getSchemaTypes(it.schema)\n  const checkedTypes = coerceAndCheckDataType(it, types)\n  schemaKeywords(it, types, !checkedTypes, errsCount)\n}\n\nfunction checkRefsAndKeywords(it: SchemaObjCxt): void {\n  const {schema, errSchemaPath, opts, self} = it\n  if (schema.$ref && opts.ignoreKeywordsWithRef && schemaHasRulesButRef(schema, self.RULES)) {\n    self.logger.warn(`$ref: keywords ignored in schema at path \"${errSchemaPath}\"`)\n  }\n}\n\nfunction checkNoDefault(it: SchemaObjCxt): void {\n  const {schema, opts} = it\n  if (schema.default !== undefined && opts.useDefaults && opts.strictSchema) {\n    checkStrictMode(it, \"default is ignored in the schema root\")\n  }\n}\n\nfunction updateContext(it: SchemaObjCxt): void {\n  const schId = it.schema[it.opts.schemaId]\n  if (schId) it.baseId = resolveUrl(it.opts.uriResolver, it.baseId, schId)\n}\n\nfunction checkAsyncSchema(it: SchemaObjCxt): void {\n  if (it.schema.$async && !it.schemaEnv.$async) throw new Error(\"async schema in sync schema\")\n}\n\nfunction commentKeyword({gen, schemaEnv, schema, errSchemaPath, opts}: SchemaObjCxt): void {\n  const msg = schema.$comment\n  if (opts.$comment === true) {\n    gen.code(_`${N.self}.logger.log(${msg})`)\n  } else if (typeof opts.$comment == \"function\") {\n    const schemaPath = str`${errSchemaPath}/$comment`\n    const rootName = gen.scopeValue(\"root\", {ref: schemaEnv.root})\n    gen.code(_`${N.self}.opts.$comment(${msg}, ${schemaPath}, ${rootName}.schema)`)\n  }\n}\n\nfunction returnResults(it: SchemaCxt): void {\n  const {gen, schemaEnv, validateName, ValidationError, opts} = it\n  if (schemaEnv.$async) {\n    // TODO assign unevaluated\n    gen.if(\n      _`${N.errors} === 0`,\n      () => gen.return(N.data),\n      () => gen.throw(_`new ${ValidationError as Name}(${N.vErrors})`)\n    )\n  } else {\n    gen.assign(_`${validateName}.errors`, N.vErrors)\n    if (opts.unevaluated) assignEvaluated(it)\n    gen.return(_`${N.errors} === 0`)\n  }\n}\n\nfunction assignEvaluated({gen, evaluated, props, items}: SchemaCxt): void {\n  if (props instanceof Name) gen.assign(_`${evaluated}.props`, props)\n  if (items instanceof Name) gen.assign(_`${evaluated}.items`, items)\n}\n\nfunction schemaKeywords(\n  it: SchemaObjCxt,\n  types: JSONType[],\n  typeErrors: boolean,\n  errsCount?: Name\n): void {\n  const {gen, schema, data, allErrors, opts, self} = it\n  const {RULES} = self\n  if (schema.$ref && (opts.ignoreKeywordsWithRef || !schemaHasRulesButRef(schema, RULES))) {\n    gen.block(() => keywordCode(it, \"$ref\", (RULES.all.$ref as Rule).definition)) // TODO typecast\n    return\n  }\n  if (!opts.jtd) checkStrictTypes(it, types)\n  gen.block(() => {\n    for (const group of RULES.rules) groupKeywords(group)\n    groupKeywords(RULES.post)\n  })\n\n  function groupKeywords(group: RuleGroup): void {\n    if (!shouldUseGroup(schema, group)) return\n    if (group.type) {\n      gen.if(checkDataType(group.type, data, opts.strictNumbers))\n      iterateKeywords(it, group)\n      if (types.length === 1 && types[0] === group.type && typeErrors) {\n        gen.else()\n        reportTypeError(it)\n      }\n      gen.endIf()\n    } else {\n      iterateKeywords(it, group)\n    }\n    // TODO make it \"ok\" call?\n    if (!allErrors) gen.if(_`${N.errors} === ${errsCount || 0}`)\n  }\n}\n\nfunction iterateKeywords(it: SchemaObjCxt, group: RuleGroup): void {\n  const {\n    gen,\n    schema,\n    opts: {useDefaults},\n  } = it\n  if (useDefaults) assignDefaults(it, group.type)\n  gen.block(() => {\n    for (const rule of group.rules) {\n      if (shouldUseRule(schema, rule)) {\n        keywordCode(it, rule.keyword, rule.definition, group.type)\n      }\n    }\n  })\n}\n\nfunction checkStrictTypes(it: SchemaObjCxt, types: JSONType[]): void {\n  if (it.schemaEnv.meta || !it.opts.strictTypes) return\n  checkContextTypes(it, types)\n  if (!it.opts.allowUnionTypes) checkMultipleTypes(it, types)\n  checkKeywordTypes(it, it.dataTypes)\n}\n\nfunction checkContextTypes(it: SchemaObjCxt, types: JSONType[]): void {\n  if (!types.length) return\n  if (!it.dataTypes.length) {\n    it.dataTypes = types\n    return\n  }\n  types.forEach((t) => {\n    if (!includesType(it.dataTypes, t)) {\n      strictTypesError(it, `type \"${t}\" not allowed by context \"${it.dataTypes.join(\",\")}\"`)\n    }\n  })\n  it.dataTypes = it.dataTypes.filter((t) => includesType(types, t))\n}\n\nfunction checkMultipleTypes(it: SchemaObjCxt, ts: JSONType[]): void {\n  if (ts.length > 1 && !(ts.length === 2 && ts.includes(\"null\"))) {\n    strictTypesError(it, \"use allowUnionTypes to allow union type keyword\")\n  }\n}\n\nfunction checkKeywordTypes(it: SchemaObjCxt, ts: JSONType[]): void {\n  const rules = it.self.RULES.all\n  for (const keyword in rules) {\n    const rule = rules[keyword]\n    if (typeof rule == \"object\" && shouldUseRule(it.schema, rule)) {\n      const {type} = rule.definition\n      if (type.length && !type.some((t) => hasApplicableType(ts, t))) {\n        strictTypesError(it, `missing type \"${type.join(\",\")}\" for keyword \"${keyword}\"`)\n      }\n    }\n  }\n}\n\nfunction hasApplicableType(schTs: JSONType[], kwdT: JSONType): boolean {\n  return schTs.includes(kwdT) || (kwdT === \"number\" && schTs.includes(\"integer\"))\n}\n\nfunction includesType(ts: JSONType[], t: JSONType): boolean {\n  return ts.includes(t) || (t === \"integer\" && ts.includes(\"number\"))\n}\n\nfunction strictTypesError(it: SchemaObjCxt, msg: string): void {\n  const schemaPath = it.schemaEnv.baseId + it.errSchemaPath\n  msg += ` at \"${schemaPath}\" (strictTypes)`\n  checkStrictMode(it, msg, it.opts.strictTypes)\n}\n\nexport class KeywordCxt implements KeywordErrorCxt {\n  readonly gen: CodeGen\n  readonly allErrors?: boolean\n  readonly keyword: string\n  readonly data: Name // Name referencing the current level of the data instance\n  readonly $data?: string | false\n  schema: any // keyword value in the schema\n  readonly schemaValue: Code | number | boolean // Code reference to keyword schema value or primitive value\n  readonly schemaCode: Code | number | boolean // Code reference to resolved schema value (different if schema is $data)\n  readonly schemaType: JSONType[] // allowed type(s) of keyword value in the schema\n  readonly parentSchema: AnySchemaObject\n  readonly errsCount?: Name // Name reference to the number of validation errors collected before this keyword,\n  // requires option trackErrors in keyword definition\n  params: KeywordCxtParams // object to pass parameters to error messages from keyword code\n  readonly it: SchemaObjCxt // schema compilation context (schema is guaranteed to be an object, not boolean)\n  readonly def: AddedKeywordDefinition\n\n  constructor(it: SchemaObjCxt, def: AddedKeywordDefinition, keyword: string) {\n    validateKeywordUsage(it, def, keyword)\n    this.gen = it.gen\n    this.allErrors = it.allErrors\n    this.keyword = keyword\n    this.data = it.data\n    this.schema = it.schema[keyword]\n    this.$data = def.$data && it.opts.$data && this.schema && this.schema.$data\n    this.schemaValue = schemaRefOrVal(it, this.schema, keyword, this.$data)\n    this.schemaType = def.schemaType\n    this.parentSchema = it.schema\n    this.params = {}\n    this.it = it\n    this.def = def\n\n    if (this.$data) {\n      this.schemaCode = it.gen.const(\"vSchema\", getData(this.$data, it))\n    } else {\n      this.schemaCode = this.schemaValue\n      if (!validSchemaType(this.schema, def.schemaType, def.allowUndefined)) {\n        throw new Error(`${keyword} value must be ${JSON.stringify(def.schemaType)}`)\n      }\n    }\n\n    if (\"code\" in def ? def.trackErrors : def.errors !== false) {\n      this.errsCount = it.gen.const(\"_errs\", N.errors)\n    }\n  }\n\n  result(condition: Code, successAction?: () => void, failAction?: () => void): void {\n    this.failResult(not(condition), successAction, failAction)\n  }\n\n  failResult(condition: Code, successAction?: () => void, failAction?: () => void): void {\n    this.gen.if(condition)\n    if (failAction) failAction()\n    else this.error()\n    if (successAction) {\n      this.gen.else()\n      successAction()\n      if (this.allErrors) this.gen.endIf()\n    } else {\n      if (this.allErrors) this.gen.endIf()\n      else this.gen.else()\n    }\n  }\n\n  pass(condition: Code, failAction?: () => void): void {\n    this.failResult(not(condition), undefined, failAction)\n  }\n\n  fail(condition?: Code): void {\n    if (condition === undefined) {\n      this.error()\n      if (!this.allErrors) this.gen.if(false) // this branch will be removed by gen.optimize\n      return\n    }\n    this.gen.if(condition)\n    this.error()\n    if (this.allErrors) this.gen.endIf()\n    else this.gen.else()\n  }\n\n  fail$data(condition: Code): void {\n    if (!this.$data) return this.fail(condition)\n    const {schemaCode} = this\n    this.fail(_`${schemaCode} !== undefined && (${or(this.invalid$data(), condition)})`)\n  }\n\n  error(append?: boolean, errorParams?: KeywordCxtParams, errorPaths?: ErrorPaths): void {\n    if (errorParams) {\n      this.setParams(errorParams)\n      this._error(append, errorPaths)\n      this.setParams({})\n      return\n    }\n    this._error(append, errorPaths)\n  }\n\n  private _error(append?: boolean, errorPaths?: ErrorPaths): void {\n    ;(append ? reportExtraError : reportError)(this, this.def.error, errorPaths)\n  }\n\n  $dataError(): void {\n    reportError(this, this.def.$dataError || keyword$DataError)\n  }\n\n  reset(): void {\n    if (this.errsCount === undefined) throw new Error('add \"trackErrors\" to keyword definition')\n    resetErrorsCount(this.gen, this.errsCount)\n  }\n\n  ok(cond: Code | boolean): void {\n    if (!this.allErrors) this.gen.if(cond)\n  }\n\n  setParams(obj: KeywordCxtParams, assign?: true): void {\n    if (assign) Object.assign(this.params, obj)\n    else this.params = obj\n  }\n\n  block$data(valid: Name, codeBlock: () => void, $dataValid: Code = nil): void {\n    this.gen.block(() => {\n      this.check$data(valid, $dataValid)\n      codeBlock()\n    })\n  }\n\n  check$data(valid: Name = nil, $dataValid: Code = nil): void {\n    if (!this.$data) return\n    const {gen, schemaCode, schemaType, def} = this\n    gen.if(or(_`${schemaCode} === undefined`, $dataValid))\n    if (valid !== nil) gen.assign(valid, true)\n    if (schemaType.length || def.validateSchema) {\n      gen.elseIf(this.invalid$data())\n      this.$dataError()\n      if (valid !== nil) gen.assign(valid, false)\n    }\n    gen.else()\n  }\n\n  invalid$data(): Code {\n    const {gen, schemaCode, schemaType, def, it} = this\n    return or(wrong$DataType(), invalid$DataSchema())\n\n    function wrong$DataType(): Code {\n      if (schemaType.length) {\n        /* istanbul ignore if */\n        if (!(schemaCode instanceof Name)) throw new Error(\"ajv implementation error\")\n        const st = Array.isArray(schemaType) ? schemaType : [schemaType]\n        return _`${checkDataTypes(st, schemaCode, it.opts.strictNumbers, DataType.Wrong)}`\n      }\n      return nil\n    }\n\n    function invalid$DataSchema(): Code {\n      if (def.validateSchema) {\n        const validateSchemaRef = gen.scopeValue(\"validate$data\", {ref: def.validateSchema}) // TODO value.code for standalone\n        return _`!${validateSchemaRef}(${schemaCode})`\n      }\n      return nil\n    }\n  }\n\n  subschema(appl: SubschemaArgs, valid: Name): SchemaCxt {\n    const subschema = getSubschema(this.it, appl)\n    extendSubschemaData(subschema, this.it, appl)\n    extendSubschemaMode(subschema, appl)\n    const nextContext = {...this.it, ...subschema, items: undefined, props: undefined}\n    subschemaCode(nextContext, valid)\n    return nextContext\n  }\n\n  mergeEvaluated(schemaCxt: SchemaCxt, toName?: typeof Name): void {\n    const {it, gen} = this\n    if (!it.opts.unevaluated) return\n    if (it.props !== true && schemaCxt.props !== undefined) {\n      it.props = mergeEvaluated.props(gen, schemaCxt.props, it.props, toName)\n    }\n    if (it.items !== true && schemaCxt.items !== undefined) {\n      it.items = mergeEvaluated.items(gen, schemaCxt.items, it.items, toName)\n    }\n  }\n\n  mergeValidEvaluated(schemaCxt: SchemaCxt, valid: Name): boolean | void {\n    const {it, gen} = this\n    if (it.opts.unevaluated && (it.props !== true || it.items !== true)) {\n      gen.if(valid, () => this.mergeEvaluated(schemaCxt, Name))\n      return true\n    }\n  }\n}\n\nfunction keywordCode(\n  it: SchemaObjCxt,\n  keyword: string,\n  def: AddedKeywordDefinition,\n  ruleType?: JSONType\n): void {\n  const cxt = new KeywordCxt(it, def, keyword)\n  if (\"code\" in def) {\n    def.code(cxt, ruleType)\n  } else if (cxt.$data && def.validate) {\n    funcKeywordCode(cxt, def)\n  } else if (\"macro\" in def) {\n    macroKeywordCode(cxt, def)\n  } else if (def.compile || def.validate) {\n    funcKeywordCode(cxt, def)\n  }\n}\n\nconst JSON_POINTER = /^\\/(?:[^~]|~0|~1)*$/\nconst RELATIVE_JSON_POINTER = /^([0-9]+)(#|\\/(?:[^~]|~0|~1)*)?$/\nexport function getData(\n  $data: string,\n  {dataLevel, dataNames, dataPathArr}: SchemaCxt\n): Code | number {\n  let jsonPointer\n  let data: Code\n  if ($data === \"\") return N.rootData\n  if ($data[0] === \"/\") {\n    if (!JSON_POINTER.test($data)) throw new Error(`Invalid JSON-pointer: ${$data}`)\n    jsonPointer = $data\n    data = N.rootData\n  } else {\n    const matches = RELATIVE_JSON_POINTER.exec($data)\n    if (!matches) throw new Error(`Invalid JSON-pointer: ${$data}`)\n    const up: number = +matches[1]\n    jsonPointer = matches[2]\n    if (jsonPointer === \"#\") {\n      if (up >= dataLevel) throw new Error(errorMsg(\"property/index\", up))\n      return dataPathArr[dataLevel - up]\n    }\n    if (up > dataLevel) throw new Error(errorMsg(\"data\", up))\n    data = dataNames[dataLevel - up]\n    if (!jsonPointer) return data\n  }\n\n  let expr = data\n  const segments = jsonPointer.split(\"/\")\n  for (const segment of segments) {\n    if (segment) {\n      data = _`${data}${getProperty(unescapeJsonPointer(segment))}`\n      expr = _`${expr} && ${data}`\n    }\n  }\n  return expr\n\n  function errorMsg(pointerType: string, up: number): string {\n    return `Cannot access ${pointerType} ${up} levels up, current level is ${dataLevel}`\n  }\n}\n","import type {KeywordErrorDefinition, KeywordErrorCxt} from \"../../types\"\nimport type {SchemaCxt} from \"..\"\nimport {reportError} from \"../errors\"\nimport {_, Name} from \"../codegen\"\nimport N from \"../names\"\n\nconst boolError: KeywordErrorDefinition = {\n  message: \"boolean schema is false\",\n}\n\nexport function topBoolOrEmptySchema(it: SchemaCxt): void {\n  const {gen, schema, validateName} = it\n  if (schema === false) {\n    falseSchemaError(it, false)\n  } else if (typeof schema == \"object\" && schema.$async === true) {\n    gen.return(N.data)\n  } else {\n    gen.assign(_`${validateName}.errors`, null)\n    gen.return(true)\n  }\n}\n\nexport function boolOrEmptySchema(it: SchemaCxt, valid: Name): void {\n  const {gen, schema} = it\n  if (schema === false) {\n    gen.var(valid, false) // TODO var\n    falseSchemaError(it)\n  } else {\n    gen.var(valid, true) // TODO var\n  }\n}\n\nfunction falseSchemaError(it: SchemaCxt, overrideAllErrors?: boolean): void {\n  const {gen, data} = it\n  // TODO maybe some other interface should be used for non-keyword validation errors...\n  const cxt: KeywordErrorCxt = {\n    gen,\n    keyword: \"false schema\",\n    data,\n    schema: false,\n    schemaCode: false,\n    schemaValue: false,\n    params: {},\n    it,\n  }\n  reportError(cxt, boolError, undefined, overrideAllErrors)\n}\n","import type {KeywordErrorCxt, KeywordErrorDefinition} from \"../types\"\nimport type {SchemaCxt} from \"./index\"\nimport {CodeGen, _, str, strConcat, Code, Name} from \"./codegen\"\nimport {SafeExpr} from \"./codegen/code\"\nimport {getErrorPath, Type} from \"./util\"\nimport N from \"./names\"\n\nexport const keywordError: KeywordErrorDefinition = {\n  message: ({keyword}) => str`must pass \"${keyword}\" keyword validation`,\n}\n\nexport const keyword$DataError: KeywordErrorDefinition = {\n  message: ({keyword, schemaType}) =>\n    schemaType\n      ? str`\"${keyword}\" keyword must be ${schemaType} ($data)`\n      : str`\"${keyword}\" keyword is invalid ($data)`,\n}\n\nexport interface ErrorPaths {\n  instancePath?: Code\n  schemaPath?: string\n  parentSchema?: boolean\n}\n\nexport function reportError(\n  cxt: KeywordErrorCxt,\n  error: KeywordErrorDefinition = keywordError,\n  errorPaths?: ErrorPaths,\n  overrideAllErrors?: boolean\n): void {\n  const {it} = cxt\n  const {gen, compositeRule, allErrors} = it\n  const errObj = errorObjectCode(cxt, error, errorPaths)\n  if (overrideAllErrors ?? (compositeRule || allErrors)) {\n    addError(gen, errObj)\n  } else {\n    returnErrors(it, _`[${errObj}]`)\n  }\n}\n\nexport function reportExtraError(\n  cxt: KeywordErrorCxt,\n  error: KeywordErrorDefinition = keywordError,\n  errorPaths?: ErrorPaths\n): void {\n  const {it} = cxt\n  const {gen, compositeRule, allErrors} = it\n  const errObj = errorObjectCode(cxt, error, errorPaths)\n  addError(gen, errObj)\n  if (!(compositeRule || allErrors)) {\n    returnErrors(it, N.vErrors)\n  }\n}\n\nexport function resetErrorsCount(gen: CodeGen, errsCount: Name): void {\n  gen.assign(N.errors, errsCount)\n  gen.if(_`${N.vErrors} !== null`, () =>\n    gen.if(\n      errsCount,\n      () => gen.assign(_`${N.vErrors}.length`, errsCount),\n      () => gen.assign(N.vErrors, null)\n    )\n  )\n}\n\nexport function extendErrors({\n  gen,\n  keyword,\n  schemaValue,\n  data,\n  errsCount,\n  it,\n}: KeywordErrorCxt): void {\n  /* istanbul ignore if */\n  if (errsCount === undefined) throw new Error(\"ajv implementation error\")\n  const err = gen.name(\"err\")\n  gen.forRange(\"i\", errsCount, N.errors, (i) => {\n    gen.const(err, _`${N.vErrors}[${i}]`)\n    gen.if(_`${err}.instancePath === undefined`, () =>\n      gen.assign(_`${err}.instancePath`, strConcat(N.instancePath, it.errorPath))\n    )\n    gen.assign(_`${err}.schemaPath`, str`${it.errSchemaPath}/${keyword}`)\n    if (it.opts.verbose) {\n      gen.assign(_`${err}.schema`, schemaValue)\n      gen.assign(_`${err}.data`, data)\n    }\n  })\n}\n\nfunction addError(gen: CodeGen, errObj: Code): void {\n  const err = gen.const(\"err\", errObj)\n  gen.if(\n    _`${N.vErrors} === null`,\n    () => gen.assign(N.vErrors, _`[${err}]`),\n    _`${N.vErrors}.push(${err})`\n  )\n  gen.code(_`${N.errors}++`)\n}\n\nfunction returnErrors(it: SchemaCxt, errs: Code): void {\n  const {gen, validateName, schemaEnv} = it\n  if (schemaEnv.$async) {\n    gen.throw(_`new ${it.ValidationError as Name}(${errs})`)\n  } else {\n    gen.assign(_`${validateName}.errors`, errs)\n    gen.return(false)\n  }\n}\n\nconst E = {\n  keyword: new Name(\"keyword\"),\n  schemaPath: new Name(\"schemaPath\"), // also used in JTD errors\n  params: new Name(\"params\"),\n  propertyName: new Name(\"propertyName\"),\n  message: new Name(\"message\"),\n  schema: new Name(\"schema\"),\n  parentSchema: new Name(\"parentSchema\"),\n}\n\nfunction errorObjectCode(\n  cxt: KeywordErrorCxt,\n  error: KeywordErrorDefinition,\n  errorPaths?: ErrorPaths\n): Code {\n  const {createErrors} = cxt.it\n  if (createErrors === false) return _`{}`\n  return errorObject(cxt, error, errorPaths)\n}\n\nfunction errorObject(\n  cxt: KeywordErrorCxt,\n  error: KeywordErrorDefinition,\n  errorPaths: ErrorPaths = {}\n): Code {\n  const {gen, it} = cxt\n  const keyValues: [Name, SafeExpr | string][] = [\n    errorInstancePath(it, errorPaths),\n    errorSchemaPath(cxt, errorPaths),\n  ]\n  extraErrorProps(cxt, error, keyValues)\n  return gen.object(...keyValues)\n}\n\nfunction errorInstancePath({errorPath}: SchemaCxt, {instancePath}: ErrorPaths): [Name, Code] {\n  const instPath = instancePath\n    ? str`${errorPath}${getErrorPath(instancePath, Type.Str)}`\n    : errorPath\n  return [N.instancePath, strConcat(N.instancePath, instPath)]\n}\n\nfunction errorSchemaPath(\n  {keyword, it: {errSchemaPath}}: KeywordErrorCxt,\n  {schemaPath, parentSchema}: ErrorPaths\n): [Name, string | Code] {\n  let schPath = parentSchema ? errSchemaPath : str`${errSchemaPath}/${keyword}`\n  if (schemaPath) {\n    schPath = str`${schPath}${getErrorPath(schemaPath, Type.Str)}`\n  }\n  return [E.schemaPath, schPath]\n}\n\nfunction extraErrorProps(\n  cxt: KeywordErrorCxt,\n  {params, message}: KeywordErrorDefinition,\n  keyValues: [Name, SafeExpr | string][]\n): void {\n  const {keyword, data, schemaValue, it} = cxt\n  const {opts, propertyName, topSchemaRef, schemaPath} = it\n  keyValues.push(\n    [E.keyword, keyword],\n    [E.params, typeof params == \"function\" ? params(cxt) : params || _`{}`]\n  )\n  if (opts.messages) {\n    keyValues.push([E.message, typeof message == \"function\" ? message(cxt) : message])\n  }\n  if (opts.verbose) {\n    keyValues.push(\n      [E.schema, schemaValue],\n      [E.parentSchema, _`${topSchemaRef}${schemaPath}`],\n      [N.data, data]\n    )\n  }\n  if (propertyName) keyValues.push([E.propertyName, propertyName])\n}\n","import type {ScopeValueSets, NameValue, ValueScope, ValueScopeName} from \"./scope\"\nimport {_, nil, _Code, Code, Name, UsedNames, CodeItem, addCodeArg, _CodeOrName} from \"./code\"\nimport {Scope, varKinds} from \"./scope\"\n\nexport {_, str, strConcat, nil, getProperty, stringify, regexpCode, Name, Code} from \"./code\"\nexport {Scope, ScopeStore, ValueScope, ValueScopeName, ScopeValueSets, varKinds} from \"./scope\"\n\n// type for expressions that can be safely inserted in code without quotes\nexport type SafeExpr = Code | number | boolean | null\n\n// type that is either Code of function that adds code to CodeGen instance using its methods\nexport type Block = Code | (() => void)\n\nexport const operators = {\n  GT: new _Code(\">\"),\n  GTE: new _Code(\">=\"),\n  LT: new _Code(\"<\"),\n  LTE: new _Code(\"<=\"),\n  EQ: new _Code(\"===\"),\n  NEQ: new _Code(\"!==\"),\n  NOT: new _Code(\"!\"),\n  OR: new _Code(\"||\"),\n  AND: new _Code(\"&&\"),\n  ADD: new _Code(\"+\"),\n}\n\nabstract class Node {\n  abstract readonly names: UsedNames\n\n  optimizeNodes(): this | ChildNode | ChildNode[] | undefined {\n    return this\n  }\n\n  optimizeNames(_names: UsedNames, _constants: Constants): this | undefined {\n    return this\n  }\n\n  // get count(): number {\n  //   return 1\n  // }\n}\n\nclass Def extends Node {\n  constructor(private readonly varKind: Name, private readonly name: Name, private rhs?: SafeExpr) {\n    super()\n  }\n\n  render({es5, _n}: CGOptions): string {\n    const varKind = es5 ? varKinds.var : this.varKind\n    const rhs = this.rhs === undefined ? \"\" : ` = ${this.rhs}`\n    return `${varKind} ${this.name}${rhs};` + _n\n  }\n\n  optimizeNames(names: UsedNames, constants: Constants): this | undefined {\n    if (!names[this.name.str]) return\n    if (this.rhs) this.rhs = optimizeExpr(this.rhs, names, constants)\n    return this\n  }\n\n  get names(): UsedNames {\n    return this.rhs instanceof _CodeOrName ? this.rhs.names : {}\n  }\n}\n\nclass Assign extends Node {\n  constructor(readonly lhs: Code, public rhs: SafeExpr, private readonly sideEffects?: boolean) {\n    super()\n  }\n\n  render({_n}: CGOptions): string {\n    return `${this.lhs} = ${this.rhs};` + _n\n  }\n\n  optimizeNames(names: UsedNames, constants: Constants): this | undefined {\n    if (this.lhs instanceof Name && !names[this.lhs.str] && !this.sideEffects) return\n    this.rhs = optimizeExpr(this.rhs, names, constants)\n    return this\n  }\n\n  get names(): UsedNames {\n    const names = this.lhs instanceof Name ? {} : {...this.lhs.names}\n    return addExprNames(names, this.rhs)\n  }\n}\n\nclass AssignOp extends Assign {\n  constructor(lhs: Code, private readonly op: Code, rhs: SafeExpr, sideEffects?: boolean) {\n    super(lhs, rhs, sideEffects)\n  }\n\n  render({_n}: CGOptions): string {\n    return `${this.lhs} ${this.op}= ${this.rhs};` + _n\n  }\n}\n\nclass Label extends Node {\n  readonly names: UsedNames = {}\n  constructor(readonly label: Name) {\n    super()\n  }\n\n  render({_n}: CGOptions): string {\n    return `${this.label}:` + _n\n  }\n}\n\nclass Break extends Node {\n  readonly names: UsedNames = {}\n  constructor(readonly label?: Code) {\n    super()\n  }\n\n  render({_n}: CGOptions): string {\n    const label = this.label ? ` ${this.label}` : \"\"\n    return `break${label};` + _n\n  }\n}\n\nclass Throw extends Node {\n  constructor(readonly error: Code) {\n    super()\n  }\n\n  render({_n}: CGOptions): string {\n    return `throw ${this.error};` + _n\n  }\n\n  get names(): UsedNames {\n    return this.error.names\n  }\n}\n\nclass AnyCode extends Node {\n  constructor(private code: SafeExpr) {\n    super()\n  }\n\n  render({_n}: CGOptions): string {\n    return `${this.code};` + _n\n  }\n\n  optimizeNodes(): this | undefined {\n    return `${this.code}` ? this : undefined\n  }\n\n  optimizeNames(names: UsedNames, constants: Constants): this {\n    this.code = optimizeExpr(this.code, names, constants)\n    return this\n  }\n\n  get names(): UsedNames {\n    return this.code instanceof _CodeOrName ? this.code.names : {}\n  }\n}\n\nabstract class ParentNode extends Node {\n  constructor(readonly nodes: ChildNode[] = []) {\n    super()\n  }\n\n  render(opts: CGOptions): string {\n    return this.nodes.reduce((code, n) => code + n.render(opts), \"\")\n  }\n\n  optimizeNodes(): this | ChildNode | ChildNode[] | undefined {\n    const {nodes} = this\n    let i = nodes.length\n    while (i--) {\n      const n = nodes[i].optimizeNodes()\n      if (Array.isArray(n)) nodes.splice(i, 1, ...n)\n      else if (n) nodes[i] = n\n      else nodes.splice(i, 1)\n    }\n    return nodes.length > 0 ? this : undefined\n  }\n\n  optimizeNames(names: UsedNames, constants: Constants): this | undefined {\n    const {nodes} = this\n    let i = nodes.length\n    while (i--) {\n      // iterating backwards improves 1-pass optimization\n      const n = nodes[i]\n      if (n.optimizeNames(names, constants)) continue\n      subtractNames(names, n.names)\n      nodes.splice(i, 1)\n    }\n    return nodes.length > 0 ? this : undefined\n  }\n\n  get names(): UsedNames {\n    return this.nodes.reduce((names: UsedNames, n) => addNames(names, n.names), {})\n  }\n\n  // get count(): number {\n  //   return this.nodes.reduce((c, n) => c + n.count, 1)\n  // }\n}\n\nabstract class BlockNode extends ParentNode {\n  render(opts: CGOptions): string {\n    return \"{\" + opts._n + super.render(opts) + \"}\" + opts._n\n  }\n}\n\nclass Root extends ParentNode {}\n\nclass Else extends BlockNode {\n  static readonly kind = \"else\"\n}\n\nclass If extends BlockNode {\n  static readonly kind = \"if\"\n  else?: If | Else\n  constructor(private condition: Code | boolean, nodes?: ChildNode[]) {\n    super(nodes)\n  }\n\n  render(opts: CGOptions): string {\n    let code = `if(${this.condition})` + super.render(opts)\n    if (this.else) code += \"else \" + this.else.render(opts)\n    return code\n  }\n\n  optimizeNodes(): If | ChildNode[] | undefined {\n    super.optimizeNodes()\n    const cond = this.condition\n    if (cond === true) return this.nodes // else is ignored here\n    let e = this.else\n    if (e) {\n      const ns = e.optimizeNodes()\n      e = this.else = Array.isArray(ns) ? new Else(ns) : (ns as Else | undefined)\n    }\n    if (e) {\n      if (cond === false) return e instanceof If ? e : e.nodes\n      if (this.nodes.length) return this\n      return new If(not(cond), e instanceof If ? [e] : e.nodes)\n    }\n    if (cond === false || !this.nodes.length) return undefined\n    return this\n  }\n\n  optimizeNames(names: UsedNames, constants: Constants): this | undefined {\n    this.else = this.else?.optimizeNames(names, constants)\n    if (!(super.optimizeNames(names, constants) || this.else)) return\n    this.condition = optimizeExpr(this.condition, names, constants)\n    return this\n  }\n\n  get names(): UsedNames {\n    const names = super.names\n    addExprNames(names, this.condition)\n    if (this.else) addNames(names, this.else.names)\n    return names\n  }\n\n  // get count(): number {\n  //   return super.count + (this.else?.count || 0)\n  // }\n}\n\nabstract class For extends BlockNode {\n  static readonly kind = \"for\"\n}\n\nclass ForLoop extends For {\n  constructor(private iteration: Code) {\n    super()\n  }\n\n  render(opts: CGOptions): string {\n    return `for(${this.iteration})` + super.render(opts)\n  }\n\n  optimizeNames(names: UsedNames, constants: Constants): this | undefined {\n    if (!super.optimizeNames(names, constants)) return\n    this.iteration = optimizeExpr(this.iteration, names, constants)\n    return this\n  }\n\n  get names(): UsedNames {\n    return addNames(super.names, this.iteration.names)\n  }\n}\n\nclass ForRange extends For {\n  constructor(\n    private readonly varKind: Name,\n    private readonly name: Name,\n    private readonly from: SafeExpr,\n    private readonly to: SafeExpr\n  ) {\n    super()\n  }\n\n  render(opts: CGOptions): string {\n    const varKind = opts.es5 ? varKinds.var : this.varKind\n    const {name, from, to} = this\n    return `for(${varKind} ${name}=${from}; ${name}<${to}; ${name}++)` + super.render(opts)\n  }\n\n  get names(): UsedNames {\n    const names = addExprNames(super.names, this.from)\n    return addExprNames(names, this.to)\n  }\n}\n\nclass ForIter extends For {\n  constructor(\n    private readonly loop: \"of\" | \"in\",\n    private readonly varKind: Name,\n    private readonly name: Name,\n    private iterable: Code\n  ) {\n    super()\n  }\n\n  render(opts: CGOptions): string {\n    return `for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})` + super.render(opts)\n  }\n\n  optimizeNames(names: UsedNames, constants: Constants): this | undefined {\n    if (!super.optimizeNames(names, constants)) return\n    this.iterable = optimizeExpr(this.iterable, names, constants)\n    return this\n  }\n\n  get names(): UsedNames {\n    return addNames(super.names, this.iterable.names)\n  }\n}\n\nclass Func extends BlockNode {\n  static readonly kind = \"func\"\n  constructor(public name: Name, public args: Code, public async?: boolean) {\n    super()\n  }\n\n  render(opts: CGOptions): string {\n    const _async = this.async ? \"async \" : \"\"\n    return `${_async}function ${this.name}(${this.args})` + super.render(opts)\n  }\n}\n\nclass Return extends ParentNode {\n  static readonly kind = \"return\"\n\n  render(opts: CGOptions): string {\n    return \"return \" + super.render(opts)\n  }\n}\n\nclass Try extends BlockNode {\n  catch?: Catch\n  finally?: Finally\n\n  render(opts: CGOptions): string {\n    let code = \"try\" + super.render(opts)\n    if (this.catch) code += this.catch.render(opts)\n    if (this.finally) code += this.finally.render(opts)\n    return code\n  }\n\n  optimizeNodes(): this {\n    super.optimizeNodes()\n    this.catch?.optimizeNodes() as Catch | undefined\n    this.finally?.optimizeNodes() as Finally | undefined\n    return this\n  }\n\n  optimizeNames(names: UsedNames, constants: Constants): this {\n    super.optimizeNames(names, constants)\n    this.catch?.optimizeNames(names, constants)\n    this.finally?.optimizeNames(names, constants)\n    return this\n  }\n\n  get names(): UsedNames {\n    const names = super.names\n    if (this.catch) addNames(names, this.catch.names)\n    if (this.finally) addNames(names, this.finally.names)\n    return names\n  }\n\n  // get count(): number {\n  //   return super.count + (this.catch?.count || 0) + (this.finally?.count || 0)\n  // }\n}\n\nclass Catch extends BlockNode {\n  static readonly kind = \"catch\"\n  constructor(readonly error: Name) {\n    super()\n  }\n\n  render(opts: CGOptions): string {\n    return `catch(${this.error})` + super.render(opts)\n  }\n}\n\nclass Finally extends BlockNode {\n  static readonly kind = \"finally\"\n  render(opts: CGOptions): string {\n    return \"finally\" + super.render(opts)\n  }\n}\n\ntype StartBlockNode = If | For | Func | Return | Try\n\ntype LeafNode = Def | Assign | Label | Break | Throw | AnyCode\n\ntype ChildNode = StartBlockNode | LeafNode\n\ntype EndBlockNodeType =\n  | typeof If\n  | typeof Else\n  | typeof For\n  | typeof Func\n  | typeof Return\n  | typeof Catch\n  | typeof Finally\n\ntype Constants = Record<string, SafeExpr | undefined>\n\nexport interface CodeGenOptions {\n  es5?: boolean\n  lines?: boolean\n  ownProperties?: boolean\n}\n\ninterface CGOptions extends CodeGenOptions {\n  _n: \"\\n\" | \"\"\n}\n\nexport class CodeGen {\n  readonly _scope: Scope\n  readonly _extScope: ValueScope\n  readonly _values: ScopeValueSets = {}\n  private readonly _nodes: ParentNode[]\n  private readonly _blockStarts: number[] = []\n  private readonly _constants: Constants = {}\n  private readonly opts: CGOptions\n\n  constructor(extScope: ValueScope, opts: CodeGenOptions = {}) {\n    this.opts = {...opts, _n: opts.lines ? \"\\n\" : \"\"}\n    this._extScope = extScope\n    this._scope = new Scope({parent: extScope})\n    this._nodes = [new Root()]\n  }\n\n  toString(): string {\n    return this._root.render(this.opts)\n  }\n\n  // returns unique name in the internal scope\n  name(prefix: string): Name {\n    return this._scope.name(prefix)\n  }\n\n  // reserves unique name in the external scope\n  scopeName(prefix: string): ValueScopeName {\n    return this._extScope.name(prefix)\n  }\n\n  // reserves unique name in the external scope and assigns value to it\n  scopeValue(prefixOrName: ValueScopeName | string, value: NameValue): Name {\n    const name = this._extScope.value(prefixOrName, value)\n    const vs = this._values[name.prefix] || (this._values[name.prefix] = new Set())\n    vs.add(name)\n    return name\n  }\n\n  getScopeValue(prefix: string, keyOrRef: unknown): ValueScopeName | undefined {\n    return this._extScope.getValue(prefix, keyOrRef)\n  }\n\n  // return code that assigns values in the external scope to the names that are used internally\n  // (same names that were returned by gen.scopeName or gen.scopeValue)\n  scopeRefs(scopeName: Name): Code {\n    return this._extScope.scopeRefs(scopeName, this._values)\n  }\n\n  scopeCode(): Code {\n    return this._extScope.scopeCode(this._values)\n  }\n\n  private _def(\n    varKind: Name,\n    nameOrPrefix: Name | string,\n    rhs?: SafeExpr,\n    constant?: boolean\n  ): Name {\n    const name = this._scope.toName(nameOrPrefix)\n    if (rhs !== undefined && constant) this._constants[name.str] = rhs\n    this._leafNode(new Def(varKind, name, rhs))\n    return name\n  }\n\n  // `const` declaration (`var` in es5 mode)\n  const(nameOrPrefix: Name | string, rhs: SafeExpr, _constant?: boolean): Name {\n    return this._def(varKinds.const, nameOrPrefix, rhs, _constant)\n  }\n\n  // `let` declaration with optional assignment (`var` in es5 mode)\n  let(nameOrPrefix: Name | string, rhs?: SafeExpr, _constant?: boolean): Name {\n    return this._def(varKinds.let, nameOrPrefix, rhs, _constant)\n  }\n\n  // `var` declaration with optional assignment\n  var(nameOrPrefix: Name | string, rhs?: SafeExpr, _constant?: boolean): Name {\n    return this._def(varKinds.var, nameOrPrefix, rhs, _constant)\n  }\n\n  // assignment code\n  assign(lhs: Code, rhs: SafeExpr, sideEffects?: boolean): CodeGen {\n    return this._leafNode(new Assign(lhs, rhs, sideEffects))\n  }\n\n  // `+=` code\n  add(lhs: Code, rhs: SafeExpr): CodeGen {\n    return this._leafNode(new AssignOp(lhs, operators.ADD, rhs))\n  }\n\n  // appends passed SafeExpr to code or executes Block\n  code(c: Block | SafeExpr): CodeGen {\n    if (typeof c == \"function\") c()\n    else if (c !== nil) this._leafNode(new AnyCode(c))\n    return this\n  }\n\n  // returns code for object literal for the passed argument list of key-value pairs\n  object(...keyValues: [Name | string, SafeExpr | string][]): _Code {\n    const code: CodeItem[] = [\"{\"]\n    for (const [key, value] of keyValues) {\n      if (code.length > 1) code.push(\",\")\n      code.push(key)\n      if (key !== value || this.opts.es5) {\n        code.push(\":\")\n        addCodeArg(code, value)\n      }\n    }\n    code.push(\"}\")\n    return new _Code(code)\n  }\n\n  // `if` clause (or statement if `thenBody` and, optionally, `elseBody` are passed)\n  if(condition: Code | boolean, thenBody?: Block, elseBody?: Block): CodeGen {\n    this._blockNode(new If(condition))\n\n    if (thenBody && elseBody) {\n      this.code(thenBody).else().code(elseBody).endIf()\n    } else if (thenBody) {\n      this.code(thenBody).endIf()\n    } else if (elseBody) {\n      throw new Error('CodeGen: \"else\" body without \"then\" body')\n    }\n    return this\n  }\n\n  // `else if` clause - invalid without `if` or after `else` clauses\n  elseIf(condition: Code | boolean): CodeGen {\n    return this._elseNode(new If(condition))\n  }\n\n  // `else` clause - only valid after `if` or `else if` clauses\n  else(): CodeGen {\n    return this._elseNode(new Else())\n  }\n\n  // end `if` statement (needed if gen.if was used only with condition)\n  endIf(): CodeGen {\n    return this._endBlockNode(If, Else)\n  }\n\n  private _for(node: For, forBody?: Block): CodeGen {\n    this._blockNode(node)\n    if (forBody) this.code(forBody).endFor()\n    return this\n  }\n\n  // a generic `for` clause (or statement if `forBody` is passed)\n  for(iteration: Code, forBody?: Block): CodeGen {\n    return this._for(new ForLoop(iteration), forBody)\n  }\n\n  // `for` statement for a range of values\n  forRange(\n    nameOrPrefix: Name | string,\n    from: SafeExpr,\n    to: SafeExpr,\n    forBody: (index: Name) => void,\n    varKind: Code = this.opts.es5 ? varKinds.var : varKinds.let\n  ): CodeGen {\n    const name = this._scope.toName(nameOrPrefix)\n    return this._for(new ForRange(varKind, name, from, to), () => forBody(name))\n  }\n\n  // `for-of` statement (in es5 mode replace with a normal for loop)\n  forOf(\n    nameOrPrefix: Name | string,\n    iterable: Code,\n    forBody: (item: Name) => void,\n    varKind: Code = varKinds.const\n  ): CodeGen {\n    const name = this._scope.toName(nameOrPrefix)\n    if (this.opts.es5) {\n      const arr = iterable instanceof Name ? iterable : this.var(\"_arr\", iterable)\n      return this.forRange(\"_i\", 0, _`${arr}.length`, (i) => {\n        this.var(name, _`${arr}[${i}]`)\n        forBody(name)\n      })\n    }\n    return this._for(new ForIter(\"of\", varKind, name, iterable), () => forBody(name))\n  }\n\n  // `for-in` statement.\n  // With option `ownProperties` replaced with a `for-of` loop for object keys\n  forIn(\n    nameOrPrefix: Name | string,\n    obj: Code,\n    forBody: (item: Name) => void,\n    varKind: Code = this.opts.es5 ? varKinds.var : varKinds.const\n  ): CodeGen {\n    if (this.opts.ownProperties) {\n      return this.forOf(nameOrPrefix, _`Object.keys(${obj})`, forBody)\n    }\n    const name = this._scope.toName(nameOrPrefix)\n    return this._for(new ForIter(\"in\", varKind, name, obj), () => forBody(name))\n  }\n\n  // end `for` loop\n  endFor(): CodeGen {\n    return this._endBlockNode(For)\n  }\n\n  // `label` statement\n  label(label: Name): CodeGen {\n    return this._leafNode(new Label(label))\n  }\n\n  // `break` statement\n  break(label?: Code): CodeGen {\n    return this._leafNode(new Break(label))\n  }\n\n  // `return` statement\n  return(value: Block | SafeExpr): CodeGen {\n    const node = new Return()\n    this._blockNode(node)\n    this.code(value)\n    if (node.nodes.length !== 1) throw new Error('CodeGen: \"return\" should have one node')\n    return this._endBlockNode(Return)\n  }\n\n  // `try` statement\n  try(tryBody: Block, catchCode?: (e: Name) => void, finallyCode?: Block): CodeGen {\n    if (!catchCode && !finallyCode) throw new Error('CodeGen: \"try\" without \"catch\" and \"finally\"')\n    const node = new Try()\n    this._blockNode(node)\n    this.code(tryBody)\n    if (catchCode) {\n      const error = this.name(\"e\")\n      this._currNode = node.catch = new Catch(error)\n      catchCode(error)\n    }\n    if (finallyCode) {\n      this._currNode = node.finally = new Finally()\n      this.code(finallyCode)\n    }\n    return this._endBlockNode(Catch, Finally)\n  }\n\n  // `throw` statement\n  throw(error: Code): CodeGen {\n    return this._leafNode(new Throw(error))\n  }\n\n  // start self-balancing block\n  block(body?: Block, nodeCount?: number): CodeGen {\n    this._blockStarts.push(this._nodes.length)\n    if (body) this.code(body).endBlock(nodeCount)\n    return this\n  }\n\n  // end the current self-balancing block\n  endBlock(nodeCount?: number): CodeGen {\n    const len = this._blockStarts.pop()\n    if (len === undefined) throw new Error(\"CodeGen: not in self-balancing block\")\n    const toClose = this._nodes.length - len\n    if (toClose < 0 || (nodeCount !== undefined && toClose !== nodeCount)) {\n      throw new Error(`CodeGen: wrong number of nodes: ${toClose} vs ${nodeCount} expected`)\n    }\n    this._nodes.length = len\n    return this\n  }\n\n  // `function` heading (or definition if funcBody is passed)\n  func(name: Name, args: Code = nil, async?: boolean, funcBody?: Block): CodeGen {\n    this._blockNode(new Func(name, args, async))\n    if (funcBody) this.code(funcBody).endFunc()\n    return this\n  }\n\n  // end function definition\n  endFunc(): CodeGen {\n    return this._endBlockNode(Func)\n  }\n\n  optimize(n = 1): void {\n    while (n-- > 0) {\n      this._root.optimizeNodes()\n      this._root.optimizeNames(this._root.names, this._constants)\n    }\n  }\n\n  private _leafNode(node: LeafNode): CodeGen {\n    this._currNode.nodes.push(node)\n    return this\n  }\n\n  private _blockNode(node: StartBlockNode): void {\n    this._currNode.nodes.push(node)\n    this._nodes.push(node)\n  }\n\n  private _endBlockNode(N1: EndBlockNodeType, N2?: EndBlockNodeType): CodeGen {\n    const n = this._currNode\n    if (n instanceof N1 || (N2 && n instanceof N2)) {\n      this._nodes.pop()\n      return this\n    }\n    throw new Error(`CodeGen: not in block \"${N2 ? `${N1.kind}/${N2.kind}` : N1.kind}\"`)\n  }\n\n  private _elseNode(node: If | Else): CodeGen {\n    const n = this._currNode\n    if (!(n instanceof If)) {\n      throw new Error('CodeGen: \"else\" without \"if\"')\n    }\n    this._currNode = n.else = node\n    return this\n  }\n\n  private get _root(): Root {\n    return this._nodes[0] as Root\n  }\n\n  private get _currNode(): ParentNode {\n    const ns = this._nodes\n    return ns[ns.length - 1]\n  }\n\n  private set _currNode(node: ParentNode) {\n    const ns = this._nodes\n    ns[ns.length - 1] = node\n  }\n\n  // get nodeCount(): number {\n  //   return this._root.count\n  // }\n}\n\nfunction addNames(names: UsedNames, from: UsedNames): UsedNames {\n  for (const n in from) names[n] = (names[n] || 0) + (from[n] || 0)\n  return names\n}\n\nfunction addExprNames(names: UsedNames, from: SafeExpr): UsedNames {\n  return from instanceof _CodeOrName ? addNames(names, from.names) : names\n}\n\nfunction optimizeExpr<T extends SafeExpr | Code>(expr: T, names: UsedNames, constants: Constants): T\nfunction optimizeExpr(expr: SafeExpr, names: UsedNames, constants: Constants): SafeExpr {\n  if (expr instanceof Name) return replaceName(expr)\n  if (!canOptimize(expr)) return expr\n  return new _Code(\n    expr._items.reduce((items: CodeItem[], c: SafeExpr | string) => {\n      if (c instanceof Name) c = replaceName(c)\n      if (c instanceof _Code) items.push(...c._items)\n      else items.push(c)\n      return items\n    }, [])\n  )\n\n  function replaceName(n: Name): SafeExpr {\n    const c = constants[n.str]\n    if (c === undefined || names[n.str] !== 1) return n\n    delete names[n.str]\n    return c\n  }\n\n  function canOptimize(e: SafeExpr): e is _Code {\n    return (\n      e instanceof _Code &&\n      e._items.some(\n        (c) => c instanceof Name && names[c.str] === 1 && constants[c.str] !== undefined\n      )\n    )\n  }\n}\n\nfunction subtractNames(names: UsedNames, from: UsedNames): void {\n  for (const n in from) names[n] = (names[n] || 0) - (from[n] || 0)\n}\n\nexport function not<T extends Code | SafeExpr>(x: T): T\nexport function not(x: Code | SafeExpr): Code | SafeExpr {\n  return typeof x == \"boolean\" || typeof x == \"number\" || x === null ? !x : _`!${par(x)}`\n}\n\nconst andCode = mappend(operators.AND)\n\n// boolean AND (&&) expression with the passed arguments\nexport function and(...args: Code[]): Code {\n  return args.reduce(andCode)\n}\n\nconst orCode = mappend(operators.OR)\n\n// boolean OR (||) expression with the passed arguments\nexport function or(...args: Code[]): Code {\n  return args.reduce(orCode)\n}\n\ntype MAppend = (x: Code, y: Code) => Code\n\nfunction mappend(op: Code): MAppend {\n  return (x, y) => (x === nil ? y : y === nil ? x : _`${par(x)} ${op} ${par(y)}`)\n}\n\nfunction par(x: Code): Code {\n  return x instanceof Name ? x : _`(${x})`\n}\n","export abstract class _CodeOrName {\n  abstract readonly str: string\n  abstract readonly names: UsedNames\n  abstract toString(): string\n  abstract emptyStr(): boolean\n}\n\nexport const IDENTIFIER = /^[a-z$_][a-z$_0-9]*$/i\n\nexport class Name extends _CodeOrName {\n  readonly str: string\n  constructor(s: string) {\n    super()\n    if (!IDENTIFIER.test(s)) throw new Error(\"CodeGen: name must be a valid identifier\")\n    this.str = s\n  }\n\n  toString(): string {\n    return this.str\n  }\n\n  emptyStr(): boolean {\n    return false\n  }\n\n  get names(): UsedNames {\n    return {[this.str]: 1}\n  }\n}\n\nexport class _Code extends _CodeOrName {\n  readonly _items: readonly CodeItem[]\n  private _str?: string\n  private _names?: UsedNames\n\n  constructor(code: string | readonly CodeItem[]) {\n    super()\n    this._items = typeof code === \"string\" ? [code] : code\n  }\n\n  toString(): string {\n    return this.str\n  }\n\n  emptyStr(): boolean {\n    if (this._items.length > 1) return false\n    const item = this._items[0]\n    return item === \"\" || item === '\"\"'\n  }\n\n  get str(): string {\n    return (this._str ??= this._items.reduce((s: string, c: CodeItem) => `${s}${c}`, \"\"))\n  }\n\n  get names(): UsedNames {\n    return (this._names ??= this._items.reduce((names: UsedNames, c) => {\n      if (c instanceof Name) names[c.str] = (names[c.str] || 0) + 1\n      return names\n    }, {}))\n  }\n}\n\nexport type CodeItem = Name | string | number | boolean | null\n\nexport type UsedNames = Record<string, number | undefined>\n\nexport type Code = _Code | Name\n\nexport type SafeExpr = Code | number | boolean | null\n\nexport const nil = new _Code(\"\")\n\ntype CodeArg = SafeExpr | string | undefined\n\nexport function _(strs: TemplateStringsArray, ...args: CodeArg[]): _Code {\n  const code: CodeItem[] = [strs[0]]\n  let i = 0\n  while (i < args.length) {\n    addCodeArg(code, args[i])\n    code.push(strs[++i])\n  }\n  return new _Code(code)\n}\n\nconst plus = new _Code(\"+\")\n\nexport function str(strs: TemplateStringsArray, ...args: (CodeArg | string[])[]): _Code {\n  const expr: CodeItem[] = [safeStringify(strs[0])]\n  let i = 0\n  while (i < args.length) {\n    expr.push(plus)\n    addCodeArg(expr, args[i])\n    expr.push(plus, safeStringify(strs[++i]))\n  }\n  optimize(expr)\n  return new _Code(expr)\n}\n\nexport function addCodeArg(code: CodeItem[], arg: CodeArg | string[]): void {\n  if (arg instanceof _Code) code.push(...arg._items)\n  else if (arg instanceof Name) code.push(arg)\n  else code.push(interpolate(arg))\n}\n\nfunction optimize(expr: CodeItem[]): void {\n  let i = 1\n  while (i < expr.length - 1) {\n    if (expr[i] === plus) {\n      const res = mergeExprItems(expr[i - 1], expr[i + 1])\n      if (res !== undefined) {\n        expr.splice(i - 1, 3, res)\n        continue\n      }\n      expr[i++] = \"+\"\n    }\n    i++\n  }\n}\n\nfunction mergeExprItems(a: CodeItem, b: CodeItem): CodeItem | undefined {\n  if (b === '\"\"') return a\n  if (a === '\"\"') return b\n  if (typeof a == \"string\") {\n    if (b instanceof Name || a[a.length - 1] !== '\"') return\n    if (typeof b != \"string\") return `${a.slice(0, -1)}${b}\"`\n    if (b[0] === '\"') return a.slice(0, -1) + b.slice(1)\n    return\n  }\n  if (typeof b == \"string\" && b[0] === '\"' && !(a instanceof Name)) return `\"${a}${b.slice(1)}`\n  return\n}\n\nexport function strConcat(c1: Code, c2: Code): Code {\n  return c2.emptyStr() ? c1 : c1.emptyStr() ? c2 : str`${c1}${c2}`\n}\n\n// TODO do not allow arrays here\nfunction interpolate(x?: string | string[] | number | boolean | null): SafeExpr | string {\n  return typeof x == \"number\" || typeof x == \"boolean\" || x === null\n    ? x\n    : safeStringify(Array.isArray(x) ? x.join(\",\") : x)\n}\n\nexport function stringify(x: unknown): Code {\n  return new _Code(safeStringify(x))\n}\n\nexport function safeStringify(x: unknown): string {\n  return JSON.stringify(x)\n    .replace(/\\u2028/g, \"\\\\u2028\")\n    .replace(/\\u2029/g, \"\\\\u2029\")\n}\n\nexport function getProperty(key: Code | string | number): Code {\n  return typeof key == \"string\" && IDENTIFIER.test(key) ? new _Code(`.${key}`) : _`[${key}]`\n}\n\n//Does best effort to format the name properly\nexport function getEsmExportName(key: Code | string | number): Code {\n  if (typeof key == \"string\" && IDENTIFIER.test(key)) {\n    return new _Code(`${key}`)\n  }\n  throw new Error(`CodeGen: invalid export name: ${key}, use explicit $id name mapping`)\n}\n\nexport function regexpCode(rx: RegExp): Code {\n  return new _Code(rx.toString())\n}\n","import {_, nil, Code, Name} from \"./code\"\n\ninterface NameGroup {\n  prefix: string\n  index: number\n}\n\nexport interface NameValue {\n  ref: ValueReference // this is the reference to any value that can be referred to from generated code via `globals` var in the closure\n  key?: unknown // any key to identify a global to avoid duplicates, if not passed ref is used\n  code?: Code // this is the code creating the value needed for standalone code wit_out closure - can be a primitive value, function or import (`require`)\n}\n\nexport type ValueReference = unknown // possibly make CodeGen parameterized type on this type\n\nclass ValueError extends Error {\n  readonly value?: NameValue\n  constructor(name: ValueScopeName) {\n    super(`CodeGen: \"code\" for ${name} not defined`)\n    this.value = name.value\n  }\n}\n\ninterface ScopeOptions {\n  prefixes?: Set<string>\n  parent?: Scope\n}\n\ninterface ValueScopeOptions extends ScopeOptions {\n  scope: ScopeStore\n  es5?: boolean\n  lines?: boolean\n}\n\nexport type ScopeStore = Record<string, ValueReference[] | undefined>\n\ntype ScopeValues = {\n  [Prefix in string]?: Map<unknown, ValueScopeName>\n}\n\nexport type ScopeValueSets = {\n  [Prefix in string]?: Set<ValueScopeName>\n}\n\nexport enum UsedValueState {\n  Started,\n  Completed,\n}\n\nexport type UsedScopeValues = {\n  [Prefix in string]?: Map<ValueScopeName, UsedValueState | undefined>\n}\n\nexport const varKinds = {\n  const: new Name(\"const\"),\n  let: new Name(\"let\"),\n  var: new Name(\"var\"),\n}\n\nexport class Scope {\n  protected readonly _names: {[Prefix in string]?: NameGroup} = {}\n  protected readonly _prefixes?: Set<string>\n  protected readonly _parent?: Scope\n\n  constructor({prefixes, parent}: ScopeOptions = {}) {\n    this._prefixes = prefixes\n    this._parent = parent\n  }\n\n  toName(nameOrPrefix: Name | string): Name {\n    return nameOrPrefix instanceof Name ? nameOrPrefix : this.name(nameOrPrefix)\n  }\n\n  name(prefix: string): Name {\n    return new Name(this._newName(prefix))\n  }\n\n  protected _newName(prefix: string): string {\n    const ng = this._names[prefix] || this._nameGroup(prefix)\n    return `${prefix}${ng.index++}`\n  }\n\n  private _nameGroup(prefix: string): NameGroup {\n    if (this._parent?._prefixes?.has(prefix) || (this._prefixes && !this._prefixes.has(prefix))) {\n      throw new Error(`CodeGen: prefix \"${prefix}\" is not allowed in this scope`)\n    }\n    return (this._names[prefix] = {prefix, index: 0})\n  }\n}\n\ninterface ScopePath {\n  property: string\n  itemIndex: number\n}\n\nexport class ValueScopeName extends Name {\n  readonly prefix: string\n  value?: NameValue\n  scopePath?: Code\n\n  constructor(prefix: string, nameStr: string) {\n    super(nameStr)\n    this.prefix = prefix\n  }\n\n  setValue(value: NameValue, {property, itemIndex}: ScopePath): void {\n    this.value = value\n    this.scopePath = _`.${new Name(property)}[${itemIndex}]`\n  }\n}\n\ninterface VSOptions extends ValueScopeOptions {\n  _n: Code\n}\n\nconst line = _`\\n`\n\nexport class ValueScope extends Scope {\n  protected readonly _values: ScopeValues = {}\n  protected readonly _scope: ScopeStore\n  readonly opts: VSOptions\n\n  constructor(opts: ValueScopeOptions) {\n    super(opts)\n    this._scope = opts.scope\n    this.opts = {...opts, _n: opts.lines ? line : nil}\n  }\n\n  get(): ScopeStore {\n    return this._scope\n  }\n\n  name(prefix: string): ValueScopeName {\n    return new ValueScopeName(prefix, this._newName(prefix))\n  }\n\n  value(nameOrPrefix: ValueScopeName | string, value: NameValue): ValueScopeName {\n    if (value.ref === undefined) throw new Error(\"CodeGen: ref must be passed in value\")\n    const name = this.toName(nameOrPrefix) as ValueScopeName\n    const {prefix} = name\n    const valueKey = value.key ?? value.ref\n    let vs = this._values[prefix]\n    if (vs) {\n      const _name = vs.get(valueKey)\n      if (_name) return _name\n    } else {\n      vs = this._values[prefix] = new Map()\n    }\n    vs.set(valueKey, name)\n\n    const s = this._scope[prefix] || (this._scope[prefix] = [])\n    const itemIndex = s.length\n    s[itemIndex] = value.ref\n    name.setValue(value, {property: prefix, itemIndex})\n    return name\n  }\n\n  getValue(prefix: string, keyOrRef: unknown): ValueScopeName | undefined {\n    const vs = this._values[prefix]\n    if (!vs) return\n    return vs.get(keyOrRef)\n  }\n\n  scopeRefs(scopeName: Name, values: ScopeValues | ScopeValueSets = this._values): Code {\n    return this._reduceValues(values, (name: ValueScopeName) => {\n      if (name.scopePath === undefined) throw new Error(`CodeGen: name \"${name}\" has no value`)\n      return _`${scopeName}${name.scopePath}`\n    })\n  }\n\n  scopeCode(\n    values: ScopeValues | ScopeValueSets = this._values,\n    usedValues?: UsedScopeValues,\n    getCode?: (n: ValueScopeName) => Code | undefined\n  ): Code {\n    return this._reduceValues(\n      values,\n      (name: ValueScopeName) => {\n        if (name.value === undefined) throw new Error(`CodeGen: name \"${name}\" has no value`)\n        return name.value.code\n      },\n      usedValues,\n      getCode\n    )\n  }\n\n  private _reduceValues(\n    values: ScopeValues | ScopeValueSets,\n    valueCode: (n: ValueScopeName) => Code | undefined,\n    usedValues: UsedScopeValues = {},\n    getCode?: (n: ValueScopeName) => Code | undefined\n  ): Code {\n    let code: Code = nil\n    for (const prefix in values) {\n      const vs = values[prefix]\n      if (!vs) continue\n      const nameSet = (usedValues[prefix] = usedValues[prefix] || new Map())\n      vs.forEach((name: ValueScopeName) => {\n        if (nameSet.has(name)) return\n        nameSet.set(name, UsedValueState.Started)\n        let c = valueCode(name)\n        if (c) {\n          const def = this.opts.es5 ? varKinds.var : varKinds.const\n          code = _`${code}${def} ${name} = ${c};${this.opts._n}`\n        } else if ((c = getCode?.(name))) {\n          code = _`${code}${c}${this.opts._n}`\n        } else {\n          throw new ValueError(name)\n        }\n        nameSet.set(name, UsedValueState.Completed)\n      })\n    }\n    return code\n  }\n}\n","import type {AnySchema, EvaluatedProperties, EvaluatedItems} from \"../types\"\nimport type {SchemaCxt, SchemaObjCxt} from \".\"\nimport {_, getProperty, Code, Name, CodeGen} from \"./codegen\"\nimport {_Code} from \"./codegen/code\"\nimport type {Rule, ValidationRules} from \"./rules\"\n\n// TODO refactor to use Set\nexport function toHash<T extends string = string>(arr: T[]): {[K in T]?: true} {\n  const hash: {[K in T]?: true} = {}\n  for (const item of arr) hash[item] = true\n  return hash\n}\n\nexport function alwaysValidSchema(it: SchemaCxt, schema: AnySchema): boolean | void {\n  if (typeof schema == \"boolean\") return schema\n  if (Object.keys(schema).length === 0) return true\n  checkUnknownRules(it, schema)\n  return !schemaHasRules(schema, it.self.RULES.all)\n}\n\nexport function checkUnknownRules(it: SchemaCxt, schema: AnySchema = it.schema): void {\n  const {opts, self} = it\n  if (!opts.strictSchema) return\n  if (typeof schema === \"boolean\") return\n  const rules = self.RULES.keywords\n  for (const key in schema) {\n    if (!rules[key]) checkStrictMode(it, `unknown keyword: \"${key}\"`)\n  }\n}\n\nexport function schemaHasRules(\n  schema: AnySchema,\n  rules: {[Key in string]?: boolean | Rule}\n): boolean {\n  if (typeof schema == \"boolean\") return !schema\n  for (const key in schema) if (rules[key]) return true\n  return false\n}\n\nexport function schemaHasRulesButRef(schema: AnySchema, RULES: ValidationRules): boolean {\n  if (typeof schema == \"boolean\") return !schema\n  for (const key in schema) if (key !== \"$ref\" && RULES.all[key]) return true\n  return false\n}\n\nexport function schemaRefOrVal(\n  {topSchemaRef, schemaPath}: SchemaObjCxt,\n  schema: unknown,\n  keyword: string,\n  $data?: string | false\n): Code | number | boolean {\n  if (!$data) {\n    if (typeof schema == \"number\" || typeof schema == \"boolean\") return schema\n    if (typeof schema == \"string\") return _`${schema}`\n  }\n  return _`${topSchemaRef}${schemaPath}${getProperty(keyword)}`\n}\n\nexport function unescapeFragment(str: string): string {\n  return unescapeJsonPointer(decodeURIComponent(str))\n}\n\nexport function escapeFragment(str: string | number): string {\n  return encodeURIComponent(escapeJsonPointer(str))\n}\n\nexport function escapeJsonPointer(str: string | number): string {\n  if (typeof str == \"number\") return `${str}`\n  return str.replace(/~/g, \"~0\").replace(/\\//g, \"~1\")\n}\n\nexport function unescapeJsonPointer(str: string): string {\n  return str.replace(/~1/g, \"/\").replace(/~0/g, \"~\")\n}\n\nexport function eachItem<T>(xs: T | T[], f: (x: T) => void): void {\n  if (Array.isArray(xs)) {\n    for (const x of xs) f(x)\n  } else {\n    f(xs)\n  }\n}\n\ntype SomeEvaluated = EvaluatedProperties | EvaluatedItems\n\ntype MergeEvaluatedFunc<T extends SomeEvaluated> = (\n  gen: CodeGen,\n  from: Name | T,\n  to: Name | Exclude<T, true> | undefined,\n  toName?: typeof Name\n) => Name | T\n\ninterface MakeMergeFuncArgs<T extends SomeEvaluated> {\n  mergeNames: (gen: CodeGen, from: Name, to: Name) => void\n  mergeToName: (gen: CodeGen, from: T, to: Name) => void\n  mergeValues: (from: T, to: Exclude<T, true>) => T\n  resultToName: (gen: CodeGen, res?: T) => Name\n}\n\nfunction makeMergeEvaluated<T extends SomeEvaluated>({\n  mergeNames,\n  mergeToName,\n  mergeValues,\n  resultToName,\n}: MakeMergeFuncArgs<T>): MergeEvaluatedFunc<T> {\n  return (gen, from, to, toName) => {\n    const res =\n      to === undefined\n        ? from\n        : to instanceof Name\n        ? (from instanceof Name ? mergeNames(gen, from, to) : mergeToName(gen, from, to), to)\n        : from instanceof Name\n        ? (mergeToName(gen, to, from), from)\n        : mergeValues(from, to)\n    return toName === Name && !(res instanceof Name) ? resultToName(gen, res) : res\n  }\n}\n\ninterface MergeEvaluated {\n  props: MergeEvaluatedFunc<EvaluatedProperties>\n  items: MergeEvaluatedFunc<EvaluatedItems>\n}\n\nexport const mergeEvaluated: MergeEvaluated = {\n  props: makeMergeEvaluated({\n    mergeNames: (gen, from, to) =>\n      gen.if(_`${to} !== true && ${from} !== undefined`, () => {\n        gen.if(\n          _`${from} === true`,\n          () => gen.assign(to, true),\n          () => gen.assign(to, _`${to} || {}`).code(_`Object.assign(${to}, ${from})`)\n        )\n      }),\n    mergeToName: (gen, from, to) =>\n      gen.if(_`${to} !== true`, () => {\n        if (from === true) {\n          gen.assign(to, true)\n        } else {\n          gen.assign(to, _`${to} || {}`)\n          setEvaluated(gen, to, from)\n        }\n      }),\n    mergeValues: (from, to) => (from === true ? true : {...from, ...to}),\n    resultToName: evaluatedPropsToName,\n  }),\n  items: makeMergeEvaluated({\n    mergeNames: (gen, from, to) =>\n      gen.if(_`${to} !== true && ${from} !== undefined`, () =>\n        gen.assign(to, _`${from} === true ? true : ${to} > ${from} ? ${to} : ${from}`)\n      ),\n    mergeToName: (gen, from, to) =>\n      gen.if(_`${to} !== true`, () =>\n        gen.assign(to, from === true ? true : _`${to} > ${from} ? ${to} : ${from}`)\n      ),\n    mergeValues: (from, to) => (from === true ? true : Math.max(from, to)),\n    resultToName: (gen, items) => gen.var(\"items\", items),\n  }),\n}\n\nexport function evaluatedPropsToName(gen: CodeGen, ps?: EvaluatedProperties): Name {\n  if (ps === true) return gen.var(\"props\", true)\n  const props = gen.var(\"props\", _`{}`)\n  if (ps !== undefined) setEvaluated(gen, props, ps)\n  return props\n}\n\nexport function setEvaluated(gen: CodeGen, props: Name, ps: {[K in string]?: true}): void {\n  Object.keys(ps).forEach((p) => gen.assign(_`${props}${getProperty(p)}`, true))\n}\n\nconst snippets: {[S in string]?: _Code} = {}\n\nexport function useFunc(gen: CodeGen, f: {code: string}): Name {\n  return gen.scopeValue(\"func\", {\n    ref: f,\n    code: snippets[f.code] || (snippets[f.code] = new _Code(f.code)),\n  })\n}\n\nexport enum Type {\n  Num,\n  Str,\n}\n\nexport function getErrorPath(\n  dataProp: Name | string | number,\n  dataPropType?: Type,\n  jsPropertySyntax?: boolean\n): Code | string {\n  // let path\n  if (dataProp instanceof Name) {\n    const isNumber = dataPropType === Type.Num\n    return jsPropertySyntax\n      ? isNumber\n        ? _`\"[\" + ${dataProp} + \"]\"`\n        : _`\"['\" + ${dataProp} + \"']\"`\n      : isNumber\n      ? _`\"/\" + ${dataProp}`\n      : _`\"/\" + ${dataProp}.replace(/~/g, \"~0\").replace(/\\\\//g, \"~1\")` // TODO maybe use global escapePointer\n  }\n  return jsPropertySyntax ? getProperty(dataProp).toString() : \"/\" + escapeJsonPointer(dataProp)\n}\n\nexport function checkStrictMode(\n  it: SchemaCxt,\n  msg: string,\n  mode: boolean | \"log\" = it.opts.strictSchema\n): void {\n  if (!mode) return\n  msg = `strict mode: ${msg}`\n  if (mode === true) throw new Error(msg)\n  it.self.logger.warn(msg)\n}\n","import {Name} from \"./codegen\"\n\nconst names = {\n  // validation function arguments\n  data: new Name(\"data\"), // data passed to validation function\n  // args passed from referencing schema\n  valCxt: new Name(\"valCxt\"), // validation/data context - should not be used directly, it is destructured to the names below\n  instancePath: new Name(\"instancePath\"),\n  parentData: new Name(\"parentData\"),\n  parentDataProperty: new Name(\"parentDataProperty\"),\n  rootData: new Name(\"rootData\"), // root data - same as the data passed to the first/top validation function\n  dynamicAnchors: new Name(\"dynamicAnchors\"), // used to support recursiveRef and dynamicRef\n  // function scoped variables\n  vErrors: new Name(\"vErrors\"), // null or array of validation errors\n  errors: new Name(\"errors\"), // counter of validation errors\n  this: new Name(\"this\"),\n  // \"globals\"\n  self: new Name(\"self\"),\n  scope: new Name(\"scope\"),\n  // JTD serialize/parse name for JSON string and position\n  json: new Name(\"json\"),\n  jsonPos: new Name(\"jsonPos\"),\n  jsonLen: new Name(\"jsonLen\"),\n  jsonPart: new Name(\"jsonPart\"),\n}\n\nexport default names\n","import type {\n  KeywordErrorDefinition,\n  KeywordErrorCxt,\n  ErrorObject,\n  AnySchemaObject,\n} from \"../../types\"\nimport type {SchemaObjCxt} from \"..\"\nimport {isJSONType, JSONType} from \"../rules\"\nimport {schemaHasRulesForType} from \"./applicability\"\nimport {reportError} from \"../errors\"\nimport {_, nil, and, not, operators, Code, Name} from \"../codegen\"\nimport {toHash, schemaRefOrVal} from \"../util\"\n\nexport enum DataType {\n  Correct,\n  Wrong,\n}\n\nexport function getSchemaTypes(schema: AnySchemaObject): JSONType[] {\n  const types = getJSONTypes(schema.type)\n  const hasNull = types.includes(\"null\")\n  if (hasNull) {\n    if (schema.nullable === false) throw new Error(\"type: null contradicts nullable: false\")\n  } else {\n    if (!types.length && schema.nullable !== undefined) {\n      throw new Error('\"nullable\" cannot be used without \"type\"')\n    }\n    if (schema.nullable === true) types.push(\"null\")\n  }\n  return types\n}\n\nexport function getJSONTypes(ts: unknown | unknown[]): JSONType[] {\n  const types: unknown[] = Array.isArray(ts) ? ts : ts ? [ts] : []\n  if (types.every(isJSONType)) return types\n  throw new Error(\"type must be JSONType or JSONType[]: \" + types.join(\",\"))\n}\n\nexport function coerceAndCheckDataType(it: SchemaObjCxt, types: JSONType[]): boolean {\n  const {gen, data, opts} = it\n  const coerceTo = coerceToTypes(types, opts.coerceTypes)\n  const checkTypes =\n    types.length > 0 &&\n    !(coerceTo.length === 0 && types.length === 1 && schemaHasRulesForType(it, types[0]))\n  if (checkTypes) {\n    const wrongType = checkDataTypes(types, data, opts.strictNumbers, DataType.Wrong)\n    gen.if(wrongType, () => {\n      if (coerceTo.length) coerceData(it, types, coerceTo)\n      else reportTypeError(it)\n    })\n  }\n  return checkTypes\n}\n\nconst COERCIBLE: Set<JSONType> = new Set([\"string\", \"number\", \"integer\", \"boolean\", \"null\"])\nfunction coerceToTypes(types: JSONType[], coerceTypes?: boolean | \"array\"): JSONType[] {\n  return coerceTypes\n    ? types.filter((t) => COERCIBLE.has(t) || (coerceTypes === \"array\" && t === \"array\"))\n    : []\n}\n\nfunction coerceData(it: SchemaObjCxt, types: JSONType[], coerceTo: JSONType[]): void {\n  const {gen, data, opts} = it\n  const dataType = gen.let(\"dataType\", _`typeof ${data}`)\n  const coerced = gen.let(\"coerced\", _`undefined`)\n  if (opts.coerceTypes === \"array\") {\n    gen.if(_`${dataType} == 'object' && Array.isArray(${data}) && ${data}.length == 1`, () =>\n      gen\n        .assign(data, _`${data}[0]`)\n        .assign(dataType, _`typeof ${data}`)\n        .if(checkDataTypes(types, data, opts.strictNumbers), () => gen.assign(coerced, data))\n    )\n  }\n  gen.if(_`${coerced} !== undefined`)\n  for (const t of coerceTo) {\n    if (COERCIBLE.has(t) || (t === \"array\" && opts.coerceTypes === \"array\")) {\n      coerceSpecificType(t)\n    }\n  }\n  gen.else()\n  reportTypeError(it)\n  gen.endIf()\n\n  gen.if(_`${coerced} !== undefined`, () => {\n    gen.assign(data, coerced)\n    assignParentData(it, coerced)\n  })\n\n  function coerceSpecificType(t: string): void {\n    switch (t) {\n      case \"string\":\n        gen\n          .elseIf(_`${dataType} == \"number\" || ${dataType} == \"boolean\"`)\n          .assign(coerced, _`\"\" + ${data}`)\n          .elseIf(_`${data} === null`)\n          .assign(coerced, _`\"\"`)\n        return\n      case \"number\":\n        gen\n          .elseIf(\n            _`${dataType} == \"boolean\" || ${data} === null\n              || (${dataType} == \"string\" && ${data} && ${data} == +${data})`\n          )\n          .assign(coerced, _`+${data}`)\n        return\n      case \"integer\":\n        gen\n          .elseIf(\n            _`${dataType} === \"boolean\" || ${data} === null\n              || (${dataType} === \"string\" && ${data} && ${data} == +${data} && !(${data} % 1))`\n          )\n          .assign(coerced, _`+${data}`)\n        return\n      case \"boolean\":\n        gen\n          .elseIf(_`${data} === \"false\" || ${data} === 0 || ${data} === null`)\n          .assign(coerced, false)\n          .elseIf(_`${data} === \"true\" || ${data} === 1`)\n          .assign(coerced, true)\n        return\n      case \"null\":\n        gen.elseIf(_`${data} === \"\" || ${data} === 0 || ${data} === false`)\n        gen.assign(coerced, null)\n        return\n\n      case \"array\":\n        gen\n          .elseIf(\n            _`${dataType} === \"string\" || ${dataType} === \"number\"\n              || ${dataType} === \"boolean\" || ${data} === null`\n          )\n          .assign(coerced, _`[${data}]`)\n    }\n  }\n}\n\nfunction assignParentData({gen, parentData, parentDataProperty}: SchemaObjCxt, expr: Name): void {\n  // TODO use gen.property\n  gen.if(_`${parentData} !== undefined`, () =>\n    gen.assign(_`${parentData}[${parentDataProperty}]`, expr)\n  )\n}\n\nexport function checkDataType(\n  dataType: JSONType,\n  data: Name,\n  strictNums?: boolean | \"log\",\n  correct = DataType.Correct\n): Code {\n  const EQ = correct === DataType.Correct ? operators.EQ : operators.NEQ\n  let cond: Code\n  switch (dataType) {\n    case \"null\":\n      return _`${data} ${EQ} null`\n    case \"array\":\n      cond = _`Array.isArray(${data})`\n      break\n    case \"object\":\n      cond = _`${data} && typeof ${data} == \"object\" && !Array.isArray(${data})`\n      break\n    case \"integer\":\n      cond = numCond(_`!(${data} % 1) && !isNaN(${data})`)\n      break\n    case \"number\":\n      cond = numCond()\n      break\n    default:\n      return _`typeof ${data} ${EQ} ${dataType}`\n  }\n  return correct === DataType.Correct ? cond : not(cond)\n\n  function numCond(_cond: Code = nil): Code {\n    return and(_`typeof ${data} == \"number\"`, _cond, strictNums ? _`isFinite(${data})` : nil)\n  }\n}\n\nexport function checkDataTypes(\n  dataTypes: JSONType[],\n  data: Name,\n  strictNums?: boolean | \"log\",\n  correct?: DataType\n): Code {\n  if (dataTypes.length === 1) {\n    return checkDataType(dataTypes[0], data, strictNums, correct)\n  }\n  let cond: Code\n  const types = toHash(dataTypes)\n  if (types.array && types.object) {\n    const notObj = _`typeof ${data} != \"object\"`\n    cond = types.null ? notObj : _`!${data} || ${notObj}`\n    delete types.null\n    delete types.array\n    delete types.object\n  } else {\n    cond = nil\n  }\n  if (types.number) delete types.integer\n  for (const t in types) cond = and(cond, checkDataType(t as JSONType, data, strictNums, correct))\n  return cond\n}\n\nexport type TypeError = ErrorObject<\"type\", {type: string}>\n\nconst typeError: KeywordErrorDefinition = {\n  message: ({schema}) => `must be ${schema}`,\n  params: ({schema, schemaValue}) =>\n    typeof schema == \"string\" ? _`{type: ${schema}}` : _`{type: ${schemaValue}}`,\n}\n\nexport function reportTypeError(it: SchemaObjCxt): void {\n  const cxt = getTypeErrorContext(it)\n  reportError(cxt, typeError)\n}\n\nfunction getTypeErrorContext(it: SchemaObjCxt): KeywordErrorCxt {\n  const {gen, data, schema} = it\n  const schemaCode = schemaRefOrVal(it, schema, \"type\")\n  return {\n    gen,\n    keyword: \"type\",\n    data,\n    schema: schema.type,\n    schemaCode,\n    schemaValue: schemaCode,\n    parentSchema: schema,\n    params: {},\n    it,\n  }\n}\n","import type {AddedKeywordDefinition} from \"../types\"\n\nconst _jsonTypes = [\"string\", \"number\", \"integer\", \"boolean\", \"null\", \"object\", \"array\"] as const\n\nexport type JSONType = typeof _jsonTypes[number]\n\nconst jsonTypes: Set<string> = new Set(_jsonTypes)\n\nexport function isJSONType(x: unknown): x is JSONType {\n  return typeof x == \"string\" && jsonTypes.has(x)\n}\n\ntype ValidationTypes = {\n  [K in JSONType]: boolean | RuleGroup | undefined\n}\n\nexport interface ValidationRules {\n  rules: RuleGroup[]\n  post: RuleGroup\n  all: {[Key in string]?: boolean | Rule} // rules that have to be validated\n  keywords: {[Key in string]?: boolean} // all known keywords (superset of \"all\")\n  types: ValidationTypes\n}\n\nexport interface RuleGroup {\n  type?: JSONType\n  rules: Rule[]\n}\n\n// This interface wraps KeywordDefinition because definition can have multiple keywords\nexport interface Rule {\n  keyword: string\n  definition: AddedKeywordDefinition\n}\n\nexport function getRules(): ValidationRules {\n  const groups: Record<\"number\" | \"string\" | \"array\" | \"object\", RuleGroup> = {\n    number: {type: \"number\", rules: []},\n    string: {type: \"string\", rules: []},\n    array: {type: \"array\", rules: []},\n    object: {type: \"object\", rules: []},\n  }\n  return {\n    types: {...groups, integer: true, boolean: true, null: true},\n    rules: [{rules: []}, groups.number, groups.string, groups.array, groups.object],\n    post: {rules: []},\n    all: {},\n    keywords: {},\n  }\n}\n","import type {AnySchemaObject} from \"../../types\"\nimport type {SchemaObjCxt} from \"..\"\nimport type {JSONType, RuleGroup, Rule} from \"../rules\"\n\nexport function schemaHasRulesForType(\n  {schema, self}: SchemaObjCxt,\n  type: JSONType\n): boolean | undefined {\n  const group = self.RULES.types[type]\n  return group && group !== true && shouldUseGroup(schema, group)\n}\n\nexport function shouldUseGroup(schema: AnySchemaObject, group: RuleGroup): boolean {\n  return group.rules.some((rule) => shouldUseRule(schema, rule))\n}\n\nexport function shouldUseRule(schema: AnySchemaObject, rule: Rule): boolean | undefined {\n  return (\n    schema[rule.keyword] !== undefined ||\n    rule.definition.implements?.some((kwd) => schema[kwd] !== undefined)\n  )\n}\n","import type {SchemaObjCxt} from \"..\"\nimport {_, getProperty, stringify} from \"../codegen\"\nimport {checkStrictMode} from \"../util\"\n\nexport function assignDefaults(it: SchemaObjCxt, ty?: string): void {\n  const {properties, items} = it.schema\n  if (ty === \"object\" && properties) {\n    for (const key in properties) {\n      assignDefault(it, key, properties[key].default)\n    }\n  } else if (ty === \"array\" && Array.isArray(items)) {\n    items.forEach((sch, i: number) => assignDefault(it, i, sch.default))\n  }\n}\n\nfunction assignDefault(it: SchemaObjCxt, prop: string | number, defaultValue: unknown): void {\n  const {gen, compositeRule, data, opts} = it\n  if (defaultValue === undefined) return\n  const childData = _`${data}${getProperty(prop)}`\n  if (compositeRule) {\n    checkStrictMode(it, `default is ignored for: ${childData}`)\n    return\n  }\n\n  let condition = _`${childData} === undefined`\n  if (opts.useDefaults === \"empty\") {\n    condition = _`${condition} || ${childData} === null || ${childData} === \"\"`\n  }\n  // `${childData} === undefined` +\n  // (opts.useDefaults === \"empty\" ? ` || ${childData} === null || ${childData} === \"\"` : \"\")\n  gen.if(condition, _`${childData} = ${stringify(defaultValue)}`)\n}\n","import type {KeywordCxt} from \".\"\nimport type {\n  AnySchema,\n  SchemaValidateFunction,\n  AnyValidateFunction,\n  AddedKeywordDefinition,\n  MacroKeywordDefinition,\n  FuncKeywordDefinition,\n} from \"../../types\"\nimport type {SchemaObjCxt} from \"..\"\nimport {_, nil, not, stringify, Code, Name, CodeGen} from \"../codegen\"\nimport N from \"../names\"\nimport type {JSONType} from \"../rules\"\nimport {callValidateCode} from \"../../vocabularies/code\"\nimport {extendErrors} from \"../errors\"\n\ntype KeywordCompilationResult = AnySchema | SchemaValidateFunction | AnyValidateFunction\n\nexport function macroKeywordCode(cxt: KeywordCxt, def: MacroKeywordDefinition): void {\n  const {gen, keyword, schema, parentSchema, it} = cxt\n  const macroSchema = def.macro.call(it.self, schema, parentSchema, it)\n  const schemaRef = useKeyword(gen, keyword, macroSchema)\n  if (it.opts.validateSchema !== false) it.self.validateSchema(macroSchema, true)\n\n  const valid = gen.name(\"valid\")\n  cxt.subschema(\n    {\n      schema: macroSchema,\n      schemaPath: nil,\n      errSchemaPath: `${it.errSchemaPath}/${keyword}`,\n      topSchemaRef: schemaRef,\n      compositeRule: true,\n    },\n    valid\n  )\n  cxt.pass(valid, () => cxt.error(true))\n}\n\nexport function funcKeywordCode(cxt: KeywordCxt, def: FuncKeywordDefinition): void {\n  const {gen, keyword, schema, parentSchema, $data, it} = cxt\n  checkAsyncKeyword(it, def)\n  const validate =\n    !$data && def.compile ? def.compile.call(it.self, schema, parentSchema, it) : def.validate\n  const validateRef = useKeyword(gen, keyword, validate)\n  const valid = gen.let(\"valid\")\n  cxt.block$data(valid, validateKeyword)\n  cxt.ok(def.valid ?? valid)\n\n  function validateKeyword(): void {\n    if (def.errors === false) {\n      assignValid()\n      if (def.modifying) modifyData(cxt)\n      reportErrs(() => cxt.error())\n    } else {\n      const ruleErrs = def.async ? validateAsync() : validateSync()\n      if (def.modifying) modifyData(cxt)\n      reportErrs(() => addErrs(cxt, ruleErrs))\n    }\n  }\n\n  function validateAsync(): Name {\n    const ruleErrs = gen.let(\"ruleErrs\", null)\n    gen.try(\n      () => assignValid(_`await `),\n      (e) =>\n        gen.assign(valid, false).if(\n          _`${e} instanceof ${it.ValidationError as Name}`,\n          () => gen.assign(ruleErrs, _`${e}.errors`),\n          () => gen.throw(e)\n        )\n    )\n    return ruleErrs\n  }\n\n  function validateSync(): Code {\n    const validateErrs = _`${validateRef}.errors`\n    gen.assign(validateErrs, null)\n    assignValid(nil)\n    return validateErrs\n  }\n\n  function assignValid(_await: Code = def.async ? _`await ` : nil): void {\n    const passCxt = it.opts.passContext ? N.this : N.self\n    const passSchema = !((\"compile\" in def && !$data) || def.schema === false)\n    gen.assign(\n      valid,\n      _`${_await}${callValidateCode(cxt, validateRef, passCxt, passSchema)}`,\n      def.modifying\n    )\n  }\n\n  function reportErrs(errors: () => void): void {\n    gen.if(not(def.valid ?? valid), errors)\n  }\n}\n\nfunction modifyData(cxt: KeywordCxt): void {\n  const {gen, data, it} = cxt\n  gen.if(it.parentData, () => gen.assign(data, _`${it.parentData}[${it.parentDataProperty}]`))\n}\n\nfunction addErrs(cxt: KeywordCxt, errs: Code): void {\n  const {gen} = cxt\n  gen.if(\n    _`Array.isArray(${errs})`,\n    () => {\n      gen\n        .assign(N.vErrors, _`${N.vErrors} === null ? ${errs} : ${N.vErrors}.concat(${errs})`)\n        .assign(N.errors, _`${N.vErrors}.length`)\n      extendErrors(cxt)\n    },\n    () => cxt.error()\n  )\n}\n\nfunction checkAsyncKeyword({schemaEnv}: SchemaObjCxt, def: FuncKeywordDefinition): void {\n  if (def.async && !schemaEnv.$async) throw new Error(\"async keyword in sync schema\")\n}\n\nfunction useKeyword(gen: CodeGen, keyword: string, result?: KeywordCompilationResult): Name {\n  if (result === undefined) throw new Error(`keyword \"${keyword}\" failed to compile`)\n  return gen.scopeValue(\n    \"keyword\",\n    typeof result == \"function\" ? {ref: result} : {ref: result, code: stringify(result)}\n  )\n}\n\nexport function validSchemaType(\n  schema: unknown,\n  schemaType: JSONType[],\n  allowUndefined = false\n): boolean {\n  // TODO add tests\n  return (\n    !schemaType.length ||\n    schemaType.some((st) =>\n      st === \"array\"\n        ? Array.isArray(schema)\n        : st === \"object\"\n        ? schema && typeof schema == \"object\" && !Array.isArray(schema)\n        : typeof schema == st || (allowUndefined && typeof schema == \"undefined\")\n    )\n  )\n}\n\nexport function validateKeywordUsage(\n  {schema, opts, self, errSchemaPath}: SchemaObjCxt,\n  def: AddedKeywordDefinition,\n  keyword: string\n): void {\n  /* istanbul ignore if */\n  if (Array.isArray(def.keyword) ? !def.keyword.includes(keyword) : def.keyword !== keyword) {\n    throw new Error(\"ajv implementation error\")\n  }\n\n  const deps = def.dependencies\n  if (deps?.some((kwd) => !Object.prototype.hasOwnProperty.call(schema, kwd))) {\n    throw new Error(`parent schema must have dependencies of ${keyword}: ${deps.join(\",\")}`)\n  }\n\n  if (def.validateSchema) {\n    const valid = def.validateSchema(schema[keyword])\n    if (!valid) {\n      const msg =\n        `keyword \"${keyword}\" value is invalid at path \"${errSchemaPath}\": ` +\n        self.errorsText(def.validateSchema.errors)\n      if (opts.validateSchema === \"log\") self.logger.error(msg)\n      else throw new Error(msg)\n    }\n  }\n}\n","import type {AnySchema, SchemaMap} from \"../types\"\nimport type {SchemaCxt} from \"../compile\"\nimport type {KeywordCxt} from \"../compile/validate\"\nimport {CodeGen, _, and, or, not, nil, strConcat, getProperty, Code, Name} from \"../compile/codegen\"\nimport {alwaysValidSchema, Type} from \"../compile/util\"\nimport N from \"../compile/names\"\nimport {useFunc} from \"../compile/util\"\nexport function checkReportMissingProp(cxt: KeywordCxt, prop: string): void {\n  const {gen, data, it} = cxt\n  gen.if(noPropertyInData(gen, data, prop, it.opts.ownProperties), () => {\n    cxt.setParams({missingProperty: _`${prop}`}, true)\n    cxt.error()\n  })\n}\n\nexport function checkMissingProp(\n  {gen, data, it: {opts}}: KeywordCxt,\n  properties: string[],\n  missing: Name\n): Code {\n  return or(\n    ...properties.map((prop) =>\n      and(noPropertyInData(gen, data, prop, opts.ownProperties), _`${missing} = ${prop}`)\n    )\n  )\n}\n\nexport function reportMissingProp(cxt: KeywordCxt, missing: Name): void {\n  cxt.setParams({missingProperty: missing}, true)\n  cxt.error()\n}\n\nexport function hasPropFunc(gen: CodeGen): Name {\n  return gen.scopeValue(\"func\", {\n    // eslint-disable-next-line @typescript-eslint/unbound-method\n    ref: Object.prototype.hasOwnProperty,\n    code: _`Object.prototype.hasOwnProperty`,\n  })\n}\n\nexport function isOwnProperty(gen: CodeGen, data: Name, property: Name | string): Code {\n  return _`${hasPropFunc(gen)}.call(${data}, ${property})`\n}\n\nexport function propertyInData(\n  gen: CodeGen,\n  data: Name,\n  property: Name | string,\n  ownProperties?: boolean\n): Code {\n  const cond = _`${data}${getProperty(property)} !== undefined`\n  return ownProperties ? _`${cond} && ${isOwnProperty(gen, data, property)}` : cond\n}\n\nexport function noPropertyInData(\n  gen: CodeGen,\n  data: Name,\n  property: Name | string,\n  ownProperties?: boolean\n): Code {\n  const cond = _`${data}${getProperty(property)} === undefined`\n  return ownProperties ? or(cond, not(isOwnProperty(gen, data, property))) : cond\n}\n\nexport function allSchemaProperties(schemaMap?: SchemaMap): string[] {\n  return schemaMap ? Object.keys(schemaMap).filter((p) => p !== \"__proto__\") : []\n}\n\nexport function schemaProperties(it: SchemaCxt, schemaMap: SchemaMap): string[] {\n  return allSchemaProperties(schemaMap).filter(\n    (p) => !alwaysValidSchema(it, schemaMap[p] as AnySchema)\n  )\n}\n\nexport function callValidateCode(\n  {schemaCode, data, it: {gen, topSchemaRef, schemaPath, errorPath}, it}: KeywordCxt,\n  func: Code,\n  context: Code,\n  passSchema?: boolean\n): Code {\n  const dataAndSchema = passSchema ? _`${schemaCode}, ${data}, ${topSchemaRef}${schemaPath}` : data\n  const valCxt: [Name, Code | number][] = [\n    [N.instancePath, strConcat(N.instancePath, errorPath)],\n    [N.parentData, it.parentData],\n    [N.parentDataProperty, it.parentDataProperty],\n    [N.rootData, N.rootData],\n  ]\n  if (it.opts.dynamicRef) valCxt.push([N.dynamicAnchors, N.dynamicAnchors])\n  const args = _`${dataAndSchema}, ${gen.object(...valCxt)}`\n  return context !== nil ? _`${func}.call(${context}, ${args})` : _`${func}(${args})`\n}\n\nconst newRegExp = _`new RegExp`\n\nexport function usePattern({gen, it: {opts}}: KeywordCxt, pattern: string): Name {\n  const u = opts.unicodeRegExp ? \"u\" : \"\"\n  const {regExp} = opts.code\n  const rx = regExp(pattern, u)\n\n  return gen.scopeValue(\"pattern\", {\n    key: rx.toString(),\n    ref: rx,\n    code: _`${regExp.code === \"new RegExp\" ? newRegExp : useFunc(gen, regExp)}(${pattern}, ${u})`,\n  })\n}\n\nexport function validateArray(cxt: KeywordCxt): Name {\n  const {gen, data, keyword, it} = cxt\n  const valid = gen.name(\"valid\")\n  if (it.allErrors) {\n    const validArr = gen.let(\"valid\", true)\n    validateItems(() => gen.assign(validArr, false))\n    return validArr\n  }\n  gen.var(valid, true)\n  validateItems(() => gen.break())\n  return valid\n\n  function validateItems(notValid: () => void): void {\n    const len = gen.const(\"len\", _`${data}.length`)\n    gen.forRange(\"i\", 0, len, (i) => {\n      cxt.subschema(\n        {\n          keyword,\n          dataProp: i,\n          dataPropType: Type.Num,\n        },\n        valid\n      )\n      gen.if(not(valid), notValid)\n    })\n  }\n}\n\nexport function validateUnion(cxt: KeywordCxt): void {\n  const {gen, schema, keyword, it} = cxt\n  /* istanbul ignore if */\n  if (!Array.isArray(schema)) throw new Error(\"ajv implementation error\")\n  const alwaysValid = schema.some((sch: AnySchema) => alwaysValidSchema(it, sch))\n  if (alwaysValid && !it.opts.unevaluated) return\n\n  const valid = gen.let(\"valid\", false)\n  const schValid = gen.name(\"_valid\")\n\n  gen.block(() =>\n    schema.forEach((_sch: AnySchema, i: number) => {\n      const schCxt = cxt.subschema(\n        {\n          keyword,\n          schemaProp: i,\n          compositeRule: true,\n        },\n        schValid\n      )\n      gen.assign(valid, _`${valid} || ${schValid}`)\n      const merged = cxt.mergeValidEvaluated(schCxt, schValid)\n      // can short-circuit if `unevaluatedProperties/Items` not supported (opts.unevaluated !== true)\n      // or if all properties and items were evaluated (it.props === true && it.items === true)\n      if (!merged) gen.if(not(valid))\n    })\n  )\n\n  cxt.result(\n    valid,\n    () => cxt.reset(),\n    () => cxt.error(true)\n  )\n}\n","import type {AnySchema} from \"../../types\"\nimport type {SchemaObjCxt} from \"..\"\nimport {_, str, getProperty, Code, Name} from \"../codegen\"\nimport {escapeFragment, getErrorPath, Type} from \"../util\"\nimport type {JSONType} from \"../rules\"\n\nexport interface SubschemaContext {\n  // TODO use Optional? align with SchemCxt property types\n  schema: AnySchema\n  schemaPath: Code\n  errSchemaPath: string\n  topSchemaRef?: Code\n  errorPath?: Code\n  dataLevel?: number\n  dataTypes?: JSONType[]\n  data?: Name\n  parentData?: Name\n  parentDataProperty?: Code | number\n  dataNames?: Name[]\n  dataPathArr?: (Code | number)[]\n  propertyName?: Name\n  jtdDiscriminator?: string\n  jtdMetadata?: boolean\n  compositeRule?: true\n  createErrors?: boolean\n  allErrors?: boolean\n}\n\nexport type SubschemaArgs = Partial<{\n  keyword: string\n  schemaProp: string | number\n  schema: AnySchema\n  schemaPath: Code\n  errSchemaPath: string\n  topSchemaRef: Code\n  data: Name | Code\n  dataProp: Code | string | number\n  dataTypes: JSONType[]\n  definedProperties: Set<string>\n  propertyName: Name\n  dataPropType: Type\n  jtdDiscriminator: string\n  jtdMetadata: boolean\n  compositeRule: true\n  createErrors: boolean\n  allErrors: boolean\n}>\n\nexport function getSubschema(\n  it: SchemaObjCxt,\n  {keyword, schemaProp, schema, schemaPath, errSchemaPath, topSchemaRef}: SubschemaArgs\n): SubschemaContext {\n  if (keyword !== undefined && schema !== undefined) {\n    throw new Error('both \"keyword\" and \"schema\" passed, only one allowed')\n  }\n\n  if (keyword !== undefined) {\n    const sch = it.schema[keyword]\n    return schemaProp === undefined\n      ? {\n          schema: sch,\n          schemaPath: _`${it.schemaPath}${getProperty(keyword)}`,\n          errSchemaPath: `${it.errSchemaPath}/${keyword}`,\n        }\n      : {\n          schema: sch[schemaProp],\n          schemaPath: _`${it.schemaPath}${getProperty(keyword)}${getProperty(schemaProp)}`,\n          errSchemaPath: `${it.errSchemaPath}/${keyword}/${escapeFragment(schemaProp)}`,\n        }\n  }\n\n  if (schema !== undefined) {\n    if (schemaPath === undefined || errSchemaPath === undefined || topSchemaRef === undefined) {\n      throw new Error('\"schemaPath\", \"errSchemaPath\" and \"topSchemaRef\" are required with \"schema\"')\n    }\n    return {\n      schema,\n      schemaPath,\n      topSchemaRef,\n      errSchemaPath,\n    }\n  }\n\n  throw new Error('either \"keyword\" or \"schema\" must be passed')\n}\n\nexport function extendSubschemaData(\n  subschema: SubschemaContext,\n  it: SchemaObjCxt,\n  {dataProp, dataPropType: dpType, data, dataTypes, propertyName}: SubschemaArgs\n): void {\n  if (data !== undefined && dataProp !== undefined) {\n    throw new Error('both \"data\" and \"dataProp\" passed, only one allowed')\n  }\n\n  const {gen} = it\n\n  if (dataProp !== undefined) {\n    const {errorPath, dataPathArr, opts} = it\n    const nextData = gen.let(\"data\", _`${it.data}${getProperty(dataProp)}`, true)\n    dataContextProps(nextData)\n    subschema.errorPath = str`${errorPath}${getErrorPath(dataProp, dpType, opts.jsPropertySyntax)}`\n    subschema.parentDataProperty = _`${dataProp}`\n    subschema.dataPathArr = [...dataPathArr, subschema.parentDataProperty]\n  }\n\n  if (data !== undefined) {\n    const nextData = data instanceof Name ? data : gen.let(\"data\", data, true) // replaceable if used once?\n    dataContextProps(nextData)\n    if (propertyName !== undefined) subschema.propertyName = propertyName\n    // TODO something is possibly wrong here with not changing parentDataProperty and not appending dataPathArr\n  }\n\n  if (dataTypes) subschema.dataTypes = dataTypes\n\n  function dataContextProps(_nextData: Name): void {\n    subschema.data = _nextData\n    subschema.dataLevel = it.dataLevel + 1\n    subschema.dataTypes = []\n    it.definedProperties = new Set<string>()\n    subschema.parentData = it.data\n    subschema.dataNames = [...it.dataNames, _nextData]\n  }\n}\n\nexport function extendSubschemaMode(\n  subschema: SubschemaContext,\n  {jtdDiscriminator, jtdMetadata, compositeRule, createErrors, allErrors}: SubschemaArgs\n): void {\n  if (compositeRule !== undefined) subschema.compositeRule = compositeRule\n  if (createErrors !== undefined) subschema.createErrors = createErrors\n  if (allErrors !== undefined) subschema.allErrors = allErrors\n  subschema.jtdDiscriminator = jtdDiscriminator // not inherited\n  subschema.jtdMetadata = jtdMetadata // not inherited\n}\n","import type {AnySchema, AnySchemaObject, UriResolver} from \"../types\"\nimport type Ajv from \"../ajv\"\nimport type {URIComponents} from \"uri-js\"\nimport {eachItem} from \"./util\"\nimport * as equal from \"fast-deep-equal\"\nimport * as traverse from \"json-schema-traverse\"\n\n// the hash of local references inside the schema (created by getSchemaRefs), used for inline resolution\nexport type LocalRefs = {[Ref in string]?: AnySchemaObject}\n\n// TODO refactor to use keyword definitions\nconst SIMPLE_INLINED = new Set([\n  \"type\",\n  \"format\",\n  \"pattern\",\n  \"maxLength\",\n  \"minLength\",\n  \"maxProperties\",\n  \"minProperties\",\n  \"maxItems\",\n  \"minItems\",\n  \"maximum\",\n  \"minimum\",\n  \"uniqueItems\",\n  \"multipleOf\",\n  \"required\",\n  \"enum\",\n  \"const\",\n])\n\nexport function inlineRef(schema: AnySchema, limit: boolean | number = true): boolean {\n  if (typeof schema == \"boolean\") return true\n  if (limit === true) return !hasRef(schema)\n  if (!limit) return false\n  return countKeys(schema) <= limit\n}\n\nconst REF_KEYWORDS = new Set([\n  \"$ref\",\n  \"$recursiveRef\",\n  \"$recursiveAnchor\",\n  \"$dynamicRef\",\n  \"$dynamicAnchor\",\n])\n\nfunction hasRef(schema: AnySchemaObject): boolean {\n  for (const key in schema) {\n    if (REF_KEYWORDS.has(key)) return true\n    const sch = schema[key]\n    if (Array.isArray(sch) && sch.some(hasRef)) return true\n    if (typeof sch == \"object\" && hasRef(sch)) return true\n  }\n  return false\n}\n\nfunction countKeys(schema: AnySchemaObject): number {\n  let count = 0\n  for (const key in schema) {\n    if (key === \"$ref\") return Infinity\n    count++\n    if (SIMPLE_INLINED.has(key)) continue\n    if (typeof schema[key] == \"object\") {\n      eachItem(schema[key], (sch) => (count += countKeys(sch)))\n    }\n    if (count === Infinity) return Infinity\n  }\n  return count\n}\n\nexport function getFullPath(resolver: UriResolver, id = \"\", normalize?: boolean): string {\n  if (normalize !== false) id = normalizeId(id)\n  const p = resolver.parse(id)\n  return _getFullPath(resolver, p)\n}\n\nexport function _getFullPath(resolver: UriResolver, p: URIComponents): string {\n  const serialized = resolver.serialize(p)\n  return serialized.split(\"#\")[0] + \"#\"\n}\n\nconst TRAILING_SLASH_HASH = /#\\/?$/\nexport function normalizeId(id: string | undefined): string {\n  return id ? id.replace(TRAILING_SLASH_HASH, \"\") : \"\"\n}\n\nexport function resolveUrl(resolver: UriResolver, baseId: string, id: string): string {\n  id = normalizeId(id)\n  return resolver.resolve(baseId, id)\n}\n\nconst ANCHOR = /^[a-z_][-a-z0-9._]*$/i\n\nexport function getSchemaRefs(this: Ajv, schema: AnySchema, baseId: string): LocalRefs {\n  if (typeof schema == \"boolean\") return {}\n  const {schemaId, uriResolver} = this.opts\n  const schId = normalizeId(schema[schemaId] || baseId)\n  const baseIds: {[JsonPtr in string]?: string} = {\"\": schId}\n  const pathPrefix = getFullPath(uriResolver, schId, false)\n  const localRefs: LocalRefs = {}\n  const schemaRefs: Set<string> = new Set()\n\n  traverse(schema, {allKeys: true}, (sch, jsonPtr, _, parentJsonPtr) => {\n    if (parentJsonPtr === undefined) return\n    const fullPath = pathPrefix + jsonPtr\n    let baseId = baseIds[parentJsonPtr]\n    if (typeof sch[schemaId] == \"string\") baseId = addRef.call(this, sch[schemaId])\n    addAnchor.call(this, sch.$anchor)\n    addAnchor.call(this, sch.$dynamicAnchor)\n    baseIds[jsonPtr] = baseId\n\n    function addRef(this: Ajv, ref: string): string {\n      // eslint-disable-next-line @typescript-eslint/unbound-method\n      const _resolve = this.opts.uriResolver.resolve\n      ref = normalizeId(baseId ? _resolve(baseId, ref) : ref)\n      if (schemaRefs.has(ref)) throw ambiguos(ref)\n      schemaRefs.add(ref)\n      let schOrRef = this.refs[ref]\n      if (typeof schOrRef == \"string\") schOrRef = this.refs[schOrRef]\n      if (typeof schOrRef == \"object\") {\n        checkAmbiguosRef(sch, schOrRef.schema, ref)\n      } else if (ref !== normalizeId(fullPath)) {\n        if (ref[0] === \"#\") {\n          checkAmbiguosRef(sch, localRefs[ref], ref)\n          localRefs[ref] = sch\n        } else {\n          this.refs[ref] = fullPath\n        }\n      }\n      return ref\n    }\n\n    function addAnchor(this: Ajv, anchor: unknown): void {\n      if (typeof anchor == \"string\") {\n        if (!ANCHOR.test(anchor)) throw new Error(`invalid anchor \"${anchor}\"`)\n        addRef.call(this, `#${anchor}`)\n      }\n    }\n  })\n\n  return localRefs\n\n  function checkAmbiguosRef(sch1: AnySchema, sch2: AnySchema | undefined, ref: string): void {\n    if (sch2 !== undefined && !equal(sch1, sch2)) throw ambiguos(ref)\n  }\n\n  function ambiguos(ref: string): Error {\n    return new Error(`reference \"${ref}\" resolves to more than one schema`)\n  }\n}\n","'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n","'use strict';\n\nvar traverse = module.exports = function (schema, opts, cb) {\n  // Legacy support for v0.3.1 and earlier.\n  if (typeof opts == 'function') {\n    cb = opts;\n    opts = {};\n  }\n\n  cb = opts.cb || cb;\n  var pre = (typeof cb == 'function') ? cb : cb.pre || function() {};\n  var post = cb.post || function() {};\n\n  _traverse(opts, pre, post, schema, '', schema);\n};\n\n\ntraverse.keywords = {\n  additionalItems: true,\n  items: true,\n  contains: true,\n  additionalProperties: true,\n  propertyNames: true,\n  not: true,\n  if: true,\n  then: true,\n  else: true\n};\n\ntraverse.arrayKeywords = {\n  items: true,\n  allOf: true,\n  anyOf: true,\n  oneOf: true\n};\n\ntraverse.propsKeywords = {\n  $defs: true,\n  definitions: true,\n  properties: true,\n  patternProperties: true,\n  dependencies: true\n};\n\ntraverse.skipKeywords = {\n  default: true,\n  enum: true,\n  const: true,\n  required: true,\n  maximum: true,\n  minimum: true,\n  exclusiveMaximum: true,\n  exclusiveMinimum: true,\n  multipleOf: true,\n  maxLength: true,\n  minLength: true,\n  pattern: true,\n  format: true,\n  maxItems: true,\n  minItems: true,\n  uniqueItems: true,\n  maxProperties: true,\n  minProperties: true\n};\n\n\nfunction _traverse(opts, pre, post, schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex) {\n  if (schema && typeof schema == 'object' && !Array.isArray(schema)) {\n    pre(schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex);\n    for (var key in schema) {\n      var sch = schema[key];\n      if (Array.isArray(sch)) {\n        if (key in traverse.arrayKeywords) {\n          for (var i=0; i<sch.length; i++)\n            _traverse(opts, pre, post, sch[i], jsonPtr + '/' + key + '/' + i, rootSchema, jsonPtr, key, schema, i);\n        }\n      } else if (key in traverse.propsKeywords) {\n        if (sch && typeof sch == 'object') {\n          for (var prop in sch)\n            _traverse(opts, pre, post, sch[prop], jsonPtr + '/' + key + '/' + escapeJsonPtr(prop), rootSchema, jsonPtr, key, schema, prop);\n        }\n      } else if (key in traverse.keywords || (opts.allKeys && !(key in traverse.skipKeywords))) {\n        _traverse(opts, pre, post, sch, jsonPtr + '/' + key, rootSchema, jsonPtr, key, schema);\n      }\n    }\n    post(schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex);\n  }\n}\n\n\nfunction escapeJsonPtr(str) {\n  return str.replace(/~/g, '~0').replace(/\\//g, '~1');\n}\n","import type {ErrorObject} from \"../types\"\n\nexport default class ValidationError extends Error {\n  readonly errors: Partial<ErrorObject>[]\n  readonly ajv: true\n  readonly validation: true\n\n  constructor(errors: Partial<ErrorObject>[]) {\n    super(\"validation failed\")\n    this.errors = errors\n    this.ajv = this.validation = true\n  }\n}\n","import {resolveUrl, normalizeId, getFullPath} from \"./resolve\"\nimport type {UriResolver} from \"../types\"\n\nexport default class MissingRefError extends Error {\n  readonly missingRef: string\n  readonly missingSchema: string\n\n  constructor(resolver: UriResolver, baseId: string, ref: string, msg?: string) {\n    super(msg || `can't resolve reference ${ref} from id ${baseId}`)\n    this.missingRef = resolveUrl(resolver, baseId, ref)\n    this.missingSchema = normalizeId(getFullPath(resolver, this.missingRef))\n  }\n}\n","import type {\n  AnySchema,\n  AnySchemaObject,\n  AnyValidateFunction,\n  AsyncValidateFunction,\n  EvaluatedProperties,\n  EvaluatedItems,\n} from \"../types\"\nimport type Ajv from \"../core\"\nimport type {InstanceOptions} from \"../core\"\nimport {CodeGen, _, nil, stringify, Name, Code, ValueScopeName} from \"./codegen\"\nimport ValidationError from \"../runtime/validation_error\"\nimport N from \"./names\"\nimport {LocalRefs, getFullPath, _getFullPath, inlineRef, normalizeId, resolveUrl} from \"./resolve\"\nimport {schemaHasRulesButRef, unescapeFragment} from \"./util\"\nimport {validateFunctionCode} from \"./validate\"\nimport * as URI from \"uri-js\"\nimport {JSONType} from \"./rules\"\n\nexport type SchemaRefs = {\n  [Ref in string]?: SchemaEnv | AnySchema\n}\n\nexport interface SchemaCxt {\n  readonly gen: CodeGen\n  readonly allErrors?: boolean // validation mode - whether to collect all errors or break on error\n  readonly data: Name // Name with reference to the current part of data instance\n  readonly parentData: Name // should be used in keywords modifying data\n  readonly parentDataProperty: Code | number // should be used in keywords modifying data\n  readonly dataNames: Name[]\n  readonly dataPathArr: (Code | number)[]\n  readonly dataLevel: number // the level of the currently validated data,\n  // it can be used to access both the property names and the data on all levels from the top.\n  dataTypes: JSONType[] // data types applied to the current part of data instance\n  definedProperties: Set<string> // set of properties to keep track of for required checks\n  readonly topSchemaRef: Code\n  readonly validateName: Name\n  evaluated?: Name\n  readonly ValidationError?: Name\n  readonly schema: AnySchema // current schema object - equal to parentSchema passed via KeywordCxt\n  readonly schemaEnv: SchemaEnv\n  readonly rootId: string\n  baseId: string // the current schema base URI that should be used as the base for resolving URIs in references (\\$ref)\n  readonly schemaPath: Code // the run-time expression that evaluates to the property name of the current schema\n  readonly errSchemaPath: string // this is actual string, should not be changed to Code\n  readonly errorPath: Code\n  readonly propertyName?: Name\n  readonly compositeRule?: boolean // true indicates that the current schema is inside the compound keyword,\n  // where failing some rule doesn't mean validation failure (`anyOf`, `oneOf`, `not`, `if`).\n  // This flag is used to determine whether you can return validation result immediately after any error in case the option `allErrors` is not `true.\n  // You only need to use it if you have many steps in your keywords and potentially can define multiple errors.\n  props?: EvaluatedProperties | Name // properties evaluated by this schema - used by parent schema or assigned to validation function\n  items?: EvaluatedItems | Name // last item evaluated by this schema - used by parent schema or assigned to validation function\n  jtdDiscriminator?: string\n  jtdMetadata?: boolean\n  readonly createErrors?: boolean\n  readonly opts: InstanceOptions // Ajv instance option.\n  readonly self: Ajv // current Ajv instance\n}\n\nexport interface SchemaObjCxt extends SchemaCxt {\n  readonly schema: AnySchemaObject\n}\ninterface SchemaEnvArgs {\n  readonly schema: AnySchema\n  readonly schemaId?: \"$id\" | \"id\"\n  readonly root?: SchemaEnv\n  readonly baseId?: string\n  readonly schemaPath?: string\n  readonly localRefs?: LocalRefs\n  readonly meta?: boolean\n}\n\nexport class SchemaEnv implements SchemaEnvArgs {\n  readonly schema: AnySchema\n  readonly schemaId?: \"$id\" | \"id\"\n  readonly root: SchemaEnv\n  baseId: string // TODO possibly, it should be readonly\n  schemaPath?: string\n  localRefs?: LocalRefs\n  readonly meta?: boolean\n  readonly $async?: boolean // true if the current schema is asynchronous.\n  readonly refs: SchemaRefs = {}\n  readonly dynamicAnchors: {[Ref in string]?: true} = {}\n  validate?: AnyValidateFunction\n  validateName?: ValueScopeName\n  serialize?: (data: unknown) => string\n  serializeName?: ValueScopeName\n  parse?: (data: string) => unknown\n  parseName?: ValueScopeName\n\n  constructor(env: SchemaEnvArgs) {\n    let schema: AnySchemaObject | undefined\n    if (typeof env.schema == \"object\") schema = env.schema\n    this.schema = env.schema\n    this.schemaId = env.schemaId\n    this.root = env.root || this\n    this.baseId = env.baseId ?? normalizeId(schema?.[env.schemaId || \"$id\"])\n    this.schemaPath = env.schemaPath\n    this.localRefs = env.localRefs\n    this.meta = env.meta\n    this.$async = schema?.$async\n    this.refs = {}\n  }\n}\n\n// let codeSize = 0\n// let nodeCount = 0\n\n// Compiles schema in SchemaEnv\nexport function compileSchema(this: Ajv, sch: SchemaEnv): SchemaEnv {\n  // TODO refactor - remove compilations\n  const _sch = getCompilingSchema.call(this, sch)\n  if (_sch) return _sch\n  const rootId = getFullPath(this.opts.uriResolver, sch.root.baseId) // TODO if getFullPath removed 1 tests fails\n  const {es5, lines} = this.opts.code\n  const {ownProperties} = this.opts\n  const gen = new CodeGen(this.scope, {es5, lines, ownProperties})\n  let _ValidationError\n  if (sch.$async) {\n    _ValidationError = gen.scopeValue(\"Error\", {\n      ref: ValidationError,\n      code: _`require(\"ajv/dist/runtime/validation_error\").default`,\n    })\n  }\n\n  const validateName = gen.scopeName(\"validate\")\n  sch.validateName = validateName\n\n  const schemaCxt: SchemaCxt = {\n    gen,\n    allErrors: this.opts.allErrors,\n    data: N.data,\n    parentData: N.parentData,\n    parentDataProperty: N.parentDataProperty,\n    dataNames: [N.data],\n    dataPathArr: [nil], // TODO can its length be used as dataLevel if nil is removed?\n    dataLevel: 0,\n    dataTypes: [],\n    definedProperties: new Set<string>(),\n    topSchemaRef: gen.scopeValue(\n      \"schema\",\n      this.opts.code.source === true\n        ? {ref: sch.schema, code: stringify(sch.schema)}\n        : {ref: sch.schema}\n    ),\n    validateName,\n    ValidationError: _ValidationError,\n    schema: sch.schema,\n    schemaEnv: sch,\n    rootId,\n    baseId: sch.baseId || rootId,\n    schemaPath: nil,\n    errSchemaPath: sch.schemaPath || (this.opts.jtd ? \"\" : \"#\"),\n    errorPath: _`\"\"`,\n    opts: this.opts,\n    self: this,\n  }\n\n  let sourceCode: string | undefined\n  try {\n    this._compilations.add(sch)\n    validateFunctionCode(schemaCxt)\n    gen.optimize(this.opts.code.optimize)\n    // gen.optimize(1)\n    const validateCode = gen.toString()\n    sourceCode = `${gen.scopeRefs(N.scope)}return ${validateCode}`\n    // console.log((codeSize += sourceCode.length), (nodeCount += gen.nodeCount))\n    if (this.opts.code.process) sourceCode = this.opts.code.process(sourceCode, sch)\n    // console.log(\"\\n\\n\\n *** \\n\", sourceCode)\n    const makeValidate = new Function(`${N.self}`, `${N.scope}`, sourceCode)\n    const validate: AnyValidateFunction = makeValidate(this, this.scope.get())\n    this.scope.value(validateName, {ref: validate})\n\n    validate.errors = null\n    validate.schema = sch.schema\n    validate.schemaEnv = sch\n    if (sch.$async) (validate as AsyncValidateFunction).$async = true\n    if (this.opts.code.source === true) {\n      validate.source = {validateName, validateCode, scopeValues: gen._values}\n    }\n    if (this.opts.unevaluated) {\n      const {props, items} = schemaCxt\n      validate.evaluated = {\n        props: props instanceof Name ? undefined : props,\n        items: items instanceof Name ? undefined : items,\n        dynamicProps: props instanceof Name,\n        dynamicItems: items instanceof Name,\n      }\n      if (validate.source) validate.source.evaluated = stringify(validate.evaluated)\n    }\n    sch.validate = validate\n    return sch\n  } catch (e) {\n    delete sch.validate\n    delete sch.validateName\n    if (sourceCode) this.logger.error(\"Error compiling schema, function code:\", sourceCode)\n    // console.log(\"\\n\\n\\n *** \\n\", sourceCode, this.opts)\n    throw e\n  } finally {\n    this._compilations.delete(sch)\n  }\n}\n\nexport function resolveRef(\n  this: Ajv,\n  root: SchemaEnv,\n  baseId: string,\n  ref: string\n): AnySchema | SchemaEnv | undefined {\n  ref = resolveUrl(this.opts.uriResolver, baseId, ref)\n  const schOrFunc = root.refs[ref]\n  if (schOrFunc) return schOrFunc\n\n  let _sch = resolve.call(this, root, ref)\n  if (_sch === undefined) {\n    const schema = root.localRefs?.[ref] // TODO maybe localRefs should hold SchemaEnv\n    const {schemaId} = this.opts\n    if (schema) _sch = new SchemaEnv({schema, schemaId, root, baseId})\n  }\n\n  if (_sch === undefined) return\n  return (root.refs[ref] = inlineOrCompile.call(this, _sch))\n}\n\nfunction inlineOrCompile(this: Ajv, sch: SchemaEnv): AnySchema | SchemaEnv {\n  if (inlineRef(sch.schema, this.opts.inlineRefs)) return sch.schema\n  return sch.validate ? sch : compileSchema.call(this, sch)\n}\n\n// Index of schema compilation in the currently compiled list\nexport function getCompilingSchema(this: Ajv, schEnv: SchemaEnv): SchemaEnv | void {\n  for (const sch of this._compilations) {\n    if (sameSchemaEnv(sch, schEnv)) return sch\n  }\n}\n\nfunction sameSchemaEnv(s1: SchemaEnv, s2: SchemaEnv): boolean {\n  return s1.schema === s2.schema && s1.root === s2.root && s1.baseId === s2.baseId\n}\n\n// resolve and compile the references ($ref)\n// TODO returns AnySchemaObject (if the schema can be inlined) or validation function\nfunction resolve(\n  this: Ajv,\n  root: SchemaEnv, // information about the root schema for the current schema\n  ref: string // reference to resolve\n): SchemaEnv | undefined {\n  let sch\n  while (typeof (sch = this.refs[ref]) == \"string\") ref = sch\n  return sch || this.schemas[ref] || resolveSchema.call(this, root, ref)\n}\n\n// Resolve schema, its root and baseId\nexport function resolveSchema(\n  this: Ajv,\n  root: SchemaEnv, // root object with properties schema, refs TODO below SchemaEnv is assigned to it\n  ref: string // reference to resolve\n): SchemaEnv | undefined {\n  const p = this.opts.uriResolver.parse(ref)\n  const refPath = _getFullPath(this.opts.uriResolver, p)\n  let baseId = getFullPath(this.opts.uriResolver, root.baseId, undefined)\n  // TODO `Object.keys(root.schema).length > 0` should not be needed - but removing breaks 2 tests\n  if (Object.keys(root.schema).length > 0 && refPath === baseId) {\n    return getJsonPointer.call(this, p, root)\n  }\n\n  const id = normalizeId(refPath)\n  const schOrRef = this.refs[id] || this.schemas[id]\n  if (typeof schOrRef == \"string\") {\n    const sch = resolveSchema.call(this, root, schOrRef)\n    if (typeof sch?.schema !== \"object\") return\n    return getJsonPointer.call(this, p, sch)\n  }\n\n  if (typeof schOrRef?.schema !== \"object\") return\n  if (!schOrRef.validate) compileSchema.call(this, schOrRef)\n  if (id === normalizeId(ref)) {\n    const {schema} = schOrRef\n    const {schemaId} = this.opts\n    const schId = schema[schemaId]\n    if (schId) baseId = resolveUrl(this.opts.uriResolver, baseId, schId)\n    return new SchemaEnv({schema, schemaId, root, baseId})\n  }\n  return getJsonPointer.call(this, p, schOrRef)\n}\n\nconst PREVENT_SCOPE_CHANGE = new Set([\n  \"properties\",\n  \"patternProperties\",\n  \"enum\",\n  \"dependencies\",\n  \"definitions\",\n])\n\nfunction getJsonPointer(\n  this: Ajv,\n  parsedRef: URI.URIComponents,\n  {baseId, schema, root}: SchemaEnv\n): SchemaEnv | undefined {\n  if (parsedRef.fragment?.[0] !== \"/\") return\n  for (const part of parsedRef.fragment.slice(1).split(\"/\")) {\n    if (typeof schema === \"boolean\") return\n    const partSchema = schema[unescapeFragment(part)]\n    if (partSchema === undefined) return\n    schema = partSchema\n    // TODO PREVENT_SCOPE_CHANGE could be defined in keyword def?\n    const schId = typeof schema === \"object\" && schema[this.opts.schemaId]\n    if (!PREVENT_SCOPE_CHANGE.has(part) && schId) {\n      baseId = resolveUrl(this.opts.uriResolver, baseId, schId)\n    }\n  }\n  let env: SchemaEnv | undefined\n  if (typeof schema != \"boolean\" && schema.$ref && !schemaHasRulesButRef(schema, this.RULES)) {\n    const $ref = resolveUrl(this.opts.uriResolver, baseId, schema.$ref)\n    env = resolveSchema.call(this, root, $ref)\n  }\n  // even though resolution failed we need to return SchemaEnv to throw exception\n  // so that compileAsync loads missing schema.\n  const {schemaId} = this.opts\n  env = env || new SchemaEnv({schema, schemaId, root, baseId})\n  if (env.schema !== env.root.schema) return env\n  return undefined\n}\n","{\n  \"$id\": \"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#\",\n  \"description\": \"Meta-schema for $data reference (JSON AnySchema extension proposal)\",\n  \"type\": \"object\",\n  \"required\": [\"$data\"],\n  \"properties\": {\n    \"$data\": {\n      \"type\": \"string\",\n      \"anyOf\": [{\"format\": \"relative-json-pointer\"}, {\"format\": \"json-pointer\"}]\n    }\n  },\n  \"additionalProperties\": false\n}\n","import * as uri from \"uri-js\"\n\ntype URI = typeof uri & {code: string}\n;(uri as URI).code = 'require(\"ajv/dist/runtime/uri\").default'\n\nexport default uri as URI\n","export function merge(...sets:Array<string>):string {\n\tif (sets.length > 1) {\n\t\tsets[0] = sets[0].slice(0, -1);\n\t\tconst xl = sets.length - 1;\n\t\tfor (let x = 1; x < xl; ++x) {\n\t\t\tsets[x] = sets[x].slice(1, -1);\n\t\t}\n\t\tsets[xl] = sets[xl].slice(1);\n\t\treturn sets.join('');\n\t} else {\n\t\treturn sets[0];\n\t}\n}\n\nexport function subexp(str:string):string {\n\treturn \"(?:\" + str + \")\";\n}\n\nexport function typeOf(o:any):string {\n\treturn o === undefined ? \"undefined\" : (o === null ? \"null\" : Object.prototype.toString.call(o).split(\" \").pop().split(\"]\").shift().toLowerCase());\n}\n\nexport function toUpperCase(str:string):string {\n\treturn str.toUpperCase();\n}\n\nexport function toArray(obj:any):Array<any> {\n\treturn obj !== undefined && obj !== null ? (obj instanceof Array ? obj : (typeof obj.length !== \"number\" || obj.split || obj.setInterval || obj.call ? [obj] : Array.prototype.slice.call(obj))) : [];\n}\n\n\nexport function assign(target: object, source: any): any {\n\tconst obj = target as any;\n\tif (source) {\n\t\tfor (const key in source) {\n\t\t\tobj[key] = source[key];\n\t\t}\n\t}\n\treturn obj;\n}","import { URIRegExps } from \"./uri\";\nimport { merge, subexp } from \"./util\";\n\nexport function buildExps(isIRI:boolean):URIRegExps {\n\tconst\n\t\tALPHA$$ = \"[A-Za-z]\",\n\t\tCR$ = \"[\\\\x0D]\",\n\t\tDIGIT$$ = \"[0-9]\",\n\t\tDQUOTE$$ = \"[\\\\x22]\",\n\t\tHEXDIG$$ = merge(DIGIT$$, \"[A-Fa-f]\"),  //case-insensitive\n\t\tLF$$ = \"[\\\\x0A]\",\n\t\tSP$$ = \"[\\\\x20]\",\n\t\tPCT_ENCODED$ = subexp(subexp(\"%[EFef]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%[89A-Fa-f]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%\" + HEXDIG$$ + HEXDIG$$)),  //expanded\n\t\tGEN_DELIMS$$ = \"[\\\\:\\\\/\\\\?\\\\#\\\\[\\\\]\\\\@]\",\n\t\tSUB_DELIMS$$ = \"[\\\\!\\\\$\\\\&\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\;\\\\=]\",\n\t\tRESERVED$$ = merge(GEN_DELIMS$$, SUB_DELIMS$$),\n\t\tUCSCHAR$$ = isIRI ? \"[\\\\xA0-\\\\u200D\\\\u2010-\\\\u2029\\\\u202F-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFEF]\" : \"[]\",  //subset, excludes bidi control characters\n\t\tIPRIVATE$$ = isIRI ? \"[\\\\uE000-\\\\uF8FF]\" : \"[]\",  //subset\n\t\tUNRESERVED$$ = merge(ALPHA$$, DIGIT$$, \"[\\\\-\\\\.\\\\_\\\\~]\", UCSCHAR$$),\n\t\tSCHEME$ = subexp(ALPHA$$ + merge(ALPHA$$, DIGIT$$, \"[\\\\+\\\\-\\\\.]\") + \"*\"),\n\t\tUSERINFO$ = subexp(subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:]\")) + \"*\"),\n\t\tDEC_OCTET$ = subexp(subexp(\"25[0-5]\") + \"|\" + subexp(\"2[0-4]\" + DIGIT$$) + \"|\" + subexp(\"1\" + DIGIT$$ + DIGIT$$) + \"|\" + subexp(\"[1-9]\" + DIGIT$$) + \"|\" + DIGIT$$),\n\t\tDEC_OCTET_RELAXED$ = subexp(subexp(\"25[0-5]\") + \"|\" + subexp(\"2[0-4]\" + DIGIT$$) + \"|\" + subexp(\"1\" + DIGIT$$ + DIGIT$$) + \"|\" + subexp(\"0?[1-9]\" + DIGIT$$) + \"|0?0?\" + DIGIT$$),  //relaxed parsing rules\n\t\tIPV4ADDRESS$ = subexp(DEC_OCTET_RELAXED$ + \"\\\\.\" + DEC_OCTET_RELAXED$ + \"\\\\.\" + DEC_OCTET_RELAXED$ + \"\\\\.\" + DEC_OCTET_RELAXED$),\n\t\tH16$ = subexp(HEXDIG$$ + \"{1,4}\"),\n\t\tLS32$ = subexp(subexp(H16$ + \"\\\\:\" + H16$) + \"|\" + IPV4ADDRESS$),\n\t\tIPV6ADDRESS1$ = subexp(                                                            subexp(H16$ + \"\\\\:\") + \"{6}\" + LS32$), //                           6( h16 \":\" ) ls32\n\t\tIPV6ADDRESS2$ = subexp(                                                 \"\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{5}\" + LS32$), //                      \"::\" 5( h16 \":\" ) ls32\n\t\tIPV6ADDRESS3$ = subexp(subexp(                                 H16$) + \"?\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{4}\" + LS32$), //[               h16 ] \"::\" 4( h16 \":\" ) ls32\n\t\tIPV6ADDRESS4$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,1}\" + H16$) + \"?\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{3}\" + LS32$), //[ *1( h16 \":\" ) h16 ] \"::\" 3( h16 \":\" ) ls32\n\t\tIPV6ADDRESS5$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,2}\" + H16$) + \"?\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{2}\" + LS32$), //[ *2( h16 \":\" ) h16 ] \"::\" 2( h16 \":\" ) ls32\n\t\tIPV6ADDRESS6$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,3}\" + H16$) + \"?\\\\:\\\\:\" +        H16$ + \"\\\\:\"          + LS32$), //[ *3( h16 \":\" ) h16 ] \"::\"    h16 \":\"   ls32\n\t\tIPV6ADDRESS7$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,4}\" + H16$) + \"?\\\\:\\\\:\"                                + LS32$), //[ *4( h16 \":\" ) h16 ] \"::\"              ls32\n\t\tIPV6ADDRESS8$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,5}\" + H16$) + \"?\\\\:\\\\:\"                                + H16$ ), //[ *5( h16 \":\" ) h16 ] \"::\"              h16\n\t\tIPV6ADDRESS9$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,6}\" + H16$) + \"?\\\\:\\\\:\"                                       ), //[ *6( h16 \":\" ) h16 ] \"::\"\n\t\tIPV6ADDRESS$ = subexp([IPV6ADDRESS1$, IPV6ADDRESS2$, IPV6ADDRESS3$, IPV6ADDRESS4$, IPV6ADDRESS5$, IPV6ADDRESS6$, IPV6ADDRESS7$, IPV6ADDRESS8$, IPV6ADDRESS9$].join(\"|\")),\n\t\tZONEID$ = subexp(subexp(UNRESERVED$$ + \"|\" + PCT_ENCODED$) + \"+\"),  //RFC 6874\n\t\tIPV6ADDRZ$ = subexp(IPV6ADDRESS$ + \"\\\\%25\" + ZONEID$),  //RFC 6874\n\t\tIPV6ADDRZ_RELAXED$ = subexp(IPV6ADDRESS$ + subexp(\"\\\\%25|\\\\%(?!\" + HEXDIG$$ + \"{2})\") + ZONEID$),  //RFC 6874, with relaxed parsing rules\n\t\tIPVFUTURE$ = subexp(\"[vV]\" + HEXDIG$$ + \"+\\\\.\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:]\") + \"+\"),\n\t\tIP_LITERAL$ = subexp(\"\\\\[\" + subexp(IPV6ADDRZ_RELAXED$ + \"|\" + IPV6ADDRESS$ + \"|\" + IPVFUTURE$) + \"\\\\]\"),  //RFC 6874\n\t\tREG_NAME$ = subexp(subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$)) + \"*\"),\n\t\tHOST$ = subexp(IP_LITERAL$ + \"|\" + IPV4ADDRESS$ + \"(?!\" + REG_NAME$ + \")\" + \"|\" + REG_NAME$),\n\t\tPORT$ = subexp(DIGIT$$ + \"*\"),\n\t\tAUTHORITY$ = subexp(subexp(USERINFO$ + \"@\") + \"?\" + HOST$ + subexp(\"\\\\:\" + PORT$) + \"?\"),\n\t\tPCHAR$ = subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:\\\\@]\")),\n\t\tSEGMENT$ = subexp(PCHAR$ + \"*\"),\n\t\tSEGMENT_NZ$ = subexp(PCHAR$ + \"+\"),\n\t\tSEGMENT_NZ_NC$ = subexp(subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\@]\")) + \"+\"),\n\t\tPATH_ABEMPTY$ = subexp(subexp(\"\\\\/\" + SEGMENT$) + \"*\"),\n\t\tPATH_ABSOLUTE$ = subexp(\"\\\\/\" + subexp(SEGMENT_NZ$ + PATH_ABEMPTY$) + \"?\"),  //simplified\n\t\tPATH_NOSCHEME$ = subexp(SEGMENT_NZ_NC$ + PATH_ABEMPTY$),  //simplified\n\t\tPATH_ROOTLESS$ = subexp(SEGMENT_NZ$ + PATH_ABEMPTY$),  //simplified\n\t\tPATH_EMPTY$ = \"(?!\" + PCHAR$ + \")\",\n\t\tPATH$ = subexp(PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_NOSCHEME$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$),\n\t\tQUERY$ = subexp(subexp(PCHAR$ + \"|\" + merge(\"[\\\\/\\\\?]\", IPRIVATE$$)) + \"*\"),\n\t\tFRAGMENT$ = subexp(subexp(PCHAR$ + \"|[\\\\/\\\\?]\") + \"*\"),\n\t\tHIER_PART$ = subexp(subexp(\"\\\\/\\\\/\" + AUTHORITY$ + PATH_ABEMPTY$) + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$),\n\t\tURI$ = subexp(SCHEME$ + \"\\\\:\" + HIER_PART$ + subexp(\"\\\\?\" + QUERY$) + \"?\" + subexp(\"\\\\#\" + FRAGMENT$) + \"?\"),\n\t\tRELATIVE_PART$ = subexp(subexp(\"\\\\/\\\\/\" + AUTHORITY$ + PATH_ABEMPTY$) + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_NOSCHEME$ + \"|\" + PATH_EMPTY$),\n\t\tRELATIVE$ = subexp(RELATIVE_PART$ + subexp(\"\\\\?\" + QUERY$) + \"?\" + subexp(\"\\\\#\" + FRAGMENT$) + \"?\"),\n\t\tURI_REFERENCE$ = subexp(URI$ + \"|\" + RELATIVE$),\n\t\tABSOLUTE_URI$ = subexp(SCHEME$ + \"\\\\:\" + HIER_PART$ + subexp(\"\\\\?\" + QUERY$) + \"?\"),\n\n\t\tGENERIC_REF$ = \"^(\" + SCHEME$ + \")\\\\:\" + subexp(subexp(\"\\\\/\\\\/(\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?)\") + \"?(\" + PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$ + \")\") + subexp(\"\\\\?(\" + QUERY$ + \")\") + \"?\" + subexp(\"\\\\#(\" + FRAGMENT$ + \")\") + \"?$\",\n\t\tRELATIVE_REF$ = \"^(){0}\" + subexp(subexp(\"\\\\/\\\\/(\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?)\") + \"?(\" + PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_NOSCHEME$ + \"|\" + PATH_EMPTY$ + \")\") + subexp(\"\\\\?(\" + QUERY$ + \")\") + \"?\" + subexp(\"\\\\#(\" + FRAGMENT$ + \")\") + \"?$\",\n\t\tABSOLUTE_REF$ = \"^(\" + SCHEME$ + \")\\\\:\" + subexp(subexp(\"\\\\/\\\\/(\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?)\") + \"?(\" + PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$ + \")\") + subexp(\"\\\\?(\" + QUERY$ + \")\") + \"?$\",\n\t\tSAMEDOC_REF$ = \"^\" + subexp(\"\\\\#(\" + FRAGMENT$ + \")\") + \"?$\",\n\t\tAUTHORITY_REF$ = \"^\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?$\"\n\t;\n\n\treturn {\n\t\tNOT_SCHEME : new RegExp(merge(\"[^]\", ALPHA$$, DIGIT$$, \"[\\\\+\\\\-\\\\.]\"), \"g\"),\n\t\tNOT_USERINFO : new RegExp(merge(\"[^\\\\%\\\\:]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n\t\tNOT_HOST : new RegExp(merge(\"[^\\\\%\\\\[\\\\]\\\\:]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n\t\tNOT_PATH : new RegExp(merge(\"[^\\\\%\\\\/\\\\:\\\\@]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n\t\tNOT_PATH_NOSCHEME : new RegExp(merge(\"[^\\\\%\\\\/\\\\@]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n\t\tNOT_QUERY : new RegExp(merge(\"[^\\\\%]\", UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:\\\\@\\\\/\\\\?]\", IPRIVATE$$), \"g\"),\n\t\tNOT_FRAGMENT : new RegExp(merge(\"[^\\\\%]\", UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:\\\\@\\\\/\\\\?]\"), \"g\"),\n\t\tESCAPE : new RegExp(merge(\"[^]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n\t\tUNRESERVED : new RegExp(UNRESERVED$$, \"g\"),\n\t\tOTHER_CHARS : new RegExp(merge(\"[^\\\\%]\", UNRESERVED$$, RESERVED$$), \"g\"),\n\t\tPCT_ENCODED : new RegExp(PCT_ENCODED$, \"g\"),\n\t\tIPV4ADDRESS : new RegExp(\"^(\" + IPV4ADDRESS$ + \")$\"),\n\t\tIPV6ADDRESS : new RegExp(\"^\\\\[?(\" + IPV6ADDRESS$ + \")\" + subexp(subexp(\"\\\\%25|\\\\%(?!\" + HEXDIG$$ + \"{2})\") + \"(\" + ZONEID$ + \")\") + \"?\\\\]?$\")  //RFC 6874, with relaxed parsing rules\n\t};\n}\n\nexport default buildExps(false);\n","import { URIRegExps } from \"./uri\";\nimport { buildExps } from \"./regexps-uri\";\n\nexport default buildExps(true);\n","'use strict';\n\n/** Highest positive signed 32-bit float value */\nconst maxInt = 2147483647; // aka. 0x7FFFFFFF or 2^31-1\n\n/** Bootstring parameters */\nconst base = 36;\nconst tMin = 1;\nconst tMax = 26;\nconst skew = 38;\nconst damp = 700;\nconst initialBias = 72;\nconst initialN = 128; // 0x80\nconst delimiter = '-'; // '\\x2D'\n\n/** Regular expressions */\nconst regexPunycode = /^xn--/;\nconst regexNonASCII = /[^\\0-\\x7E]/; // non-ASCII chars\nconst regexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g; // RFC 3490 separators\n\n/** Error messages */\nconst errors = {\n\t'overflow': 'Overflow: input needs wider integers to process',\n\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t'invalid-input': 'Invalid input'\n};\n\n/** Convenience shortcuts */\nconst baseMinusTMin = base - tMin;\nconst floor = Math.floor;\nconst stringFromCharCode = String.fromCharCode;\n\n/*--------------------------------------------------------------------------*/\n\n/**\n * A generic error utility function.\n * @private\n * @param {String} type The error type.\n * @returns {Error} Throws a `RangeError` with the applicable error message.\n */\nfunction error(type) {\n\tthrow new RangeError(errors[type]);\n}\n\n/**\n * A generic `Array#map` utility function.\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} callback The function that gets called for every array\n * item.\n * @returns {Array} A new array of values returned by the callback function.\n */\nfunction map(array, fn) {\n\tconst result = [];\n\tlet length = array.length;\n\twhile (length--) {\n\t\tresult[length] = fn(array[length]);\n\t}\n\treturn result;\n}\n\n/**\n * A simple `Array#map`-like wrapper to work with domain name strings or email\n * addresses.\n * @private\n * @param {String} domain The domain name or email address.\n * @param {Function} callback The function that gets called for every\n * character.\n * @returns {Array} A new string of characters returned by the callback\n * function.\n */\nfunction mapDomain(string, fn) {\n\tconst parts = string.split('@');\n\tlet result = '';\n\tif (parts.length > 1) {\n\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t// the local part (i.e. everything up to `@`) intact.\n\t\tresult = parts[0] + '@';\n\t\tstring = parts[1];\n\t}\n\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\tstring = string.replace(regexSeparators, '\\x2E');\n\tconst labels = string.split('.');\n\tconst encoded = map(labels, fn).join('.');\n\treturn result + encoded;\n}\n\n/**\n * Creates an array containing the numeric code points of each Unicode\n * character in the string. While JavaScript uses UCS-2 internally,\n * this function will convert a pair of surrogate halves (each of which\n * UCS-2 exposes as separate characters) into a single code point,\n * matching UTF-16.\n * @see `punycode.ucs2.encode`\n * @see <https://mathiasbynens.be/notes/javascript-encoding>\n * @memberOf punycode.ucs2\n * @name decode\n * @param {String} string The Unicode input string (UCS-2).\n * @returns {Array} The new array of code points.\n */\nfunction ucs2decode(string) {\n\tconst output = [];\n\tlet counter = 0;\n\tconst length = string.length;\n\twhile (counter < length) {\n\t\tconst value = string.charCodeAt(counter++);\n\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t// It's a high surrogate, and there is a next character.\n\t\t\tconst extra = string.charCodeAt(counter++);\n\t\t\tif ((extra & 0xFC00) == 0xDC00) { // Low surrogate.\n\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t} else {\n\t\t\t\t// It's an unmatched surrogate; only append this code unit, in case the\n\t\t\t\t// next code unit is the high surrogate of a surrogate pair.\n\t\t\t\toutput.push(value);\n\t\t\t\tcounter--;\n\t\t\t}\n\t\t} else {\n\t\t\toutput.push(value);\n\t\t}\n\t}\n\treturn output;\n}\n\n/**\n * Creates a string based on an array of numeric code points.\n * @see `punycode.ucs2.decode`\n * @memberOf punycode.ucs2\n * @name encode\n * @param {Array} codePoints The array of numeric code points.\n * @returns {String} The new Unicode string (UCS-2).\n */\nconst ucs2encode = array => String.fromCodePoint(...array);\n\n/**\n * Converts a basic code point into a digit/integer.\n * @see `digitToBasic()`\n * @private\n * @param {Number} codePoint The basic numeric code point value.\n * @returns {Number} The numeric value of a basic code point (for use in\n * representing integers) in the range `0` to `base - 1`, or `base` if\n * the code point does not represent a value.\n */\nconst basicToDigit = function(codePoint) {\n\tif (codePoint - 0x30 < 0x0A) {\n\t\treturn codePoint - 0x16;\n\t}\n\tif (codePoint - 0x41 < 0x1A) {\n\t\treturn codePoint - 0x41;\n\t}\n\tif (codePoint - 0x61 < 0x1A) {\n\t\treturn codePoint - 0x61;\n\t}\n\treturn base;\n};\n\n/**\n * Converts a digit/integer into a basic code point.\n * @see `basicToDigit()`\n * @private\n * @param {Number} digit The numeric value of a basic code point.\n * @returns {Number} The basic code point whose value (when used for\n * representing integers) is `digit`, which needs to be in the range\n * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n * used; else, the lowercase form is used. The behavior is undefined\n * if `flag` is non-zero and `digit` has no uppercase form.\n */\nconst digitToBasic = function(digit, flag) {\n\t//  0..25 map to ASCII a..z or A..Z\n\t// 26..35 map to ASCII 0..9\n\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n};\n\n/**\n * Bias adaptation function as per section 3.4 of RFC 3492.\n * https://tools.ietf.org/html/rfc3492#section-3.4\n * @private\n */\nconst adapt = function(delta, numPoints, firstTime) {\n\tlet k = 0;\n\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\tdelta += floor(delta / numPoints);\n\tfor (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\tdelta = floor(delta / baseMinusTMin);\n\t}\n\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n};\n\n/**\n * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n * symbols.\n * @memberOf punycode\n * @param {String} input The Punycode string of ASCII-only symbols.\n * @returns {String} The resulting string of Unicode symbols.\n */\nconst decode = function(input) {\n\t// Don't use UCS-2.\n\tconst output = [];\n\tconst inputLength = input.length;\n\tlet i = 0;\n\tlet n = initialN;\n\tlet bias = initialBias;\n\n\t// Handle the basic code points: let `basic` be the number of input code\n\t// points before the last delimiter, or `0` if there is none, then copy\n\t// the first basic code points to the output.\n\n\tlet basic = input.lastIndexOf(delimiter);\n\tif (basic < 0) {\n\t\tbasic = 0;\n\t}\n\n\tfor (let j = 0; j < basic; ++j) {\n\t\t// if it's not a basic code point\n\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\terror('not-basic');\n\t\t}\n\t\toutput.push(input.charCodeAt(j));\n\t}\n\n\t// Main decoding loop: start just after the last delimiter if any basic code\n\t// points were copied; start at the beginning otherwise.\n\n\tfor (let index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {\n\n\t\t// `index` is the index of the next character to be consumed.\n\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t// which gets added to `i`. The overflow checking is easier\n\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t// value at the end to obtain `delta`.\n\t\tlet oldi = i;\n\t\tfor (let w = 1, k = base; /* no condition */; k += base) {\n\n\t\t\tif (index >= inputLength) {\n\t\t\t\terror('invalid-input');\n\t\t\t}\n\n\t\t\tconst digit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\ti += digit * w;\n\t\t\tconst t = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\n\t\t\tif (digit < t) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tconst baseMinusT = base - t;\n\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tw *= baseMinusT;\n\n\t\t}\n\n\t\tconst out = output.length + 1;\n\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t// incrementing `n` each time, so we'll fix that now:\n\t\tif (floor(i / out) > maxInt - n) {\n\t\t\terror('overflow');\n\t\t}\n\n\t\tn += floor(i / out);\n\t\ti %= out;\n\n\t\t// Insert `n` at position `i` of the output.\n\t\toutput.splice(i++, 0, n);\n\n\t}\n\n\treturn String.fromCodePoint(...output);\n};\n\n/**\n * Converts a string of Unicode symbols (e.g. a domain name label) to a\n * Punycode string of ASCII-only symbols.\n * @memberOf punycode\n * @param {String} input The string of Unicode symbols.\n * @returns {String} The resulting Punycode string of ASCII-only symbols.\n */\nconst encode = function(input) {\n\tconst output = [];\n\n\t// Convert the input in UCS-2 to an array of Unicode code points.\n\tinput = ucs2decode(input);\n\n\t// Cache the length.\n\tlet inputLength = input.length;\n\n\t// Initialize the state.\n\tlet n = initialN;\n\tlet delta = 0;\n\tlet bias = initialBias;\n\n\t// Handle the basic code points.\n\tfor (const currentValue of input) {\n\t\tif (currentValue < 0x80) {\n\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t}\n\t}\n\n\tlet basicLength = output.length;\n\tlet handledCPCount = basicLength;\n\n\t// `handledCPCount` is the number of code points that have been handled;\n\t// `basicLength` is the number of basic code points.\n\n\t// Finish the basic string with a delimiter unless it's empty.\n\tif (basicLength) {\n\t\toutput.push(delimiter);\n\t}\n\n\t// Main encoding loop:\n\twhile (handledCPCount < inputLength) {\n\n\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t// larger one:\n\t\tlet m = maxInt;\n\t\tfor (const currentValue of input) {\n\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\tm = currentValue;\n\t\t\t}\n\t\t}\n\n\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t// but guard against overflow.\n\t\tconst handledCPCountPlusOne = handledCPCount + 1;\n\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\terror('overflow');\n\t\t}\n\n\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\tn = m;\n\n\t\tfor (const currentValue of input) {\n\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\t\t\tif (currentValue == n) {\n\t\t\t\t// Represent delta as a generalized variable-length integer.\n\t\t\t\tlet q = delta;\n\t\t\t\tfor (let k = base; /* no condition */; k += base) {\n\t\t\t\t\tconst t = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tconst qMinusT = q - t;\n\t\t\t\t\tconst baseMinusT = base - t;\n\t\t\t\t\toutput.push(\n\t\t\t\t\t\tstringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\n\t\t\t\t\t);\n\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t}\n\n\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\tdelta = 0;\n\t\t\t\t++handledCPCount;\n\t\t\t}\n\t\t}\n\n\t\t++delta;\n\t\t++n;\n\n\t}\n\treturn output.join('');\n};\n\n/**\n * Converts a Punycode string representing a domain name or an email address\n * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n * it doesn't matter if you call it on a string that has already been\n * converted to Unicode.\n * @memberOf punycode\n * @param {String} input The Punycoded domain name or email address to\n * convert to Unicode.\n * @returns {String} The Unicode representation of the given Punycode\n * string.\n */\nconst toUnicode = function(input) {\n\treturn mapDomain(input, function(string) {\n\t\treturn regexPunycode.test(string)\n\t\t\t? decode(string.slice(4).toLowerCase())\n\t\t\t: string;\n\t});\n};\n\n/**\n * Converts a Unicode string representing a domain name or an email address to\n * Punycode. Only the non-ASCII parts of the domain name will be converted,\n * i.e. it doesn't matter if you call it with a domain that's already in\n * ASCII.\n * @memberOf punycode\n * @param {String} input The domain name or email address to convert, as a\n * Unicode string.\n * @returns {String} The Punycode representation of the given domain name or\n * email address.\n */\nconst toASCII = function(input) {\n\treturn mapDomain(input, function(string) {\n\t\treturn regexNonASCII.test(string)\n\t\t\t? 'xn--' + encode(string)\n\t\t\t: string;\n\t});\n};\n\n/*--------------------------------------------------------------------------*/\n\n/** Define the public API */\nconst punycode = {\n\t/**\n\t * A string representing the current Punycode.js version number.\n\t * @memberOf punycode\n\t * @type String\n\t */\n\t'version': '2.1.0',\n\t/**\n\t * An object of methods to convert from JavaScript's internal character\n\t * representation (UCS-2) to Unicode code points, and back.\n\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t * @memberOf punycode\n\t * @type Object\n\t */\n\t'ucs2': {\n\t\t'decode': ucs2decode,\n\t\t'encode': ucs2encode\n\t},\n\t'decode': decode,\n\t'encode': encode,\n\t'toASCII': toASCII,\n\t'toUnicode': toUnicode\n};\n\nexport default punycode;\n","/**\n * URI.js\n *\n * @fileoverview An RFC 3986 compliant, scheme extendable URI parsing/validating/resolving library for JavaScript.\n * @author <a href=\"mailto:gary.court@gmail.com\">Gary Court</a>\n * @see http://github.com/garycourt/uri-js\n */\n\n/**\n * Copyright 2011 Gary Court. All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without modification, are\n * permitted provided that the following conditions are met:\n *\n *    1. Redistributions of source code must retain the above copyright notice, this list of\n *       conditions and the following disclaimer.\n *\n *    2. Redistributions in binary form must reproduce the above copyright notice, this list\n *       of conditions and the following disclaimer in the documentation and/or other materials\n *       provided with the distribution.\n *\n * THIS SOFTWARE IS PROVIDED BY GARY COURT ``AS IS'' AND ANY EXPRESS OR IMPLIED\n * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND\n * FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL GARY COURT OR\n * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\n * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON\n * ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF\n * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * The views and conclusions contained in the software and documentation are those of the\n * authors and should not be interpreted as representing official policies, either expressed\n * or implied, of Gary Court.\n */\n\nimport URI_PROTOCOL from \"./regexps-uri\";\nimport IRI_PROTOCOL from \"./regexps-iri\";\nimport punycode from \"punycode\";\nimport { toUpperCase, typeOf, assign } from \"./util\";\n\nexport interface URIComponents {\n\tscheme?:string;\n\tuserinfo?:string;\n\thost?:string;\n\tport?:number|string;\n\tpath?:string;\n\tquery?:string;\n\tfragment?:string;\n\treference?:string;\n\terror?:string;\n}\n\nexport interface URIOptions {\n\tscheme?:string;\n\treference?:string;\n\ttolerant?:boolean;\n\tabsolutePath?:boolean;\n\tiri?:boolean;\n\tunicodeSupport?:boolean;\n\tdomainHost?:boolean;\n}\n\nexport interface URISchemeHandler<Components extends URIComponents = URIComponents, Options extends URIOptions = URIOptions, ParentComponents extends URIComponents = URIComponents> {\n\tscheme:string;\n\tparse(components:ParentComponents, options:Options):Components;\n\tserialize(components:Components, options:Options):ParentComponents;\n\tunicodeSupport?:boolean;\n\tdomainHost?:boolean;\n\tabsolutePath?:boolean;\n}\n\nexport interface URIRegExps {\n\tNOT_SCHEME : RegExp,\n\tNOT_USERINFO : RegExp,\n\tNOT_HOST : RegExp,\n\tNOT_PATH : RegExp,\n\tNOT_PATH_NOSCHEME : RegExp,\n\tNOT_QUERY : RegExp,\n\tNOT_FRAGMENT : RegExp,\n\tESCAPE : RegExp,\n\tUNRESERVED : RegExp,\n\tOTHER_CHARS : RegExp,\n\tPCT_ENCODED : RegExp,\n\tIPV4ADDRESS : RegExp,\n\tIPV6ADDRESS : RegExp,\n}\n\nexport const SCHEMES:{[scheme:string]:URISchemeHandler} = {};\n\nexport function pctEncChar(chr:string):string {\n\tconst c = chr.charCodeAt(0);\n\tlet e:string;\n\n\tif (c < 16) e = \"%0\" + c.toString(16).toUpperCase();\n\telse if (c < 128) e = \"%\" + c.toString(16).toUpperCase();\n\telse if (c < 2048) e = \"%\" + ((c >> 6) | 192).toString(16).toUpperCase() + \"%\" + ((c & 63) | 128).toString(16).toUpperCase();\n\telse e = \"%\" + ((c >> 12) | 224).toString(16).toUpperCase() + \"%\" + (((c >> 6) & 63) | 128).toString(16).toUpperCase() + \"%\" + ((c & 63) | 128).toString(16).toUpperCase();\n\n\treturn e;\n}\n\nexport function pctDecChars(str:string):string {\n\tlet newStr = \"\";\n\tlet i = 0;\n\tconst il = str.length;\n\n\twhile (i < il) {\n\t\tconst c = parseInt(str.substr(i + 1, 2), 16);\n\n\t\tif (c < 128) {\n\t\t\tnewStr += String.fromCharCode(c);\n\t\t\ti += 3;\n\t\t}\n\t\telse if (c >= 194 && c < 224) {\n\t\t\tif ((il - i) >= 6) {\n\t\t\t\tconst c2 = parseInt(str.substr(i + 4, 2), 16);\n\t\t\t\tnewStr += String.fromCharCode(((c & 31) << 6) | (c2 & 63));\n\t\t\t} else {\n\t\t\t\tnewStr += str.substr(i, 6);\n\t\t\t}\n\t\t\ti += 6;\n\t\t}\n\t\telse if (c >= 224) {\n\t\t\tif ((il - i) >= 9) {\n\t\t\t\tconst c2 = parseInt(str.substr(i + 4, 2), 16);\n\t\t\t\tconst c3 = parseInt(str.substr(i + 7, 2), 16);\n\t\t\t\tnewStr += String.fromCharCode(((c & 15) << 12) | ((c2 & 63) << 6) | (c3 & 63));\n\t\t\t} else {\n\t\t\t\tnewStr += str.substr(i, 9);\n\t\t\t}\n\t\t\ti += 9;\n\t\t}\n\t\telse {\n\t\t\tnewStr += str.substr(i, 3);\n\t\t\ti += 3;\n\t\t}\n\t}\n\n\treturn newStr;\n}\n\nfunction _normalizeComponentEncoding(components:URIComponents, protocol:URIRegExps) {\n\tfunction decodeUnreserved(str:string):string {\n\t\tconst decStr = pctDecChars(str);\n\t\treturn (!decStr.match(protocol.UNRESERVED) ? str : decStr);\n\t}\n\n\tif (components.scheme) components.scheme = String(components.scheme).replace(protocol.PCT_ENCODED, decodeUnreserved).toLowerCase().replace(protocol.NOT_SCHEME, \"\");\n\tif (components.userinfo !== undefined) components.userinfo = String(components.userinfo).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(protocol.NOT_USERINFO, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n\tif (components.host !== undefined) components.host = String(components.host).replace(protocol.PCT_ENCODED, decodeUnreserved).toLowerCase().replace(protocol.NOT_HOST, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n\tif (components.path !== undefined) components.path = String(components.path).replace(protocol.PCT_ENCODED, decodeUnreserved).replace((components.scheme ? protocol.NOT_PATH : protocol.NOT_PATH_NOSCHEME), pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n\tif (components.query !== undefined) components.query = String(components.query).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(protocol.NOT_QUERY, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n\tif (components.fragment !== undefined) components.fragment = String(components.fragment).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(protocol.NOT_FRAGMENT, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n\n\treturn components;\n};\n\nfunction _stripLeadingZeros(str:string):string {\n\treturn str.replace(/^0*(.*)/, \"$1\") || \"0\";\n}\n\nfunction _normalizeIPv4(host:string, protocol:URIRegExps):string {\n\tconst matches = host.match(protocol.IPV4ADDRESS) || [];\n\tconst [, address] = matches;\n\t\n\tif (address) {\n\t\treturn address.split(\".\").map(_stripLeadingZeros).join(\".\");\n\t} else {\n\t\treturn host;\n\t}\n}\n\nfunction _normalizeIPv6(host:string, protocol:URIRegExps):string {\n\tconst matches = host.match(protocol.IPV6ADDRESS) || [];\n\tconst [, address, zone] = matches;\n\n\tif (address) {\n\t\tconst [last, first] = address.toLowerCase().split('::').reverse();\n\t\tconst firstFields = first ? first.split(\":\").map(_stripLeadingZeros) : [];\n\t\tconst lastFields = last.split(\":\").map(_stripLeadingZeros);\n\t\tconst isLastFieldIPv4Address = protocol.IPV4ADDRESS.test(lastFields[lastFields.length - 1]);\n\t\tconst fieldCount = isLastFieldIPv4Address ? 7 : 8;\n\t\tconst lastFieldsStart = lastFields.length - fieldCount;\n\t\tconst fields = Array<string>(fieldCount);\n\n\t\tfor (let x = 0; x < fieldCount; ++x) {\n\t\t\tfields[x] = firstFields[x] || lastFields[lastFieldsStart + x] || '';\n\t\t}\n\n\t\tif (isLastFieldIPv4Address) {\n\t\t\tfields[fieldCount - 1] = _normalizeIPv4(fields[fieldCount - 1], protocol);\n\t\t}\n\n\t\tconst allZeroFields = fields.reduce<Array<{index:number,length:number}>>((acc, field, index) => {\n\t\t\tif (!field || field === \"0\") {\n\t\t\t\tconst lastLongest = acc[acc.length - 1];\n\t\t\t\tif (lastLongest && lastLongest.index + lastLongest.length === index) {\n\t\t\t\t\tlastLongest.length++;\n\t\t\t\t} else {\n\t\t\t\t\tacc.push({ index, length : 1 });\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn acc;\n\t\t}, []);\n\n\t\tconst longestZeroFields = allZeroFields.sort((a, b) => b.length - a.length)[0];\n\n\t\tlet newHost:string;\n\t\tif (longestZeroFields && longestZeroFields.length > 1) {\n\t\t\tconst newFirst = fields.slice(0, longestZeroFields.index) ;\n\t\t\tconst newLast = fields.slice(longestZeroFields.index + longestZeroFields.length);\n\t\t\tnewHost = newFirst.join(\":\") + \"::\" + newLast.join(\":\");\n\t\t} else {\n\t\t\tnewHost = fields.join(\":\");\n\t\t}\n\n\t\tif (zone) {\n\t\t\tnewHost += \"%\" + zone;\n\t\t}\n\n\t\treturn newHost;\n\t} else {\n\t\treturn host;\n\t}\n}\n\nconst URI_PARSE = /^(?:([^:\\/?#]+):)?(?:\\/\\/((?:([^\\/?#@]*)@)?(\\[[^\\/?#\\]]+\\]|[^\\/?#:]*)(?:\\:(\\d*))?))?([^?#]*)(?:\\?([^#]*))?(?:#((?:.|\\n|\\r)*))?/i;\nconst NO_MATCH_IS_UNDEFINED = (<RegExpMatchArray>(\"\").match(/(){0}/))[1] === undefined;\n\nexport function parse(uriString:string, options:URIOptions = {}):URIComponents {\n\tconst components:URIComponents = {};\n\tconst protocol = (options.iri !== false ? IRI_PROTOCOL : URI_PROTOCOL);\n\n\tif (options.reference === \"suffix\") uriString = (options.scheme ? options.scheme + \":\" : \"\") + \"//\" + uriString;\n\n\tconst matches = uriString.match(URI_PARSE);\n\n\tif (matches) {\n\t\tif (NO_MATCH_IS_UNDEFINED) {\n\t\t\t//store each component\n\t\t\tcomponents.scheme = matches[1];\n\t\t\tcomponents.userinfo = matches[3];\n\t\t\tcomponents.host = matches[4];\n\t\t\tcomponents.port = parseInt(matches[5], 10);\n\t\t\tcomponents.path = matches[6] || \"\";\n\t\t\tcomponents.query = matches[7];\n\t\t\tcomponents.fragment = matches[8];\n\n\t\t\t//fix port number\n\t\t\tif (isNaN(components.port)) {\n\t\t\t\tcomponents.port = matches[5];\n\t\t\t}\n\t\t} else {  //IE FIX for improper RegExp matching\n\t\t\t//store each component\n\t\t\tcomponents.scheme = matches[1] || undefined;\n\t\t\tcomponents.userinfo = (uriString.indexOf(\"@\") !== -1 ? matches[3] : undefined);\n\t\t\tcomponents.host = (uriString.indexOf(\"//\") !== -1 ? matches[4] : undefined);\n\t\t\tcomponents.port = parseInt(matches[5], 10);\n\t\t\tcomponents.path = matches[6] || \"\";\n\t\t\tcomponents.query = (uriString.indexOf(\"?\") !== -1 ? matches[7] : undefined);\n\t\t\tcomponents.fragment = (uriString.indexOf(\"#\") !== -1 ? matches[8] : undefined);\n\n\t\t\t//fix port number\n\t\t\tif (isNaN(components.port)) {\n\t\t\t\tcomponents.port = (uriString.match(/\\/\\/(?:.|\\n)*\\:(?:\\/|\\?|\\#|$)/) ? matches[4] : undefined);\n\t\t\t}\n\t\t}\n\n\t\tif (components.host) {\n\t\t\t//normalize IP hosts\n\t\t\tcomponents.host = _normalizeIPv6(_normalizeIPv4(components.host, protocol), protocol);\n\t\t}\n\n\t\t//determine reference type\n\t\tif (components.scheme === undefined && components.userinfo === undefined && components.host === undefined && components.port === undefined && !components.path && components.query === undefined) {\n\t\t\tcomponents.reference = \"same-document\";\n\t\t} else if (components.scheme === undefined) {\n\t\t\tcomponents.reference = \"relative\";\n\t\t} else if (components.fragment === undefined) {\n\t\t\tcomponents.reference = \"absolute\";\n\t\t} else {\n\t\t\tcomponents.reference = \"uri\";\n\t\t}\n\n\t\t//check for reference errors\n\t\tif (options.reference && options.reference !== \"suffix\" && options.reference !== components.reference) {\n\t\t\tcomponents.error = components.error || \"URI is not a \" + options.reference + \" reference.\";\n\t\t}\n\n\t\t//find scheme handler\n\t\tconst schemeHandler = SCHEMES[(options.scheme || components.scheme || \"\").toLowerCase()];\n\n\t\t//check if scheme can't handle IRIs\n\t\tif (!options.unicodeSupport && (!schemeHandler || !schemeHandler.unicodeSupport)) {\n\t\t\t//if host component is a domain name\n\t\t\tif (components.host && (options.domainHost || (schemeHandler && schemeHandler.domainHost))) {\n\t\t\t\t//convert Unicode IDN -> ASCII IDN\n\t\t\t\ttry {\n\t\t\t\t\tcomponents.host = punycode.toASCII(components.host.replace(protocol.PCT_ENCODED, pctDecChars).toLowerCase());\n\t\t\t\t} catch (e) {\n\t\t\t\t\tcomponents.error = components.error || \"Host's domain name can not be converted to ASCII via punycode: \" + e;\n\t\t\t\t}\n\t\t\t}\n\t\t\t//convert IRI -> URI\n\t\t\t_normalizeComponentEncoding(components, URI_PROTOCOL);\n\t\t} else {\n\t\t\t//normalize encodings\n\t\t\t_normalizeComponentEncoding(components, protocol);\n\t\t}\n\n\t\t//perform scheme specific parsing\n\t\tif (schemeHandler && schemeHandler.parse) {\n\t\t\tschemeHandler.parse(components, options);\n\t\t}\n\t} else {\n\t\tcomponents.error = components.error || \"URI can not be parsed.\";\n\t}\n\n\treturn components;\n};\n\nfunction _recomposeAuthority(components:URIComponents, options:URIOptions):string|undefined {\n\tconst protocol = (options.iri !== false ? IRI_PROTOCOL : URI_PROTOCOL);\n\tconst uriTokens:Array<string> = [];\n\n\tif (components.userinfo !== undefined) {\n\t\turiTokens.push(components.userinfo);\n\t\turiTokens.push(\"@\");\n\t}\n\n\tif (components.host !== undefined) {\n\t\t//normalize IP hosts, add brackets and escape zone separator for IPv6\n\t\turiTokens.push(_normalizeIPv6(_normalizeIPv4(String(components.host), protocol), protocol).replace(protocol.IPV6ADDRESS, (_, $1, $2) => \"[\" + $1 + ($2 ? \"%25\" + $2 : \"\") + \"]\"));\n\t}\n\n\tif (typeof components.port === \"number\" || typeof components.port === \"string\") {\n\t\turiTokens.push(\":\");\n\t\turiTokens.push(String(components.port));\n\t}\n\n\treturn uriTokens.length ? uriTokens.join(\"\") : undefined;\n};\n\nconst RDS1 = /^\\.\\.?\\//;\nconst RDS2 = /^\\/\\.(\\/|$)/;\nconst RDS3 = /^\\/\\.\\.(\\/|$)/;\nconst RDS4 = /^\\.\\.?$/;\nconst RDS5 = /^\\/?(?:.|\\n)*?(?=\\/|$)/;\n\nexport function removeDotSegments(input:string):string {\n\tconst output:Array<string> = [];\n\n\twhile (input.length) {\n\t\tif (input.match(RDS1)) {\n\t\t\tinput = input.replace(RDS1, \"\");\n\t\t} else if (input.match(RDS2)) {\n\t\t\tinput = input.replace(RDS2, \"/\");\n\t\t} else if (input.match(RDS3)) {\n\t\t\tinput = input.replace(RDS3, \"/\");\n\t\t\toutput.pop();\n\t\t} else if (input === \".\" || input === \"..\") {\n\t\t\tinput = \"\";\n\t\t} else {\n\t\t\tconst im = input.match(RDS5);\n\t\t\tif (im) {\n\t\t\t\tconst s = im[0];\n\t\t\t\tinput = input.slice(s.length);\n\t\t\t\toutput.push(s);\n\t\t\t} else {\n\t\t\t\tthrow new Error(\"Unexpected dot segment condition\");\n\t\t\t}\n\t\t}\n\t}\n\n\treturn output.join(\"\");\n};\n\nexport function serialize(components:URIComponents, options:URIOptions = {}):string {\n\tconst protocol = (options.iri ? IRI_PROTOCOL : URI_PROTOCOL);\n\tconst uriTokens:Array<string> = [];\n\n\t//find scheme handler\n\tconst schemeHandler = SCHEMES[(options.scheme || components.scheme || \"\").toLowerCase()];\n\n\t//perform scheme specific serialization\n\tif (schemeHandler && schemeHandler.serialize) schemeHandler.serialize(components, options);\n\n\tif (components.host) {\n\t\t//if host component is an IPv6 address\n\t\tif (protocol.IPV6ADDRESS.test(components.host)) {\n\t\t\t//TODO: normalize IPv6 address as per RFC 5952\n\t\t}\n\n\t\t//if host component is a domain name\n\t\telse if (options.domainHost || (schemeHandler && schemeHandler.domainHost)) {\n\t\t\t//convert IDN via punycode\n\t\t\ttry {\n\t\t\t\tcomponents.host = (!options.iri ? punycode.toASCII(components.host.replace(protocol.PCT_ENCODED, pctDecChars).toLowerCase()) : punycode.toUnicode(components.host));\n\t\t\t} catch (e) {\n\t\t\t\tcomponents.error = components.error || \"Host's domain name can not be converted to \" + (!options.iri ? \"ASCII\" : \"Unicode\") + \" via punycode: \" + e;\n\t\t\t}\n\t\t}\n\t}\n\n\t//normalize encoding\n\t_normalizeComponentEncoding(components, protocol);\n\n\tif (options.reference !== \"suffix\" && components.scheme) {\n\t\turiTokens.push(components.scheme);\n\t\turiTokens.push(\":\");\n\t}\n\n\tconst authority = _recomposeAuthority(components, options);\n\tif (authority !== undefined) {\n\t\tif (options.reference !== \"suffix\") {\n\t\t\turiTokens.push(\"//\");\n\t\t}\n\n\t\turiTokens.push(authority);\n\n\t\tif (components.path && components.path.charAt(0) !== \"/\") {\n\t\t\turiTokens.push(\"/\");\n\t\t}\n\t}\n\n\tif (components.path !== undefined) {\n\t\tlet s = components.path;\n\n\t\tif (!options.absolutePath && (!schemeHandler || !schemeHandler.absolutePath)) {\n\t\t\ts = removeDotSegments(s);\n\t\t}\n\n\t\tif (authority === undefined) {\n\t\t\ts = s.replace(/^\\/\\//, \"/%2F\");  //don't allow the path to start with \"//\"\n\t\t}\n\n\t\turiTokens.push(s);\n\t}\n\n\tif (components.query !== undefined) {\n\t\turiTokens.push(\"?\");\n\t\turiTokens.push(components.query);\n\t}\n\n\tif (components.fragment !== undefined) {\n\t\turiTokens.push(\"#\");\n\t\turiTokens.push(components.fragment);\n\t}\n\n\treturn uriTokens.join(\"\");  //merge tokens into a string\n};\n\nexport function resolveComponents(base:URIComponents, relative:URIComponents, options:URIOptions = {}, skipNormalization?:boolean):URIComponents {\n\tconst target:URIComponents = {};\n\n\tif (!skipNormalization) {\n\t\tbase = parse(serialize(base, options), options);  //normalize base components\n\t\trelative = parse(serialize(relative, options), options);  //normalize relative components\n\t}\n\toptions = options || {};\n\n\tif (!options.tolerant && relative.scheme) {\n\t\ttarget.scheme = relative.scheme;\n\t\t//target.authority = relative.authority;\n\t\ttarget.userinfo = relative.userinfo;\n\t\ttarget.host = relative.host;\n\t\ttarget.port = relative.port;\n\t\ttarget.path = removeDotSegments(relative.path || \"\");\n\t\ttarget.query = relative.query;\n\t} else {\n\t\tif (relative.userinfo !== undefined || relative.host !== undefined || relative.port !== undefined) {\n\t\t\t//target.authority = relative.authority;\n\t\t\ttarget.userinfo = relative.userinfo;\n\t\t\ttarget.host = relative.host;\n\t\t\ttarget.port = relative.port;\n\t\t\ttarget.path = removeDotSegments(relative.path || \"\");\n\t\t\ttarget.query = relative.query;\n\t\t} else {\n\t\t\tif (!relative.path) {\n\t\t\t\ttarget.path = base.path;\n\t\t\t\tif (relative.query !== undefined) {\n\t\t\t\t\ttarget.query = relative.query;\n\t\t\t\t} else {\n\t\t\t\t\ttarget.query = base.query;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (relative.path.charAt(0) === \"/\") {\n\t\t\t\t\ttarget.path = removeDotSegments(relative.path);\n\t\t\t\t} else {\n\t\t\t\t\tif ((base.userinfo !== undefined || base.host !== undefined || base.port !== undefined) && !base.path) {\n\t\t\t\t\t\ttarget.path = \"/\" + relative.path;\n\t\t\t\t\t} else if (!base.path) {\n\t\t\t\t\t\ttarget.path = relative.path;\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttarget.path = base.path.slice(0, base.path.lastIndexOf(\"/\") + 1) + relative.path;\n\t\t\t\t\t}\n\t\t\t\t\ttarget.path = removeDotSegments(target.path);\n\t\t\t\t}\n\t\t\t\ttarget.query = relative.query;\n\t\t\t}\n\t\t\t//target.authority = base.authority;\n\t\t\ttarget.userinfo = base.userinfo;\n\t\t\ttarget.host = base.host;\n\t\t\ttarget.port = base.port;\n\t\t}\n\t\ttarget.scheme = base.scheme;\n\t}\n\n\ttarget.fragment = relative.fragment;\n\n\treturn target;\n};\n\nexport function resolve(baseURI:string, relativeURI:string, options?:URIOptions):string {\n\tconst schemelessOptions = assign({ scheme : 'null' }, options);\n\treturn serialize(resolveComponents(parse(baseURI, schemelessOptions), parse(relativeURI, schemelessOptions), schemelessOptions, true), schemelessOptions);\n};\n\nexport function normalize(uri:string, options?:URIOptions):string;\nexport function normalize(uri:URIComponents, options?:URIOptions):URIComponents;\nexport function normalize(uri:any, options?:URIOptions):any {\n\tif (typeof uri === \"string\") {\n\t\turi = serialize(parse(uri, options), options);\n\t} else if (typeOf(uri) === \"object\") {\n\t\turi = parse(serialize(<URIComponents>uri, options), options);\n\t}\n\n\treturn uri;\n};\n\nexport function equal(uriA:string, uriB:string, options?: URIOptions):boolean;\nexport function equal(uriA:URIComponents, uriB:URIComponents, options?:URIOptions):boolean;\nexport function equal(uriA:any, uriB:any, options?:URIOptions):boolean {\n\tif (typeof uriA === \"string\") {\n\t\turiA = serialize(parse(uriA, options), options);\n\t} else if (typeOf(uriA) === \"object\") {\n\t\turiA = serialize(<URIComponents>uriA, options);\n\t}\n\n\tif (typeof uriB === \"string\") {\n\t\turiB = serialize(parse(uriB, options), options);\n\t} else if (typeOf(uriB) === \"object\") {\n\t\turiB = serialize(<URIComponents>uriB, options);\n\t}\n\n\treturn uriA === uriB;\n};\n\nexport function escapeComponent(str:string, options?:URIOptions):string {\n\treturn str && str.toString().replace((!options || !options.iri ? URI_PROTOCOL.ESCAPE : IRI_PROTOCOL.ESCAPE), pctEncChar);\n};\n\nexport function unescapeComponent(str:string, options?:URIOptions):string {\n\treturn str && str.toString().replace((!options || !options.iri ? URI_PROTOCOL.PCT_ENCODED : IRI_PROTOCOL.PCT_ENCODED), pctDecChars);\n};\n","import { URISchemeHandler, URIComponents, URIOptions } from \"../uri\";\n\nconst handler:URISchemeHandler = {\n\tscheme : \"http\",\n\n\tdomainHost : true,\n\n\tparse : function (components:URIComponents, options:URIOptions):URIComponents {\n\t\t//report missing host\n\t\tif (!components.host) {\n\t\t\tcomponents.error = components.error || \"HTTP URIs must have a host.\";\n\t\t}\n\n\t\treturn components;\n\t},\n\n\tserialize : function (components:URIComponents, options:URIOptions):URIComponents {\n\t\tconst secure = String(components.scheme).toLowerCase() === \"https\";\n\n\t\t//normalize the default port\n\t\tif (components.port === (secure ? 443 : 80) || components.port === \"\") {\n\t\t\tcomponents.port = undefined;\n\t\t}\n\t\t\n\t\t//normalize the empty path\n\t\tif (!components.path) {\n\t\t\tcomponents.path = \"/\";\n\t\t}\n\n\t\t//NOTE: We do not parse query strings for HTTP URIs\n\t\t//as WWW Form Url Encoded query strings are part of the HTML4+ spec,\n\t\t//and not the HTTP spec.\n\n\t\treturn components;\n\t}\n};\n\nexport default handler;","import { URISchemeHandler, URIComponents, URIOptions } from \"../uri\";\nimport http from \"./http\";\n\nconst handler:URISchemeHandler = {\n\tscheme : \"https\",\n\tdomainHost : http.domainHost,\n\tparse : http.parse,\n\tserialize : http.serialize\n}\n\nexport default handler;","import { URISchemeHandler, URIComponents, URIOptions } from \"../uri\";\n\nexport interface WSComponents extends URIComponents {\n\tresourceName?: string;\n\tsecure?: boolean;\n}\n\nfunction isSecure(wsComponents:WSComponents):boolean {\n\treturn typeof wsComponents.secure === 'boolean' ? wsComponents.secure : String(wsComponents.scheme).toLowerCase() === \"wss\";\n}\n\n//RFC 6455\nconst handler:URISchemeHandler = {\n\tscheme : \"ws\",\n\n\tdomainHost : true,\n\n\tparse : function (components:URIComponents, options:URIOptions):WSComponents {\n\t\tconst wsComponents = components as WSComponents;\n\n\t\t//indicate if the secure flag is set\n\t\twsComponents.secure = isSecure(wsComponents);\n\n\t\t//construct resouce name\n\t\twsComponents.resourceName = (wsComponents.path || '/') + (wsComponents.query ? '?' + wsComponents.query : '');\n\t\twsComponents.path = undefined;\n\t\twsComponents.query = undefined;\n\n\t\treturn wsComponents;\n\t},\n\n\tserialize : function (wsComponents:WSComponents, options:URIOptions):URIComponents {\n\t\t//normalize the default port\n\t\tif (wsComponents.port === (isSecure(wsComponents) ? 443 : 80) || wsComponents.port === \"\") {\n\t\t\twsComponents.port = undefined;\n\t\t}\n\n\t\t//ensure scheme matches secure flag\n\t\tif (typeof wsComponents.secure === 'boolean') {\n\t\t\twsComponents.scheme = (wsComponents.secure ? 'wss' : 'ws');\n\t\t\twsComponents.secure = undefined;\n\t\t}\n\n\t\t//reconstruct path from resource name\n\t\tif (wsComponents.resourceName) {\n\t\t\tconst [path, query] = wsComponents.resourceName.split('?');\n\t\t\twsComponents.path = (path && path !== '/' ? path : undefined);\n\t\t\twsComponents.query = query;\n\t\t\twsComponents.resourceName = undefined;\n\t\t}\n\n\t\t//forbid fragment component\n\t\twsComponents.fragment = undefined;\n\n\t\treturn wsComponents;\n\t}\n};\n\nexport default handler;","import { URISchemeHandler, URIComponents, URIOptions } from \"../uri\";\nimport ws from \"./ws\";\n\nconst handler:URISchemeHandler = {\n\tscheme : \"wss\",\n\tdomainHost : ws.domainHost,\n\tparse : ws.parse,\n\tserialize : ws.serialize\n}\n\nexport default handler;","import { URISchemeHandler, URIComponents, URIOptions } from \"../uri\";\nimport { pctEncChar, pctDecChars, unescapeComponent } from \"../uri\";\nimport punycode from \"punycode\";\nimport { merge, subexp, toUpperCase, toArray } from \"../util\";\n\nexport interface MailtoHeaders {\n\t[hfname:string]:string\n}\n\nexport interface MailtoComponents extends URIComponents {\n\tto:Array<string>,\n\theaders?:MailtoHeaders,\n\tsubject?:string,\n\tbody?:string\n}\n\nconst O:MailtoHeaders = {};\nconst isIRI = true;\n\n//RFC 3986\nconst UNRESERVED$$ = \"[A-Za-z0-9\\\\-\\\\.\\\\_\\\\~\" + (isIRI ? \"\\\\xA0-\\\\u200D\\\\u2010-\\\\u2029\\\\u202F-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFEF\" : \"\") + \"]\";\nconst HEXDIG$$ = \"[0-9A-Fa-f]\";  //case-insensitive\nconst PCT_ENCODED$ = subexp(subexp(\"%[EFef]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%[89A-Fa-f]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%\" + HEXDIG$$ + HEXDIG$$));  //expanded\n\n//RFC 5322, except these symbols as per RFC 6068: @ : / ? # [ ] & ; =\n//const ATEXT$$ = \"[A-Za-z0-9\\\\!\\\\#\\\\$\\\\%\\\\&\\\\'\\\\*\\\\+\\\\-\\\\/\\\\=\\\\?\\\\^\\\\_\\\\`\\\\{\\\\|\\\\}\\\\~]\";\n//const WSP$$ = \"[\\\\x20\\\\x09]\";\n//const OBS_QTEXT$$ = \"[\\\\x01-\\\\x08\\\\x0B\\\\x0C\\\\x0E-\\\\x1F\\\\x7F]\";  //(%d1-8 / %d11-12 / %d14-31 / %d127)\n//const QTEXT$$ = merge(\"[\\\\x21\\\\x23-\\\\x5B\\\\x5D-\\\\x7E]\", OBS_QTEXT$$);  //%d33 / %d35-91 / %d93-126 / obs-qtext\n//const VCHAR$$ = \"[\\\\x21-\\\\x7E]\";\n//const WSP$$ = \"[\\\\x20\\\\x09]\";\n//const OBS_QP$ = subexp(\"\\\\\\\\\" + merge(\"[\\\\x00\\\\x0D\\\\x0A]\", OBS_QTEXT$$));  //%d0 / CR / LF / obs-qtext\n//const FWS$ = subexp(subexp(WSP$$ + \"*\" + \"\\\\x0D\\\\x0A\") + \"?\" + WSP$$ + \"+\");\n//const QUOTED_PAIR$ = subexp(subexp(\"\\\\\\\\\" + subexp(VCHAR$$ + \"|\" + WSP$$)) + \"|\" + OBS_QP$);\n//const QUOTED_STRING$ = subexp('\\\\\"' + subexp(FWS$ + \"?\" + QCONTENT$) + \"*\" + FWS$ + \"?\" + '\\\\\"');\nconst ATEXT$$ = \"[A-Za-z0-9\\\\!\\\\$\\\\%\\\\'\\\\*\\\\+\\\\-\\\\^\\\\_\\\\`\\\\{\\\\|\\\\}\\\\~]\";\nconst QTEXT$$ = \"[\\\\!\\\\$\\\\%\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\-\\\\.0-9\\\\<\\\\>A-Z\\\\x5E-\\\\x7E]\";\nconst VCHAR$$ = merge(QTEXT$$, \"[\\\\\\\"\\\\\\\\]\");\nconst DOT_ATOM_TEXT$ = subexp(ATEXT$$ + \"+\" + subexp(\"\\\\.\" + ATEXT$$ + \"+\") + \"*\");\nconst QUOTED_PAIR$ = subexp(\"\\\\\\\\\" + VCHAR$$);\nconst QCONTENT$ = subexp(QTEXT$$ + \"|\" + QUOTED_PAIR$);\nconst QUOTED_STRING$ = subexp('\\\\\"' + QCONTENT$ + \"*\" + '\\\\\"');\n\n//RFC 6068\nconst DTEXT_NO_OBS$$ = \"[\\\\x21-\\\\x5A\\\\x5E-\\\\x7E]\";  //%d33-90 / %d94-126\nconst SOME_DELIMS$$ = \"[\\\\!\\\\$\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\;\\\\:\\\\@]\";\nconst QCHAR$ = subexp(UNRESERVED$$ + \"|\" + PCT_ENCODED$ + \"|\" + SOME_DELIMS$$);\nconst DOMAIN$ = subexp(DOT_ATOM_TEXT$ + \"|\" + \"\\\\[\" + DTEXT_NO_OBS$$ + \"*\" + \"\\\\]\");\nconst LOCAL_PART$ = subexp(DOT_ATOM_TEXT$ + \"|\" + QUOTED_STRING$);\nconst ADDR_SPEC$ = subexp(LOCAL_PART$ + \"\\\\@\" + DOMAIN$);\nconst TO$ = subexp(ADDR_SPEC$ + subexp(\"\\\\,\" + ADDR_SPEC$) + \"*\");\nconst HFNAME$ = subexp(QCHAR$ + \"*\");\nconst HFVALUE$ = HFNAME$;\nconst HFIELD$ = subexp(HFNAME$ + \"\\\\=\" + HFVALUE$);\nconst HFIELDS2$ = subexp(HFIELD$ + subexp(\"\\\\&\" + HFIELD$) + \"*\");\nconst HFIELDS$ = subexp(\"\\\\?\" + HFIELDS2$);\nconst MAILTO_URI = new RegExp(\"^mailto\\\\:\" + TO$ + \"?\" + HFIELDS$ + \"?$\");\n\nconst UNRESERVED = new RegExp(UNRESERVED$$, \"g\");\nconst PCT_ENCODED = new RegExp(PCT_ENCODED$, \"g\");\nconst NOT_LOCAL_PART = new RegExp(merge(\"[^]\", ATEXT$$, \"[\\\\.]\", '[\\\\\"]', VCHAR$$), \"g\");\nconst NOT_DOMAIN = new RegExp(merge(\"[^]\", ATEXT$$, \"[\\\\.]\", \"[\\\\[]\", DTEXT_NO_OBS$$, \"[\\\\]]\"), \"g\");\nconst NOT_HFNAME = new RegExp(merge(\"[^]\", UNRESERVED$$, SOME_DELIMS$$), \"g\");\nconst NOT_HFVALUE = NOT_HFNAME;\nconst TO = new RegExp(\"^\" + TO$ + \"$\");\nconst HFIELDS = new RegExp(\"^\" + HFIELDS2$ + \"$\");\n\nfunction decodeUnreserved(str:string):string {\n\tconst decStr = pctDecChars(str);\n\treturn (!decStr.match(UNRESERVED) ? str : decStr);\n}\n\nconst handler:URISchemeHandler<MailtoComponents> =  {\n\tscheme : \"mailto\",\n\n\tparse : function (components:URIComponents, options:URIOptions):MailtoComponents {\n\t\tconst mailtoComponents = components as MailtoComponents;\n\t\tconst to = mailtoComponents.to = (mailtoComponents.path ? mailtoComponents.path.split(\",\") : []);\n\t\tmailtoComponents.path = undefined;\n\n\t\tif (mailtoComponents.query) {\n\t\t\tlet unknownHeaders = false\n\t\t\tconst headers:MailtoHeaders = {};\n\t\t\tconst hfields = mailtoComponents.query.split(\"&\");\n\n\t\t\tfor (let x = 0, xl = hfields.length; x < xl; ++x) {\n\t\t\t\tconst hfield = hfields[x].split(\"=\");\n\n\t\t\t\tswitch (hfield[0]) {\n\t\t\t\t\tcase \"to\":\n\t\t\t\t\t\tconst toAddrs = hfield[1].split(\",\");\n\t\t\t\t\t\tfor (let x = 0, xl = toAddrs.length; x < xl; ++x) {\n\t\t\t\t\t\t\tto.push(toAddrs[x]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"subject\":\n\t\t\t\t\t\tmailtoComponents.subject = unescapeComponent(hfield[1], options);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"body\":\n\t\t\t\t\t\tmailtoComponents.body = unescapeComponent(hfield[1], options);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tunknownHeaders = true;\n\t\t\t\t\t\theaders[unescapeComponent(hfield[0], options)] = unescapeComponent(hfield[1], options);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (unknownHeaders) mailtoComponents.headers = headers;\n\t\t}\n\n\t\tmailtoComponents.query = undefined;\n\n\t\tfor (let x = 0, xl = to.length; x < xl; ++x) {\n\t\t\tconst addr = to[x].split(\"@\");\n\n\t\t\taddr[0] = unescapeComponent(addr[0]);\n\n\t\t\tif (!options.unicodeSupport) {\n\t\t\t\t//convert Unicode IDN -> ASCII IDN\n\t\t\t\ttry {\n\t\t\t\t\taddr[1] = punycode.toASCII(unescapeComponent(addr[1], options).toLowerCase());\n\t\t\t\t} catch (e) {\n\t\t\t\t\tmailtoComponents.error = mailtoComponents.error || \"Email address's domain name can not be converted to ASCII via punycode: \" + e;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\taddr[1] = unescapeComponent(addr[1], options).toLowerCase();\n\t\t\t}\n\n\t\t\tto[x] = addr.join(\"@\");\n\t\t}\n\n\t\treturn mailtoComponents;\n\t},\n\n\tserialize : function (mailtoComponents:MailtoComponents, options:URIOptions):URIComponents {\n\t\tconst components = mailtoComponents as URIComponents;\n\t\tconst to = toArray(mailtoComponents.to);\n\t\tif (to) {\n\t\t\tfor (let x = 0, xl = to.length; x < xl; ++x) {\n\t\t\t\tconst toAddr = String(to[x]);\n\t\t\t\tconst atIdx = toAddr.lastIndexOf(\"@\");\n\t\t\t\tconst localPart = (toAddr.slice(0, atIdx)).replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_LOCAL_PART, pctEncChar);\n\t\t\t\tlet domain = toAddr.slice(atIdx + 1);\n\n\t\t\t\t//convert IDN via punycode\n\t\t\t\ttry {\n\t\t\t\t\tdomain = (!options.iri ? punycode.toASCII(unescapeComponent(domain, options).toLowerCase()) : punycode.toUnicode(domain));\n\t\t\t\t} catch (e) {\n\t\t\t\t\tcomponents.error = components.error || \"Email address's domain name can not be converted to \" + (!options.iri ? \"ASCII\" : \"Unicode\") + \" via punycode: \" + e;\n\t\t\t\t}\n\n\t\t\t\tto[x] = localPart + \"@\" + domain;\n\t\t\t}\n\n\t\t\tcomponents.path = to.join(\",\");\n\t\t}\n\n\t\tconst headers = mailtoComponents.headers = mailtoComponents.headers || {};\n\n\t\tif (mailtoComponents.subject) headers[\"subject\"] = mailtoComponents.subject;\n\t\tif (mailtoComponents.body) headers[\"body\"] = mailtoComponents.body;\n\n\t\tconst fields = [];\n\t\tfor (const name in headers) {\n\t\t\tif (headers[name] !== O[name]) {\n\t\t\t\tfields.push(\n\t\t\t\t\tname.replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_HFNAME, pctEncChar) +\n\t\t\t\t\t\"=\" +\n\t\t\t\t\theaders[name].replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_HFVALUE, pctEncChar)\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\tif (fields.length) {\n\t\t\tcomponents.query = fields.join(\"&\");\n\t\t}\n\n\t\treturn components;\n\t}\n}\n\nexport default handler;","import { URISchemeHandler, URIComponents, URIOptions } from \"../uri\";\nimport { pctEncChar, SCHEMES } from \"../uri\";\n\nexport interface URNComponents extends URIComponents {\n\tnid?:string;\n\tnss?:string;\n}\n\nexport interface URNOptions extends URIOptions {\n\tnid?:string;\n}\n\nconst NID$ = \"(?:[0-9A-Za-z][0-9A-Za-z\\\\-]{1,31})\";\nconst PCT_ENCODED$ = \"(?:\\\\%[0-9A-Fa-f]{2})\";\nconst TRANS$$ = \"[0-9A-Za-z\\\\(\\\\)\\\\+\\\\,\\\\-\\\\.\\\\:\\\\=\\\\@\\\\;\\\\$\\\\_\\\\!\\\\*\\\\'\\\\/\\\\?\\\\#]\";\nconst NSS$ = \"(?:(?:\" + PCT_ENCODED$ + \"|\" + TRANS$$ + \")+)\";\nconst URN_SCHEME = new RegExp(\"^urn\\\\:(\" + NID$ + \")$\");\nconst URN_PATH = new RegExp(\"^(\" + NID$ + \")\\\\:(\" + NSS$ + \")$\");\nconst URN_PARSE = /^([^\\:]+)\\:(.*)/;\nconst URN_EXCLUDED = /[\\x00-\\x20\\\\\\\"\\&\\<\\>\\[\\]\\^\\`\\{\\|\\}\\~\\x7F-\\xFF]/g;\n\n//RFC 2141\nconst handler:URISchemeHandler<URNComponents,URNOptions> = {\n\tscheme : \"urn\",\n\n\tparse : function (components:URIComponents, options:URNOptions):URNComponents {\n\t\tconst matches = components.path && components.path.match(URN_PARSE);\n\t\tlet urnComponents = components as URNComponents;\n\n\t\tif (matches) {\n\t\t\tconst scheme = options.scheme || urnComponents.scheme || \"urn\";\n\t\t\tconst nid = matches[1].toLowerCase();\n\t\t\tconst nss = matches[2];\n\t\t\tconst urnScheme = `${scheme}:${options.nid || nid}`;\n\t\t\tconst schemeHandler = SCHEMES[urnScheme];\n\n\t\t\turnComponents.nid = nid;\n\t\t\turnComponents.nss = nss;\n\t\t\turnComponents.path = undefined;\n\n\t\t\tif (schemeHandler) {\n\t\t\t\turnComponents = schemeHandler.parse(urnComponents, options) as URNComponents;\n\t\t\t}\n\t\t} else {\n\t\t\turnComponents.error = urnComponents.error || \"URN can not be parsed.\";\n\t\t}\n\n\t\treturn urnComponents;\n\t},\n\n\tserialize : function (urnComponents:URNComponents, options:URNOptions):URIComponents {\n\t\tconst scheme = options.scheme || urnComponents.scheme || \"urn\";\n\t\tconst nid = urnComponents.nid;\n\t\tconst urnScheme = `${scheme}:${options.nid || nid}`;\n\t\tconst schemeHandler = SCHEMES[urnScheme];\n\n\t\tif (schemeHandler) {\n\t\t\turnComponents = schemeHandler.serialize(urnComponents, options) as URNComponents;\n\t\t}\n\n\t\tconst uriComponents = urnComponents as URIComponents;\n\t\tconst nss = urnComponents.nss;\n\t\turiComponents.path = `${nid || options.nid}:${nss}`;\n\n\t\treturn uriComponents;\n\t},\n};\n\nexport default handler;","import { URISchemeHandler, URIComponents, URIOptions } from \"../uri\";\nimport { URNComponents } from \"./urn\";\nimport { SCHEMES } from \"../uri\";\n\nexport interface UUIDComponents extends URNComponents {\n\tuuid?: string;\n}\n\nconst UUID = /^[0-9A-Fa-f]{8}(?:\\-[0-9A-Fa-f]{4}){3}\\-[0-9A-Fa-f]{12}$/;\nconst UUID_PARSE = /^[0-9A-Fa-f\\-]{36}/;\n\n//RFC 4122\nconst handler:URISchemeHandler<UUIDComponents, URIOptions, URNComponents> = {\n\tscheme : \"urn:uuid\",\n\n\tparse : function (urnComponents:URNComponents, options:URIOptions):UUIDComponents {\n\t\tconst uuidComponents = urnComponents as UUIDComponents;\n\t\tuuidComponents.uuid = uuidComponents.nss;\n\t\tuuidComponents.nss = undefined;\n\n\t\tif (!options.tolerant && (!uuidComponents.uuid || !uuidComponents.uuid.match(UUID))) {\n\t\t\tuuidComponents.error = uuidComponents.error || \"UUID is not valid.\";\n\t\t}\n\n\t\treturn uuidComponents;\n\t},\n\n\tserialize : function (uuidComponents:UUIDComponents, options:URIOptions):URNComponents {\n\t\tconst urnComponents = uuidComponents as URNComponents;\n\t\t//normalize UUID\n\t\turnComponents.nss = (uuidComponents.uuid || \"\").toLowerCase();\n\t\treturn urnComponents;\n\t},\n};\n\nexport default handler;","import { SCHEMES } from \"./uri\";\n\nimport http from \"./schemes/http\";\nSCHEMES[http.scheme] = http;\n\nimport https from \"./schemes/https\";\nSCHEMES[https.scheme] = https;\n\nimport ws from \"./schemes/ws\";\nSCHEMES[ws.scheme] = ws;\n\nimport wss from \"./schemes/wss\";\nSCHEMES[wss.scheme] = wss;\n\nimport mailto from \"./schemes/mailto\";\nSCHEMES[mailto.scheme] = mailto;\n\nimport urn from \"./schemes/urn\";\nSCHEMES[urn.scheme] = urn;\n\nimport uuid from \"./schemes/urn-uuid\";\nSCHEMES[uuid.scheme] = uuid;\n\nexport * from \"./uri\";\n","import type {Vocabulary} from \"../types\"\nimport coreVocabulary from \"./core\"\nimport validationVocabulary from \"./validation\"\nimport getApplicatorVocabulary from \"./applicator\"\nimport formatVocabulary from \"./format\"\nimport {metadataVocabulary, contentVocabulary} from \"./metadata\"\n\nconst draft7Vocabularies: Vocabulary[] = [\n  coreVocabulary,\n  validationVocabulary,\n  getApplicatorVocabulary(),\n  formatVocabulary,\n  metadataVocabulary,\n  contentVocabulary,\n]\n\nexport default draft7Vocabularies\n","import type {Vocabulary} from \"../../types\"\nimport idKeyword from \"./id\"\nimport refKeyword from \"./ref\"\n\nconst core: Vocabulary = [\n  \"$schema\",\n  \"$id\",\n  \"$defs\",\n  \"$vocabulary\",\n  {keyword: \"$comment\"},\n  \"definitions\",\n  idKeyword,\n  refKeyword,\n]\n\nexport default core\n","import type {CodeKeywordDefinition} from \"../../types\"\n\nconst def: CodeKeywordDefinition = {\n  keyword: \"id\",\n  code() {\n    throw new Error('NOT SUPPORTED: keyword \"id\", use \"$id\" for schema ID')\n  },\n}\n\nexport default def\n","import type {CodeKeywordDefinition, AnySchema} from \"../../types\"\nimport type {KeywordCxt} from \"../../compile/validate\"\nimport MissingRefError from \"../../compile/ref_error\"\nimport {callValidateCode} from \"../code\"\nimport {_, nil, stringify, Code, Name} from \"../../compile/codegen\"\nimport N from \"../../compile/names\"\nimport {SchemaEnv, resolveRef} from \"../../compile\"\nimport {mergeEvaluated} from \"../../compile/util\"\n\nconst def: CodeKeywordDefinition = {\n  keyword: \"$ref\",\n  schemaType: \"string\",\n  code(cxt: KeywordCxt): void {\n    const {gen, schema: $ref, it} = cxt\n    const {baseId, schemaEnv: env, validateName, opts, self} = it\n    const {root} = env\n    if (($ref === \"#\" || $ref === \"#/\") && baseId === root.baseId) return callRootRef()\n    const schOrEnv = resolveRef.call(self, root, baseId, $ref)\n    if (schOrEnv === undefined) throw new MissingRefError(it.opts.uriResolver, baseId, $ref)\n    if (schOrEnv instanceof SchemaEnv) return callValidate(schOrEnv)\n    return inlineRefSchema(schOrEnv)\n\n    function callRootRef(): void {\n      if (env === root) return callRef(cxt, validateName, env, env.$async)\n      const rootName = gen.scopeValue(\"root\", {ref: root})\n      return callRef(cxt, _`${rootName}.validate`, root, root.$async)\n    }\n\n    function callValidate(sch: SchemaEnv): void {\n      const v = getValidate(cxt, sch)\n      callRef(cxt, v, sch, sch.$async)\n    }\n\n    function inlineRefSchema(sch: AnySchema): void {\n      const schName = gen.scopeValue(\n        \"schema\",\n        opts.code.source === true ? {ref: sch, code: stringify(sch)} : {ref: sch}\n      )\n      const valid = gen.name(\"valid\")\n      const schCxt = cxt.subschema(\n        {\n          schema: sch,\n          dataTypes: [],\n          schemaPath: nil,\n          topSchemaRef: schName,\n          errSchemaPath: $ref,\n        },\n        valid\n      )\n      cxt.mergeEvaluated(schCxt)\n      cxt.ok(valid)\n    }\n  },\n}\n\nexport function getValidate(cxt: KeywordCxt, sch: SchemaEnv): Code {\n  const {gen} = cxt\n  return sch.validate\n    ? gen.scopeValue(\"validate\", {ref: sch.validate})\n    : _`${gen.scopeValue(\"wrapper\", {ref: sch})}.validate`\n}\n\nexport function callRef(cxt: KeywordCxt, v: Code, sch?: SchemaEnv, $async?: boolean): void {\n  const {gen, it} = cxt\n  const {allErrors, schemaEnv: env, opts} = it\n  const passCxt = opts.passContext ? N.this : nil\n  if ($async) callAsyncRef()\n  else callSyncRef()\n\n  function callAsyncRef(): void {\n    if (!env.$async) throw new Error(\"async schema referenced by sync schema\")\n    const valid = gen.let(\"valid\")\n    gen.try(\n      () => {\n        gen.code(_`await ${callValidateCode(cxt, v, passCxt)}`)\n        addEvaluatedFrom(v) // TODO will not work with async, it has to be returned with the result\n        if (!allErrors) gen.assign(valid, true)\n      },\n      (e) => {\n        gen.if(_`!(${e} instanceof ${it.ValidationError as Name})`, () => gen.throw(e))\n        addErrorsFrom(e)\n        if (!allErrors) gen.assign(valid, false)\n      }\n    )\n    cxt.ok(valid)\n  }\n\n  function callSyncRef(): void {\n    cxt.result(\n      callValidateCode(cxt, v, passCxt),\n      () => addEvaluatedFrom(v),\n      () => addErrorsFrom(v)\n    )\n  }\n\n  function addErrorsFrom(source: Code): void {\n    const errs = _`${source}.errors`\n    gen.assign(N.vErrors, _`${N.vErrors} === null ? ${errs} : ${N.vErrors}.concat(${errs})`) // TODO tagged\n    gen.assign(N.errors, _`${N.vErrors}.length`)\n  }\n\n  function addEvaluatedFrom(source: Code): void {\n    if (!it.opts.unevaluated) return\n    const schEvaluated = sch?.validate?.evaluated\n    // TODO refactor\n    if (it.props !== true) {\n      if (schEvaluated && !schEvaluated.dynamicProps) {\n        if (schEvaluated.props !== undefined) {\n          it.props = mergeEvaluated.props(gen, schEvaluated.props, it.props)\n        }\n      } else {\n        const props = gen.var(\"props\", _`${source}.evaluated.props`)\n        it.props = mergeEvaluated.props(gen, props, it.props, Name)\n      }\n    }\n    if (it.items !== true) {\n      if (schEvaluated && !schEvaluated.dynamicItems) {\n        if (schEvaluated.items !== undefined) {\n          it.items = mergeEvaluated.items(gen, schEvaluated.items, it.items)\n        }\n      } else {\n        const items = gen.var(\"items\", _`${source}.evaluated.items`)\n        it.items = mergeEvaluated.items(gen, items, it.items, Name)\n      }\n    }\n  }\n}\n\nexport default def\n","import type {ErrorObject, Vocabulary} from \"../../types\"\nimport limitNumber, {LimitNumberError} from \"./limitNumber\"\nimport multipleOf, {MultipleOfError} from \"./multipleOf\"\nimport limitLength from \"./limitLength\"\nimport pattern, {PatternError} from \"./pattern\"\nimport limitProperties from \"./limitProperties\"\nimport required, {RequiredError} from \"./required\"\nimport limitItems from \"./limitItems\"\nimport uniqueItems, {UniqueItemsError} from \"./uniqueItems\"\nimport constKeyword, {ConstError} from \"./const\"\nimport enumKeyword, {EnumError} from \"./enum\"\n\nconst validation: Vocabulary = [\n  // number\n  limitNumber,\n  multipleOf,\n  // string\n  limitLength,\n  pattern,\n  // object\n  limitProperties,\n  required,\n  // array\n  limitItems,\n  uniqueItems,\n  // any\n  {keyword: \"type\", schemaType: [\"string\", \"array\"]},\n  {keyword: \"nullable\", schemaType: \"boolean\"},\n  constKeyword,\n  enumKeyword,\n]\n\nexport default validation\n\ntype LimitError = ErrorObject<\n  \"maxItems\" | \"minItems\" | \"minProperties\" | \"maxProperties\" | \"minLength\" | \"maxLength\",\n  {limit: number},\n  number | {$data: string}\n>\n\nexport type ValidationKeywordError =\n  | LimitError\n  | LimitNumberError\n  | MultipleOfError\n  | PatternError\n  | RequiredError\n  | UniqueItemsError\n  | ConstError\n  | EnumError\n","import type {CodeKeywordDefinition, ErrorObject, KeywordErrorDefinition} from \"../../types\"\nimport type {KeywordCxt} from \"../../compile/validate\"\nimport {_, str, operators, Code} from \"../../compile/codegen\"\n\nconst ops = operators\n\ntype Kwd = \"maximum\" | \"minimum\" | \"exclusiveMaximum\" | \"exclusiveMinimum\"\n\ntype Comparison = \"<=\" | \">=\" | \"<\" | \">\"\n\nconst KWDs: {[K in Kwd]: {okStr: Comparison; ok: Code; fail: Code}} = {\n  maximum: {okStr: \"<=\", ok: ops.LTE, fail: ops.GT},\n  minimum: {okStr: \">=\", ok: ops.GTE, fail: ops.LT},\n  exclusiveMaximum: {okStr: \"<\", ok: ops.LT, fail: ops.GTE},\n  exclusiveMinimum: {okStr: \">\", ok: ops.GT, fail: ops.LTE},\n}\n\nexport type LimitNumberError = ErrorObject<\n  Kwd,\n  {limit: number; comparison: Comparison},\n  number | {$data: string}\n>\n\nconst error: KeywordErrorDefinition = {\n  message: ({keyword, schemaCode}) => str`must be ${KWDs[keyword as Kwd].okStr} ${schemaCode}`,\n  params: ({keyword, schemaCode}) =>\n    _`{comparison: ${KWDs[keyword as Kwd].okStr}, limit: ${schemaCode}}`,\n}\n\nconst def: CodeKeywordDefinition = {\n  keyword: Object.keys(KWDs),\n  type: \"number\",\n  schemaType: \"number\",\n  $data: true,\n  error,\n  code(cxt: KeywordCxt) {\n    const {keyword, data, schemaCode} = cxt\n    cxt.fail$data(_`${data} ${KWDs[keyword as Kwd].fail} ${schemaCode} || isNaN(${data})`)\n  },\n}\n\nexport default def\n","import type {CodeKeywordDefinition, ErrorObject, KeywordErrorDefinition} from \"../../types\"\nimport type {KeywordCxt} from \"../../compile/validate\"\nimport {_, str} from \"../../compile/codegen\"\n\nexport type MultipleOfError = ErrorObject<\n  \"multipleOf\",\n  {multipleOf: number},\n  number | {$data: string}\n>\n\nconst error: KeywordErrorDefinition = {\n  message: ({schemaCode}) => str`must be multiple of ${schemaCode}`,\n  params: ({schemaCode}) => _`{multipleOf: ${schemaCode}}`,\n}\n\nconst def: CodeKeywordDefinition = {\n  keyword: \"multipleOf\",\n  type: \"number\",\n  schemaType: \"number\",\n  $data: true,\n  error,\n  code(cxt: KeywordCxt) {\n    const {gen, data, schemaCode, it} = cxt\n    // const bdt = bad$DataType(schemaCode, <string>def.schemaType, $data)\n    const prec = it.opts.multipleOfPrecision\n    const res = gen.let(\"res\")\n    const invalid = prec\n      ? _`Math.abs(Math.round(${res}) - ${res}) > 1e-${prec}`\n      : _`${res} !== parseInt(${res})`\n    cxt.fail$data(_`(${schemaCode} === 0 || (${res} = ${data}/${schemaCode}, ${invalid}))`)\n  },\n}\n\nexport default def\n","import type {CodeKeywordDefinition, KeywordErrorDefinition} from \"../../types\"\nimport type {KeywordCxt} from \"../../compile/validate\"\nimport {_, str, operators} from \"../../compile/codegen\"\nimport {useFunc} from \"../../compile/util\"\nimport ucs2length from \"../../runtime/ucs2length\"\n\nconst error: KeywordErrorDefinition = {\n  message({keyword, schemaCode}) {\n    const comp = keyword === \"maxLength\" ? \"more\" : \"fewer\"\n    return str`must NOT have ${comp} than ${schemaCode} characters`\n  },\n  params: ({schemaCode}) => _`{limit: ${schemaCode}}`,\n}\n\nconst def: CodeKeywordDefinition = {\n  keyword: [\"maxLength\", \"minLength\"],\n  type: \"string\",\n  schemaType: \"number\",\n  $data: true,\n  error,\n  code(cxt: KeywordCxt) {\n    const {keyword, data, schemaCode, it} = cxt\n    const op = keyword === \"maxLength\" ? operators.GT : operators.LT\n    const len =\n      it.opts.unicode === false ? _`${data}.length` : _`${useFunc(cxt.gen, ucs2length)}(${data})`\n    cxt.fail$data(_`${len} ${op} ${schemaCode}`)\n  },\n}\n\nexport default def\n","// https://mathiasbynens.be/notes/javascript-encoding\n// https://github.com/bestiejs/punycode.js - punycode.ucs2.decode\nexport default function ucs2length(str: string): number {\n  const len = str.length\n  let length = 0\n  let pos = 0\n  let value: number\n  while (pos < len) {\n    length++\n    value = str.charCodeAt(pos++)\n    if (value >= 0xd800 && value <= 0xdbff && pos < len) {\n      // high surrogate, and there is a next character\n      value = str.charCodeAt(pos)\n      if ((value & 0xfc00) === 0xdc00) pos++ // low surrogate\n    }\n  }\n  return length\n}\n\nucs2length.code = 'require(\"ajv/dist/runtime/ucs2length\").default'\n","import type {CodeKeywordDefinition, ErrorObject, KeywordErrorDefinition} from \"../../types\"\nimport type {KeywordCxt} from \"../../compile/validate\"\nimport {usePattern} from \"../code\"\nimport {_, str} from \"../../compile/codegen\"\n\nexport type PatternError = ErrorObject<\"pattern\", {pattern: string}, string | {$data: string}>\n\nconst error: KeywordErrorDefinition = {\n  message: ({schemaCode}) => str`must match pattern \"${schemaCode}\"`,\n  params: ({schemaCode}) => _`{pattern: ${schemaCode}}`,\n}\n\nconst def: CodeKeywordDefinition = {\n  keyword: \"pattern\",\n  type: \"string\",\n  schemaType: \"string\",\n  $data: true,\n  error,\n  code(cxt: KeywordCxt) {\n    const {data, $data, schema, schemaCode, it} = cxt\n    // TODO regexp should be wrapped in try/catchs\n    const u = it.opts.unicodeRegExp ? \"u\" : \"\"\n    const regExp = $data ? _`(new RegExp(${schemaCode}, ${u}))` : usePattern(cxt, schema)\n    cxt.fail$data(_`!${regExp}.test(${data})`)\n  },\n}\n\nexport default def\n","import type {CodeKeywordDefinition, KeywordErrorDefinition} from \"../../types\"\nimport type {KeywordCxt} from \"../../compile/validate\"\nimport {_, str, operators} from \"../../compile/codegen\"\n\nconst error: KeywordErrorDefinition = {\n  message({keyword, schemaCode}) {\n    const comp = keyword === \"maxProperties\" ? \"more\" : \"fewer\"\n    return str`must NOT have ${comp} than ${schemaCode} properties`\n  },\n  params: ({schemaCode}) => _`{limit: ${schemaCode}}`,\n}\n\nconst def: CodeKeywordDefinition = {\n  keyword: [\"maxProperties\", \"minProperties\"],\n  type: \"object\",\n  schemaType: \"number\",\n  $data: true,\n  error,\n  code(cxt: KeywordCxt) {\n    const {keyword, data, schemaCode} = cxt\n    const op = keyword === \"maxProperties\" ? operators.GT : operators.LT\n    cxt.fail$data(_`Object.keys(${data}).length ${op} ${schemaCode}`)\n  },\n}\n\nexport default def\n","import type {CodeKeywordDefinition, ErrorObject, KeywordErrorDefinition} from \"../../types\"\nimport type {KeywordCxt} from \"../../compile/validate\"\nimport {\n  checkReportMissingProp,\n  checkMissingProp,\n  reportMissingProp,\n  propertyInData,\n  noPropertyInData,\n} from \"../code\"\nimport {_, str, nil, not, Name, Code} from \"../../compile/codegen\"\nimport {checkStrictMode} from \"../../compile/util\"\n\nexport type RequiredError = ErrorObject<\n  \"required\",\n  {missingProperty: string},\n  string[] | {$data: string}\n>\n\nconst error: KeywordErrorDefinition = {\n  message: ({params: {missingProperty}}) => str`must have required property '${missingProperty}'`,\n  params: ({params: {missingProperty}}) => _`{missingProperty: ${missingProperty}}`,\n}\n\nconst def: CodeKeywordDefinition = {\n  keyword: \"required\",\n  type: \"object\",\n  schemaType: \"array\",\n  $data: true,\n  error,\n  code(cxt: KeywordCxt) {\n    const {gen, schema, schemaCode, data, $data, it} = cxt\n    const {opts} = it\n    if (!$data && schema.length === 0) return\n    const useLoop = schema.length >= opts.loopRequired\n    if (it.allErrors) allErrorsMode()\n    else exitOnErrorMode()\n\n    if (opts.strictRequired) {\n      const props = cxt.parentSchema.properties\n      const {definedProperties} = cxt.it\n      for (const requiredKey of schema) {\n        if (props?.[requiredKey] === undefined && !definedProperties.has(requiredKey)) {\n          const schemaPath = it.schemaEnv.baseId + it.errSchemaPath\n          const msg = `required property \"${requiredKey}\" is not defined at \"${schemaPath}\" (strictRequired)`\n          checkStrictMode(it, msg, it.opts.strictRequired)\n        }\n      }\n    }\n\n    function allErrorsMode(): void {\n      if (useLoop || $data) {\n        cxt.block$data(nil, loopAllRequired)\n      } else {\n        for (const prop of schema) {\n          checkReportMissingProp(cxt, prop)\n        }\n      }\n    }\n\n    function exitOnErrorMode(): void {\n      const missing = gen.let(\"missing\")\n      if (useLoop || $data) {\n        const valid = gen.let(\"valid\", true)\n        cxt.block$data(valid, () => loopUntilMissing(missing, valid))\n        cxt.ok(valid)\n      } else {\n        gen.if(checkMissingProp(cxt, schema, missing))\n        reportMissingProp(cxt, missing)\n        gen.else()\n      }\n    }\n\n    function loopAllRequired(): void {\n      gen.forOf(\"prop\", schemaCode as Code, (prop) => {\n        cxt.setParams({missingProperty: prop})\n        gen.if(noPropertyInData(gen, data, prop, opts.ownProperties), () => cxt.error())\n      })\n    }\n\n    function loopUntilMissing(missing: Name, valid: Name): void {\n      cxt.setParams({missingProperty: missing})\n      gen.forOf(\n        missing,\n        schemaCode as Code,\n        () => {\n          gen.assign(valid, propertyInData(gen, data, missing, opts.ownProperties))\n          gen.if(not(valid), () => {\n            cxt.error()\n            gen.break()\n          })\n        },\n        nil\n      )\n    }\n  },\n}\n\nexport default def\n","import type {CodeKeywordDefinition, KeywordErrorDefinition} from \"../../types\"\nimport type {KeywordCxt} from \"../../compile/validate\"\nimport {_, str, operators} from \"../../compile/codegen\"\n\nconst error: KeywordErrorDefinition = {\n  message({keyword, schemaCode}) {\n    const comp = keyword === \"maxItems\" ? \"more\" : \"fewer\"\n    return str`must NOT have ${comp} than ${schemaCode} items`\n  },\n  params: ({schemaCode}) => _`{limit: ${schemaCode}}`,\n}\n\nconst def: CodeKeywordDefinition = {\n  keyword: [\"maxItems\", \"minItems\"],\n  type: \"array\",\n  schemaType: \"number\",\n  $data: true,\n  error,\n  code(cxt: KeywordCxt) {\n    const {keyword, data, schemaCode} = cxt\n    const op = keyword === \"maxItems\" ? operators.GT : operators.LT\n    cxt.fail$data(_`${data}.length ${op} ${schemaCode}`)\n  },\n}\n\nexport default def\n","import type {CodeKeywordDefinition, ErrorObject, KeywordErrorDefinition} from \"../../types\"\nimport type {KeywordCxt} from \"../../compile/validate\"\nimport {checkDataTypes, getSchemaTypes, DataType} from \"../../compile/validate/dataType\"\nimport {_, str, Name} from \"../../compile/codegen\"\nimport {useFunc} from \"../../compile/util\"\nimport equal from \"../../runtime/equal\"\n\nexport type UniqueItemsError = ErrorObject<\n  \"uniqueItems\",\n  {i: number; j: number},\n  boolean | {$data: string}\n>\n\nconst error: KeywordErrorDefinition = {\n  message: ({params: {i, j}}) =>\n    str`must NOT have duplicate items (items ## ${j} and ${i} are identical)`,\n  params: ({params: {i, j}}) => _`{i: ${i}, j: ${j}}`,\n}\n\nconst def: CodeKeywordDefinition = {\n  keyword: \"uniqueItems\",\n  type: \"array\",\n  schemaType: \"boolean\",\n  $data: true,\n  error,\n  code(cxt: KeywordCxt) {\n    const {gen, data, $data, schema, parentSchema, schemaCode, it} = cxt\n    if (!$data && !schema) return\n    const valid = gen.let(\"valid\")\n    const itemTypes = parentSchema.items ? getSchemaTypes(parentSchema.items) : []\n    cxt.block$data(valid, validateUniqueItems, _`${schemaCode} === false`)\n    cxt.ok(valid)\n\n    function validateUniqueItems(): void {\n      const i = gen.let(\"i\", _`${data}.length`)\n      const j = gen.let(\"j\")\n      cxt.setParams({i, j})\n      gen.assign(valid, true)\n      gen.if(_`${i} > 1`, () => (canOptimize() ? loopN : loopN2)(i, j))\n    }\n\n    function canOptimize(): boolean {\n      return itemTypes.length > 0 && !itemTypes.some((t) => t === \"object\" || t === \"array\")\n    }\n\n    function loopN(i: Name, j: Name): void {\n      const item = gen.name(\"item\")\n      const wrongType = checkDataTypes(itemTypes, item, it.opts.strictNumbers, DataType.Wrong)\n      const indices = gen.const(\"indices\", _`{}`)\n      gen.for(_`;${i}--;`, () => {\n        gen.let(item, _`${data}[${i}]`)\n        gen.if(wrongType, _`continue`)\n        if (itemTypes.length > 1) gen.if(_`typeof ${item} == \"string\"`, _`${item} += \"_\"`)\n        gen\n          .if(_`typeof ${indices}[${item}] == \"number\"`, () => {\n            gen.assign(j, _`${indices}[${item}]`)\n            cxt.error()\n            gen.assign(valid, false).break()\n          })\n          .code(_`${indices}[${item}] = ${i}`)\n      })\n    }\n\n    function loopN2(i: Name, j: Name): void {\n      const eql = useFunc(gen, equal)\n      const outer = gen.name(\"outer\")\n      gen.label(outer).for(_`;${i}--;`, () =>\n        gen.for(_`${j} = ${i}; ${j}--;`, () =>\n          gen.if(_`${eql}(${data}[${i}], ${data}[${j}])`, () => {\n            cxt.error()\n            gen.assign(valid, false).break(outer)\n          })\n        )\n      )\n    }\n  },\n}\n\nexport default def\n","// https://github.com/ajv-validator/ajv/issues/889\nimport * as equal from \"fast-deep-equal\"\n\ntype Equal = typeof equal & {code: string}\n;(equal as Equal).code = 'require(\"ajv/dist/runtime/equal\").default'\n\nexport default equal as Equal\n","import type {CodeKeywordDefinition, ErrorObject, KeywordErrorDefinition} from \"../../types\"\nimport type {KeywordCxt} from \"../../compile/validate\"\nimport {_} from \"../../compile/codegen\"\nimport {useFunc} from \"../../compile/util\"\nimport equal from \"../../runtime/equal\"\n\nexport type ConstError = ErrorObject<\"const\", {allowedValue: any}>\n\nconst error: KeywordErrorDefinition = {\n  message: \"must be equal to constant\",\n  params: ({schemaCode}) => _`{allowedValue: ${schemaCode}}`,\n}\n\nconst def: CodeKeywordDefinition = {\n  keyword: \"const\",\n  $data: true,\n  error,\n  code(cxt: KeywordCxt) {\n    const {gen, data, $data, schemaCode, schema} = cxt\n    if ($data || (schema && typeof schema == \"object\")) {\n      cxt.fail$data(_`!${useFunc(gen, equal)}(${data}, ${schemaCode})`)\n    } else {\n      cxt.fail(_`${schema} !== ${data}`)\n    }\n  },\n}\n\nexport default def\n","import type {CodeKeywordDefinition, ErrorObject, KeywordErrorDefinition} from \"../../types\"\nimport type {KeywordCxt} from \"../../compile/validate\"\nimport {_, or, Name, Code} from \"../../compile/codegen\"\nimport {useFunc} from \"../../compile/util\"\nimport equal from \"../../runtime/equal\"\n\nexport type EnumError = ErrorObject<\"enum\", {allowedValues: any[]}, any[] | {$data: string}>\n\nconst error: KeywordErrorDefinition = {\n  message: \"must be equal to one of the allowed values\",\n  params: ({schemaCode}) => _`{allowedValues: ${schemaCode}}`,\n}\n\nconst def: CodeKeywordDefinition = {\n  keyword: \"enum\",\n  schemaType: \"array\",\n  $data: true,\n  error,\n  code(cxt: KeywordCxt) {\n    const {gen, data, $data, schema, schemaCode, it} = cxt\n    if (!$data && schema.length === 0) throw new Error(\"enum must have non-empty array\")\n    const useLoop = schema.length >= it.opts.loopEnum\n    let eql: Name | undefined\n    const getEql = (): Name => (eql ??= useFunc(gen, equal))\n\n    let valid: Code\n    if (useLoop || $data) {\n      valid = gen.let(\"valid\")\n      cxt.block$data(valid, loopEnum)\n    } else {\n      /* istanbul ignore if */\n      if (!Array.isArray(schema)) throw new Error(\"ajv implementation error\")\n      const vSchema = gen.const(\"vSchema\", schemaCode)\n      valid = or(...schema.map((_x: unknown, i: number) => equalCode(vSchema, i)))\n    }\n    cxt.pass(valid)\n\n    function loopEnum(): void {\n      gen.assign(valid, false)\n      gen.forOf(\"v\", schemaCode as Code, (v) =>\n        gen.if(_`${getEql()}(${data}, ${v})`, () => gen.assign(valid, true).break())\n      )\n    }\n\n    function equalCode(vSchema: Name, i: number): Code {\n      const sch = schema[i]\n      return typeof sch === \"object\" && sch !== null\n        ? _`${getEql()}(${data}, ${vSchema}[${i}])`\n        : _`${data} === ${sch}`\n    }\n  },\n}\n\nexport default def\n","import type {ErrorNoParams, Vocabulary} from \"../../types\"\nimport additionalItems, {AdditionalItemsError} from \"./additionalItems\"\nimport prefixItems from \"./prefixItems\"\nimport items from \"./items\"\nimport items2020, {ItemsError} from \"./items2020\"\nimport contains, {ContainsError} from \"./contains\"\nimport dependencies, {DependenciesError} from \"./dependencies\"\nimport propertyNames, {PropertyNamesError} from \"./propertyNames\"\nimport additionalProperties, {AdditionalPropertiesError} from \"./additionalProperties\"\nimport properties from \"./properties\"\nimport patternProperties from \"./patternProperties\"\nimport notKeyword, {NotKeywordError} from \"./not\"\nimport anyOf, {AnyOfError} from \"./anyOf\"\nimport oneOf, {OneOfError} from \"./oneOf\"\nimport allOf from \"./allOf\"\nimport ifKeyword, {IfKeywordError} from \"./if\"\nimport thenElse from \"./thenElse\"\n\nexport default function getApplicator(draft2020 = false): Vocabulary {\n  const applicator = [\n    // any\n    notKeyword,\n    anyOf,\n    oneOf,\n    allOf,\n    ifKeyword,\n    thenElse,\n    // object\n    propertyNames,\n    additionalProperties,\n    dependencies,\n    properties,\n    patternProperties,\n  ]\n  // array\n  if (draft2020) applicator.push(prefixItems, items2020)\n  else applicator.push(additionalItems, items)\n  applicator.push(contains)\n  return applicator\n}\n\nexport type ApplicatorKeywordError =\n  | ErrorNoParams<\"false schema\">\n  | AdditionalItemsError\n  | ItemsError\n  | ContainsError\n  | AdditionalPropertiesError\n  | DependenciesError\n  | IfKeywordError\n  | AnyOfError\n  | OneOfError\n  | NotKeywordError\n  | PropertyNamesError\n","import type {\n  CodeKeywordDefinition,\n  ErrorObject,\n  KeywordErrorDefinition,\n  AnySchema,\n} from \"../../types\"\nimport type {KeywordCxt} from \"../../compile/validate\"\nimport {_, str, not, Name} from \"../../compile/codegen\"\nimport {alwaysValidSchema, checkStrictMode, Type} from \"../../compile/util\"\n\nexport type AdditionalItemsError = ErrorObject<\"additionalItems\", {limit: number}, AnySchema>\n\nconst error: KeywordErrorDefinition = {\n  message: ({params: {len}}) => str`must NOT have more than ${len} items`,\n  params: ({params: {len}}) => _`{limit: ${len}}`,\n}\n\nconst def: CodeKeywordDefinition = {\n  keyword: \"additionalItems\" as const,\n  type: \"array\",\n  schemaType: [\"boolean\", \"object\"],\n  before: \"uniqueItems\",\n  error,\n  code(cxt: KeywordCxt) {\n    const {parentSchema, it} = cxt\n    const {items} = parentSchema\n    if (!Array.isArray(items)) {\n      checkStrictMode(it, '\"additionalItems\" is ignored when \"items\" is not an array of schemas')\n      return\n    }\n    validateAdditionalItems(cxt, items)\n  },\n}\n\nexport function validateAdditionalItems(cxt: KeywordCxt, items: AnySchema[]): void {\n  const {gen, schema, data, keyword, it} = cxt\n  it.items = true\n  const len = gen.const(\"len\", _`${data}.length`)\n  if (schema === false) {\n    cxt.setParams({len: items.length})\n    cxt.pass(_`${len} <= ${items.length}`)\n  } else if (typeof schema == \"object\" && !alwaysValidSchema(it, schema)) {\n    const valid = gen.var(\"valid\", _`${len} <= ${items.length}`) // TODO var\n    gen.if(not(valid), () => validateItems(valid))\n    cxt.ok(valid)\n  }\n\n  function validateItems(valid: Name): void {\n    gen.forRange(\"i\", items.length, len, (i) => {\n      cxt.subschema({keyword, dataProp: i, dataPropType: Type.Num}, valid)\n      if (!it.allErrors) gen.if(not(valid), () => gen.break())\n    })\n  }\n}\n\nexport default def\n","import type {CodeKeywordDefinition} from \"../../types\"\nimport {validateTuple} from \"./items\"\n\nconst def: CodeKeywordDefinition = {\n  keyword: \"prefixItems\",\n  type: \"array\",\n  schemaType: [\"array\"],\n  before: \"uniqueItems\",\n  code: (cxt) => validateTuple(cxt, \"items\"),\n}\n\nexport default def\n","import type {CodeKeywordDefinition, AnySchema, AnySchemaObject} from \"../../types\"\nimport type {KeywordCxt} from \"../../compile/validate\"\nimport {_} from \"../../compile/codegen\"\nimport {alwaysValidSchema, mergeEvaluated, checkStrictMode} from \"../../compile/util\"\nimport {validateArray} from \"../code\"\n\nconst def: CodeKeywordDefinition = {\n  keyword: \"items\",\n  type: \"array\",\n  schemaType: [\"object\", \"array\", \"boolean\"],\n  before: \"uniqueItems\",\n  code(cxt: KeywordCxt) {\n    const {schema, it} = cxt\n    if (Array.isArray(schema)) return validateTuple(cxt, \"additionalItems\", schema)\n    it.items = true\n    if (alwaysValidSchema(it, schema)) return\n    cxt.ok(validateArray(cxt))\n  },\n}\n\nexport function validateTuple(\n  cxt: KeywordCxt,\n  extraItems: string,\n  schArr: AnySchema[] = cxt.schema\n): void {\n  const {gen, parentSchema, data, keyword, it} = cxt\n  checkStrictTuple(parentSchema)\n  if (it.opts.unevaluated && schArr.length && it.items !== true) {\n    it.items = mergeEvaluated.items(gen, schArr.length, it.items)\n  }\n  const valid = gen.name(\"valid\")\n  const len = gen.const(\"len\", _`${data}.length`)\n  schArr.forEach((sch: AnySchema, i: number) => {\n    if (alwaysValidSchema(it, sch)) return\n    gen.if(_`${len} > ${i}`, () =>\n      cxt.subschema(\n        {\n          keyword,\n          schemaProp: i,\n          dataProp: i,\n        },\n        valid\n      )\n    )\n    cxt.ok(valid)\n  })\n\n  function checkStrictTuple(sch: AnySchemaObject): void {\n    const {opts, errSchemaPath} = it\n    const l = schArr.length\n    const fullTuple = l === sch.minItems && (l === sch.maxItems || sch[extraItems] === false)\n    if (opts.strictTuples && !fullTuple) {\n      const msg = `\"${keyword}\" is ${l}-tuple, but minItems or maxItems/${extraItems} are not specified or different at path \"${errSchemaPath}\"`\n      checkStrictMode(it, msg, opts.strictTuples)\n    }\n  }\n}\n\nexport default def\n","import type {\n  CodeKeywordDefinition,\n  KeywordErrorDefinition,\n  ErrorObject,\n  AnySchema,\n} from \"../../types\"\nimport type {KeywordCxt} from \"../../compile/validate\"\nimport {_, str} from \"../../compile/codegen\"\nimport {alwaysValidSchema} from \"../../compile/util\"\nimport {validateArray} from \"../code\"\nimport {validateAdditionalItems} from \"./additionalItems\"\n\nexport type ItemsError = ErrorObject<\"items\", {limit: number}, AnySchema>\n\nconst error: KeywordErrorDefinition = {\n  message: ({params: {len}}) => str`must NOT have more than ${len} items`,\n  params: ({params: {len}}) => _`{limit: ${len}}`,\n}\n\nconst def: CodeKeywordDefinition = {\n  keyword: \"items\",\n  type: \"array\",\n  schemaType: [\"object\", \"boolean\"],\n  before: \"uniqueItems\",\n  error,\n  code(cxt: KeywordCxt) {\n    const {schema, parentSchema, it} = cxt\n    const {prefixItems} = parentSchema\n    it.items = true\n    if (alwaysValidSchema(it, schema)) return\n    if (prefixItems) validateAdditionalItems(cxt, prefixItems)\n    else cxt.ok(validateArray(cxt))\n  },\n}\n\nexport default def\n","import type {\n  CodeKeywordDefinition,\n  KeywordErrorDefinition,\n  ErrorObject,\n  AnySchema,\n} from \"../../types\"\nimport type {KeywordCxt} from \"../../compile/validate\"\nimport {_, str, Name} from \"../../compile/codegen\"\nimport {alwaysValidSchema, checkStrictMode, Type} from \"../../compile/util\"\n\nexport type ContainsError = ErrorObject<\n  \"contains\",\n  {minContains: number; maxContains?: number},\n  AnySchema\n>\n\nconst error: KeywordErrorDefinition = {\n  message: ({params: {min, max}}) =>\n    max === undefined\n      ? str`must contain at least ${min} valid item(s)`\n      : str`must contain at least ${min} and no more than ${max} valid item(s)`,\n  params: ({params: {min, max}}) =>\n    max === undefined ? _`{minContains: ${min}}` : _`{minContains: ${min}, maxContains: ${max}}`,\n}\n\nconst def: CodeKeywordDefinition = {\n  keyword: \"contains\",\n  type: \"array\",\n  schemaType: [\"object\", \"boolean\"],\n  before: \"uniqueItems\",\n  trackErrors: true,\n  error,\n  code(cxt: KeywordCxt) {\n    const {gen, schema, parentSchema, data, it} = cxt\n    let min: number\n    let max: number | undefined\n    const {minContains, maxContains} = parentSchema\n    if (it.opts.next) {\n      min = minContains === undefined ? 1 : minContains\n      max = maxContains\n    } else {\n      min = 1\n    }\n    const len = gen.const(\"len\", _`${data}.length`)\n    cxt.setParams({min, max})\n    if (max === undefined && min === 0) {\n      checkStrictMode(it, `\"minContains\" == 0 without \"maxContains\": \"contains\" keyword ignored`)\n      return\n    }\n    if (max !== undefined && min > max) {\n      checkStrictMode(it, `\"minContains\" > \"maxContains\" is always invalid`)\n      cxt.fail()\n      return\n    }\n    if (alwaysValidSchema(it, schema)) {\n      let cond = _`${len} >= ${min}`\n      if (max !== undefined) cond = _`${cond} && ${len} <= ${max}`\n      cxt.pass(cond)\n      return\n    }\n\n    it.items = true\n    const valid = gen.name(\"valid\")\n    if (max === undefined && min === 1) {\n      validateItems(valid, () => gen.if(valid, () => gen.break()))\n    } else if (min === 0) {\n      gen.let(valid, true)\n      if (max !== undefined) gen.if(_`${data}.length > 0`, validateItemsWithCount)\n    } else {\n      gen.let(valid, false)\n      validateItemsWithCount()\n    }\n    cxt.result(valid, () => cxt.reset())\n\n    function validateItemsWithCount(): void {\n      const schValid = gen.name(\"_valid\")\n      const count = gen.let(\"count\", 0)\n      validateItems(schValid, () => gen.if(schValid, () => checkLimits(count)))\n    }\n\n    function validateItems(_valid: Name, block: () => void): void {\n      gen.forRange(\"i\", 0, len, (i) => {\n        cxt.subschema(\n          {\n            keyword: \"contains\",\n            dataProp: i,\n            dataPropType: Type.Num,\n            compositeRule: true,\n          },\n          _valid\n        )\n        block()\n      })\n    }\n\n    function checkLimits(count: Name): void {\n      gen.code(_`${count}++`)\n      if (max === undefined) {\n        gen.if(_`${count} >= ${min}`, () => gen.assign(valid, true).break())\n      } else {\n        gen.if(_`${count} > ${max}`, () => gen.assign(valid, false).break())\n        if (min === 1) gen.assign(valid, true)\n        else gen.if(_`${count} >= ${min}`, () => gen.assign(valid, true))\n      }\n    }\n  },\n}\n\nexport default def\n","import type {\n  CodeKeywordDefinition,\n  ErrorObject,\n  KeywordErrorDefinition,\n  SchemaMap,\n  AnySchema,\n} from \"../../types\"\nimport type {KeywordCxt} from \"../../compile/validate\"\nimport {_, str} from \"../../compile/codegen\"\nimport {alwaysValidSchema} from \"../../compile/util\"\nimport {checkReportMissingProp, checkMissingProp, reportMissingProp, propertyInData} from \"../code\"\n\nexport type PropertyDependencies = {[K in string]?: string[]}\n\nexport interface DependenciesErrorParams {\n  property: string\n  missingProperty: string\n  depsCount: number\n  deps: string // TODO change to string[]\n}\n\ntype SchemaDependencies = SchemaMap\n\nexport type DependenciesError = ErrorObject<\n  \"dependencies\",\n  DependenciesErrorParams,\n  {[K in string]?: string[] | AnySchema}\n>\n\nexport const error: KeywordErrorDefinition = {\n  message: ({params: {property, depsCount, deps}}) => {\n    const property_ies = depsCount === 1 ? \"property\" : \"properties\"\n    return str`must have ${property_ies} ${deps} when property ${property} is present`\n  },\n  params: ({params: {property, depsCount, deps, missingProperty}}) =>\n    _`{property: ${property},\n    missingProperty: ${missingProperty},\n    depsCount: ${depsCount},\n    deps: ${deps}}`, // TODO change to reference\n}\n\nconst def: CodeKeywordDefinition = {\n  keyword: \"dependencies\",\n  type: \"object\",\n  schemaType: \"object\",\n  error,\n  code(cxt: KeywordCxt) {\n    const [propDeps, schDeps] = splitDependencies(cxt)\n    validatePropertyDeps(cxt, propDeps)\n    validateSchemaDeps(cxt, schDeps)\n  },\n}\n\nfunction splitDependencies({schema}: KeywordCxt): [PropertyDependencies, SchemaDependencies] {\n  const propertyDeps: PropertyDependencies = {}\n  const schemaDeps: SchemaDependencies = {}\n  for (const key in schema) {\n    if (key === \"__proto__\") continue\n    const deps = Array.isArray(schema[key]) ? propertyDeps : schemaDeps\n    deps[key] = schema[key]\n  }\n  return [propertyDeps, schemaDeps]\n}\n\nexport function validatePropertyDeps(\n  cxt: KeywordCxt,\n  propertyDeps: {[K in string]?: string[]} = cxt.schema\n): void {\n  const {gen, data, it} = cxt\n  if (Object.keys(propertyDeps).length === 0) return\n  const missing = gen.let(\"missing\")\n  for (const prop in propertyDeps) {\n    const deps = propertyDeps[prop] as string[]\n    if (deps.length === 0) continue\n    const hasProperty = propertyInData(gen, data, prop, it.opts.ownProperties)\n    cxt.setParams({\n      property: prop,\n      depsCount: deps.length,\n      deps: deps.join(\", \"),\n    })\n    if (it.allErrors) {\n      gen.if(hasProperty, () => {\n        for (const depProp of deps) {\n          checkReportMissingProp(cxt, depProp)\n        }\n      })\n    } else {\n      gen.if(_`${hasProperty} && (${checkMissingProp(cxt, deps, missing)})`)\n      reportMissingProp(cxt, missing)\n      gen.else()\n    }\n  }\n}\n\nexport function validateSchemaDeps(cxt: KeywordCxt, schemaDeps: SchemaMap = cxt.schema): void {\n  const {gen, data, keyword, it} = cxt\n  const valid = gen.name(\"valid\")\n  for (const prop in schemaDeps) {\n    if (alwaysValidSchema(it, schemaDeps[prop] as AnySchema)) continue\n    gen.if(\n      propertyInData(gen, data, prop, it.opts.ownProperties),\n      () => {\n        const schCxt = cxt.subschema({keyword, schemaProp: prop}, valid)\n        cxt.mergeValidEvaluated(schCxt, valid)\n      },\n      () => gen.var(valid, true) // TODO var\n    )\n    cxt.ok(valid)\n  }\n}\n\nexport default def\n","import type {\n  CodeKeywordDefinition,\n  ErrorObject,\n  KeywordErrorDefinition,\n  AnySchema,\n} from \"../../types\"\nimport type {KeywordCxt} from \"../../compile/validate\"\nimport {_, not} from \"../../compile/codegen\"\nimport {alwaysValidSchema} from \"../../compile/util\"\n\nexport type PropertyNamesError = ErrorObject<\"propertyNames\", {propertyName: string}, AnySchema>\n\nconst error: KeywordErrorDefinition = {\n  message: \"property name must be valid\",\n  params: ({params}) => _`{propertyName: ${params.propertyName}}`,\n}\n\nconst def: CodeKeywordDefinition = {\n  keyword: \"propertyNames\",\n  type: \"object\",\n  schemaType: [\"object\", \"boolean\"],\n  error,\n  code(cxt: KeywordCxt) {\n    const {gen, schema, data, it} = cxt\n    if (alwaysValidSchema(it, schema)) return\n    const valid = gen.name(\"valid\")\n\n    gen.forIn(\"key\", data, (key) => {\n      cxt.setParams({propertyName: key})\n      cxt.subschema(\n        {\n          keyword: \"propertyNames\",\n          data: key,\n          dataTypes: [\"string\"],\n          propertyName: key,\n          compositeRule: true,\n        },\n        valid\n      )\n      gen.if(not(valid), () => {\n        cxt.error(true)\n        if (!it.allErrors) gen.break()\n      })\n    })\n\n    cxt.ok(valid)\n  },\n}\n\nexport default def\n","import type {\n  CodeKeywordDefinition,\n  AddedKeywordDefinition,\n  ErrorObject,\n  KeywordErrorDefinition,\n  AnySchema,\n} from \"../../types\"\nimport {allSchemaProperties, usePattern, isOwnProperty} from \"../code\"\nimport {_, nil, or, not, Code, Name} from \"../../compile/codegen\"\nimport N from \"../../compile/names\"\nimport type {SubschemaArgs} from \"../../compile/validate/subschema\"\nimport {alwaysValidSchema, schemaRefOrVal, Type} from \"../../compile/util\"\n\nexport type AdditionalPropertiesError = ErrorObject<\n  \"additionalProperties\",\n  {additionalProperty: string},\n  AnySchema\n>\n\nconst error: KeywordErrorDefinition = {\n  message: \"must NOT have additional properties\",\n  params: ({params}) => _`{additionalProperty: ${params.additionalProperty}}`,\n}\n\nconst def: CodeKeywordDefinition & AddedKeywordDefinition = {\n  keyword: \"additionalProperties\",\n  type: [\"object\"],\n  schemaType: [\"boolean\", \"object\"],\n  allowUndefined: true,\n  trackErrors: true,\n  error,\n  code(cxt) {\n    const {gen, schema, parentSchema, data, errsCount, it} = cxt\n    /* istanbul ignore if */\n    if (!errsCount) throw new Error(\"ajv implementation error\")\n    const {allErrors, opts} = it\n    it.props = true\n    if (opts.removeAdditional !== \"all\" && alwaysValidSchema(it, schema)) return\n    const props = allSchemaProperties(parentSchema.properties)\n    const patProps = allSchemaProperties(parentSchema.patternProperties)\n    checkAdditionalProperties()\n    cxt.ok(_`${errsCount} === ${N.errors}`)\n\n    function checkAdditionalProperties(): void {\n      gen.forIn(\"key\", data, (key: Name) => {\n        if (!props.length && !patProps.length) additionalPropertyCode(key)\n        else gen.if(isAdditional(key), () => additionalPropertyCode(key))\n      })\n    }\n\n    function isAdditional(key: Name): Code {\n      let definedProp: Code\n      if (props.length > 8) {\n        // TODO maybe an option instead of hard-coded 8?\n        const propsSchema = schemaRefOrVal(it, parentSchema.properties, \"properties\")\n        definedProp = isOwnProperty(gen, propsSchema as Code, key)\n      } else if (props.length) {\n        definedProp = or(...props.map((p) => _`${key} === ${p}`))\n      } else {\n        definedProp = nil\n      }\n      if (patProps.length) {\n        definedProp = or(definedProp, ...patProps.map((p) => _`${usePattern(cxt, p)}.test(${key})`))\n      }\n      return not(definedProp)\n    }\n\n    function deleteAdditional(key: Name): void {\n      gen.code(_`delete ${data}[${key}]`)\n    }\n\n    function additionalPropertyCode(key: Name): void {\n      if (opts.removeAdditional === \"all\" || (opts.removeAdditional && schema === false)) {\n        deleteAdditional(key)\n        return\n      }\n\n      if (schema === false) {\n        cxt.setParams({additionalProperty: key})\n        cxt.error()\n        if (!allErrors) gen.break()\n        return\n      }\n\n      if (typeof schema == \"object\" && !alwaysValidSchema(it, schema)) {\n        const valid = gen.name(\"valid\")\n        if (opts.removeAdditional === \"failing\") {\n          applyAdditionalSchema(key, valid, false)\n          gen.if(not(valid), () => {\n            cxt.reset()\n            deleteAdditional(key)\n          })\n        } else {\n          applyAdditionalSchema(key, valid)\n          if (!allErrors) gen.if(not(valid), () => gen.break())\n        }\n      }\n    }\n\n    function applyAdditionalSchema(key: Name, valid: Name, errors?: false): void {\n      const subschema: SubschemaArgs = {\n        keyword: \"additionalProperties\",\n        dataProp: key,\n        dataPropType: Type.Str,\n      }\n      if (errors === false) {\n        Object.assign(subschema, {\n          compositeRule: true,\n          createErrors: false,\n          allErrors: false,\n        })\n      }\n      cxt.subschema(subschema, valid)\n    }\n  },\n}\n\nexport default def\n","import type {CodeKeywordDefinition} from \"../../types\"\nimport {KeywordCxt} from \"../../compile/validate\"\nimport {propertyInData, allSchemaProperties} from \"../code\"\nimport {alwaysValidSchema, toHash, mergeEvaluated} from \"../../compile/util\"\nimport apDef from \"./additionalProperties\"\n\nconst def: CodeKeywordDefinition = {\n  keyword: \"properties\",\n  type: \"object\",\n  schemaType: \"object\",\n  code(cxt: KeywordCxt) {\n    const {gen, schema, parentSchema, data, it} = cxt\n    if (it.opts.removeAdditional === \"all\" && parentSchema.additionalProperties === undefined) {\n      apDef.code(new KeywordCxt(it, apDef, \"additionalProperties\"))\n    }\n    const allProps = allSchemaProperties(schema)\n    for (const prop of allProps) {\n      it.definedProperties.add(prop)\n    }\n    if (it.opts.unevaluated && allProps.length && it.props !== true) {\n      it.props = mergeEvaluated.props(gen, toHash(allProps), it.props)\n    }\n    const properties = allProps.filter((p) => !alwaysValidSchema(it, schema[p]))\n    if (properties.length === 0) return\n    const valid = gen.name(\"valid\")\n\n    for (const prop of properties) {\n      if (hasDefault(prop)) {\n        applyPropertySchema(prop)\n      } else {\n        gen.if(propertyInData(gen, data, prop, it.opts.ownProperties))\n        applyPropertySchema(prop)\n        if (!it.allErrors) gen.else().var(valid, true)\n        gen.endIf()\n      }\n      cxt.it.definedProperties.add(prop)\n      cxt.ok(valid)\n    }\n\n    function hasDefault(prop: string): boolean | undefined {\n      return it.opts.useDefaults && !it.compositeRule && schema[prop].default !== undefined\n    }\n\n    function applyPropertySchema(prop: string): void {\n      cxt.subschema(\n        {\n          keyword: \"properties\",\n          schemaProp: prop,\n          dataProp: prop,\n        },\n        valid\n      )\n    }\n  },\n}\n\nexport default def\n","import type {CodeKeywordDefinition} from \"../../types\"\nimport type {KeywordCxt} from \"../../compile/validate\"\nimport {allSchemaProperties, usePattern} from \"../code\"\nimport {_, not, Name} from \"../../compile/codegen\"\nimport {alwaysValidSchema, checkStrictMode} from \"../../compile/util\"\nimport {evaluatedPropsToName, Type} from \"../../compile/util\"\nimport {AnySchema} from \"../../types\"\n\nconst def: CodeKeywordDefinition = {\n  keyword: \"patternProperties\",\n  type: \"object\",\n  schemaType: \"object\",\n  code(cxt: KeywordCxt) {\n    const {gen, schema, data, parentSchema, it} = cxt\n    const {opts} = it\n    const patterns = allSchemaProperties(schema)\n    const alwaysValidPatterns = patterns.filter((p) =>\n      alwaysValidSchema(it, schema[p] as AnySchema)\n    )\n\n    if (\n      patterns.length === 0 ||\n      (alwaysValidPatterns.length === patterns.length &&\n        (!it.opts.unevaluated || it.props === true))\n    ) {\n      return\n    }\n\n    const checkProperties =\n      opts.strictSchema && !opts.allowMatchingProperties && parentSchema.properties\n    const valid = gen.name(\"valid\")\n    if (it.props !== true && !(it.props instanceof Name)) {\n      it.props = evaluatedPropsToName(gen, it.props)\n    }\n    const {props} = it\n    validatePatternProperties()\n\n    function validatePatternProperties(): void {\n      for (const pat of patterns) {\n        if (checkProperties) checkMatchingProperties(pat)\n        if (it.allErrors) {\n          validateProperties(pat)\n        } else {\n          gen.var(valid, true) // TODO var\n          validateProperties(pat)\n          gen.if(valid)\n        }\n      }\n    }\n\n    function checkMatchingProperties(pat: string): void {\n      for (const prop in checkProperties) {\n        if (new RegExp(pat).test(prop)) {\n          checkStrictMode(\n            it,\n            `property ${prop} matches pattern ${pat} (use allowMatchingProperties)`\n          )\n        }\n      }\n    }\n\n    function validateProperties(pat: string): void {\n      gen.forIn(\"key\", data, (key) => {\n        gen.if(_`${usePattern(cxt, pat)}.test(${key})`, () => {\n          const alwaysValid = alwaysValidPatterns.includes(pat)\n          if (!alwaysValid) {\n            cxt.subschema(\n              {\n                keyword: \"patternProperties\",\n                schemaProp: pat,\n                dataProp: key,\n                dataPropType: Type.Str,\n              },\n              valid\n            )\n          }\n\n          if (it.opts.unevaluated && props !== true) {\n            gen.assign(_`${props}[${key}]`, true)\n          } else if (!alwaysValid && !it.allErrors) {\n            // can short-circuit if `unevaluatedProperties` is not supported (opts.next === false)\n            // or if all properties were evaluated (props === true)\n            gen.if(not(valid), () => gen.break())\n          }\n        })\n      })\n    }\n  },\n}\n\nexport default def\n","import type {CodeKeywordDefinition, ErrorNoParams, AnySchema} from \"../../types\"\nimport type {KeywordCxt} from \"../../compile/validate\"\nimport {alwaysValidSchema} from \"../../compile/util\"\n\nexport type NotKeywordError = ErrorNoParams<\"not\", AnySchema>\n\nconst def: CodeKeywordDefinition = {\n  keyword: \"not\",\n  schemaType: [\"object\", \"boolean\"],\n  trackErrors: true,\n  code(cxt: KeywordCxt) {\n    const {gen, schema, it} = cxt\n    if (alwaysValidSchema(it, schema)) {\n      cxt.fail()\n      return\n    }\n\n    const valid = gen.name(\"valid\")\n    cxt.subschema(\n      {\n        keyword: \"not\",\n        compositeRule: true,\n        createErrors: false,\n        allErrors: false,\n      },\n      valid\n    )\n\n    cxt.failResult(\n      valid,\n      () => cxt.reset(),\n      () => cxt.error()\n    )\n  },\n  error: {message: \"must NOT be valid\"},\n}\n\nexport default def\n","import type {CodeKeywordDefinition, ErrorNoParams, AnySchema} from \"../../types\"\nimport {validateUnion} from \"../code\"\n\nexport type AnyOfError = ErrorNoParams<\"anyOf\", AnySchema[]>\n\nconst def: CodeKeywordDefinition = {\n  keyword: \"anyOf\",\n  schemaType: \"array\",\n  trackErrors: true,\n  code: validateUnion,\n  error: {message: \"must match a schema in anyOf\"},\n}\n\nexport default def\n","import type {\n  CodeKeywordDefinition,\n  ErrorObject,\n  KeywordErrorDefinition,\n  AnySchema,\n} from \"../../types\"\nimport type {KeywordCxt} from \"../../compile/validate\"\nimport {_, Name} from \"../../compile/codegen\"\nimport {alwaysValidSchema} from \"../../compile/util\"\nimport {SchemaCxt} from \"../../compile\"\n\nexport type OneOfError = ErrorObject<\n  \"oneOf\",\n  {passingSchemas: [number, number] | null},\n  AnySchema[]\n>\n\nconst error: KeywordErrorDefinition = {\n  message: \"must match exactly one schema in oneOf\",\n  params: ({params}) => _`{passingSchemas: ${params.passing}}`,\n}\n\nconst def: CodeKeywordDefinition = {\n  keyword: \"oneOf\",\n  schemaType: \"array\",\n  trackErrors: true,\n  error,\n  code(cxt: KeywordCxt) {\n    const {gen, schema, parentSchema, it} = cxt\n    /* istanbul ignore if */\n    if (!Array.isArray(schema)) throw new Error(\"ajv implementation error\")\n    if (it.opts.discriminator && parentSchema.discriminator) return\n    const schArr: AnySchema[] = schema\n    const valid = gen.let(\"valid\", false)\n    const passing = gen.let(\"passing\", null)\n    const schValid = gen.name(\"_valid\")\n    cxt.setParams({passing})\n    // TODO possibly fail straight away (with warning or exception) if there are two empty always valid schemas\n\n    gen.block(validateOneOf)\n\n    cxt.result(\n      valid,\n      () => cxt.reset(),\n      () => cxt.error(true)\n    )\n\n    function validateOneOf(): void {\n      schArr.forEach((sch: AnySchema, i: number) => {\n        let schCxt: SchemaCxt | undefined\n        if (alwaysValidSchema(it, sch)) {\n          gen.var(schValid, true)\n        } else {\n          schCxt = cxt.subschema(\n            {\n              keyword: \"oneOf\",\n              schemaProp: i,\n              compositeRule: true,\n            },\n            schValid\n          )\n        }\n\n        if (i > 0) {\n          gen\n            .if(_`${schValid} && ${valid}`)\n            .assign(valid, false)\n            .assign(passing, _`[${passing}, ${i}]`)\n            .else()\n        }\n\n        gen.if(schValid, () => {\n          gen.assign(valid, true)\n          gen.assign(passing, i)\n          if (schCxt) cxt.mergeEvaluated(schCxt, Name)\n        })\n      })\n    }\n  },\n}\n\nexport default def\n","import type {CodeKeywordDefinition, AnySchema} from \"../../types\"\nimport type {KeywordCxt} from \"../../compile/validate\"\nimport {alwaysValidSchema} from \"../../compile/util\"\n\nconst def: CodeKeywordDefinition = {\n  keyword: \"allOf\",\n  schemaType: \"array\",\n  code(cxt: KeywordCxt) {\n    const {gen, schema, it} = cxt\n    /* istanbul ignore if */\n    if (!Array.isArray(schema)) throw new Error(\"ajv implementation error\")\n    const valid = gen.name(\"valid\")\n    schema.forEach((sch: AnySchema, i: number) => {\n      if (alwaysValidSchema(it, sch)) return\n      const schCxt = cxt.subschema({keyword: \"allOf\", schemaProp: i}, valid)\n      cxt.ok(valid)\n      cxt.mergeEvaluated(schCxt)\n    })\n  },\n}\n\nexport default def\n","import type {\n  CodeKeywordDefinition,\n  ErrorObject,\n  KeywordErrorDefinition,\n  AnySchema,\n} from \"../../types\"\nimport type {SchemaObjCxt} from \"../../compile\"\nimport type {KeywordCxt} from \"../../compile/validate\"\nimport {_, str, not, Name} from \"../../compile/codegen\"\nimport {alwaysValidSchema, checkStrictMode} from \"../../compile/util\"\n\nexport type IfKeywordError = ErrorObject<\"if\", {failingKeyword: string}, AnySchema>\n\nconst error: KeywordErrorDefinition = {\n  message: ({params}) => str`must match \"${params.ifClause}\" schema`,\n  params: ({params}) => _`{failingKeyword: ${params.ifClause}}`,\n}\n\nconst def: CodeKeywordDefinition = {\n  keyword: \"if\",\n  schemaType: [\"object\", \"boolean\"],\n  trackErrors: true,\n  error,\n  code(cxt: KeywordCxt) {\n    const {gen, parentSchema, it} = cxt\n    if (parentSchema.then === undefined && parentSchema.else === undefined) {\n      checkStrictMode(it, '\"if\" without \"then\" and \"else\" is ignored')\n    }\n    const hasThen = hasSchema(it, \"then\")\n    const hasElse = hasSchema(it, \"else\")\n    if (!hasThen && !hasElse) return\n\n    const valid = gen.let(\"valid\", true)\n    const schValid = gen.name(\"_valid\")\n    validateIf()\n    cxt.reset()\n\n    if (hasThen && hasElse) {\n      const ifClause = gen.let(\"ifClause\")\n      cxt.setParams({ifClause})\n      gen.if(schValid, validateClause(\"then\", ifClause), validateClause(\"else\", ifClause))\n    } else if (hasThen) {\n      gen.if(schValid, validateClause(\"then\"))\n    } else {\n      gen.if(not(schValid), validateClause(\"else\"))\n    }\n\n    cxt.pass(valid, () => cxt.error(true))\n\n    function validateIf(): void {\n      const schCxt = cxt.subschema(\n        {\n          keyword: \"if\",\n          compositeRule: true,\n          createErrors: false,\n          allErrors: false,\n        },\n        schValid\n      )\n      cxt.mergeEvaluated(schCxt)\n    }\n\n    function validateClause(keyword: string, ifClause?: Name): () => void {\n      return () => {\n        const schCxt = cxt.subschema({keyword}, schValid)\n        gen.assign(valid, schValid)\n        cxt.mergeValidEvaluated(schCxt, valid)\n        if (ifClause) gen.assign(ifClause, _`${keyword}`)\n        else cxt.setParams({ifClause: keyword})\n      }\n    }\n  },\n}\n\nfunction hasSchema(it: SchemaObjCxt, keyword: string): boolean {\n  const schema = it.schema[keyword]\n  return schema !== undefined && !alwaysValidSchema(it, schema)\n}\n\nexport default def\n","import type {CodeKeywordDefinition} from \"../../types\"\nimport type {KeywordCxt} from \"../../compile/validate\"\nimport {checkStrictMode} from \"../../compile/util\"\n\nconst def: CodeKeywordDefinition = {\n  keyword: [\"then\", \"else\"],\n  schemaType: [\"object\", \"boolean\"],\n  code({keyword, parentSchema, it}: KeywordCxt) {\n    if (parentSchema.if === undefined) checkStrictMode(it, `\"${keyword}\" without \"if\" is ignored`)\n  },\n}\n\nexport default def\n","import type {Vocabulary} from \"../../types\"\nimport formatKeyword from \"./format\"\n\nconst format: Vocabulary = [formatKeyword]\n\nexport default format\n","import type {\n  AddedFormat,\n  FormatValidator,\n  AsyncFormatValidator,\n  CodeKeywordDefinition,\n  KeywordErrorDefinition,\n  ErrorObject,\n} from \"../../types\"\nimport type {KeywordCxt} from \"../../compile/validate\"\nimport {_, str, nil, or, Code, getProperty, regexpCode} from \"../../compile/codegen\"\n\ntype FormatValidate =\n  | FormatValidator<string>\n  | FormatValidator<number>\n  | AsyncFormatValidator<string>\n  | AsyncFormatValidator<number>\n  | RegExp\n  | string\n  | true\n\nexport type FormatError = ErrorObject<\"format\", {format: string}, string | {$data: string}>\n\nconst error: KeywordErrorDefinition = {\n  message: ({schemaCode}) => str`must match format \"${schemaCode}\"`,\n  params: ({schemaCode}) => _`{format: ${schemaCode}}`,\n}\n\nconst def: CodeKeywordDefinition = {\n  keyword: \"format\",\n  type: [\"number\", \"string\"],\n  schemaType: \"string\",\n  $data: true,\n  error,\n  code(cxt: KeywordCxt, ruleType?: string) {\n    const {gen, data, $data, schema, schemaCode, it} = cxt\n    const {opts, errSchemaPath, schemaEnv, self} = it\n    if (!opts.validateFormats) return\n\n    if ($data) validate$DataFormat()\n    else validateFormat()\n\n    function validate$DataFormat(): void {\n      const fmts = gen.scopeValue(\"formats\", {\n        ref: self.formats,\n        code: opts.code.formats,\n      })\n      const fDef = gen.const(\"fDef\", _`${fmts}[${schemaCode}]`)\n      const fType = gen.let(\"fType\")\n      const format = gen.let(\"format\")\n      // TODO simplify\n      gen.if(\n        _`typeof ${fDef} == \"object\" && !(${fDef} instanceof RegExp)`,\n        () => gen.assign(fType, _`${fDef}.type || \"string\"`).assign(format, _`${fDef}.validate`),\n        () => gen.assign(fType, _`\"string\"`).assign(format, fDef)\n      )\n      cxt.fail$data(or(unknownFmt(), invalidFmt()))\n\n      function unknownFmt(): Code {\n        if (opts.strictSchema === false) return nil\n        return _`${schemaCode} && !${format}`\n      }\n\n      function invalidFmt(): Code {\n        const callFormat = schemaEnv.$async\n          ? _`(${fDef}.async ? await ${format}(${data}) : ${format}(${data}))`\n          : _`${format}(${data})`\n        const validData = _`(typeof ${format} == \"function\" ? ${callFormat} : ${format}.test(${data}))`\n        return _`${format} && ${format} !== true && ${fType} === ${ruleType} && !${validData}`\n      }\n    }\n\n    function validateFormat(): void {\n      const formatDef: AddedFormat | undefined = self.formats[schema]\n      if (!formatDef) {\n        unknownFormat()\n        return\n      }\n      if (formatDef === true) return\n      const [fmtType, format, fmtRef] = getFormat(formatDef)\n      if (fmtType === ruleType) cxt.pass(validCondition())\n\n      function unknownFormat(): void {\n        if (opts.strictSchema === false) {\n          self.logger.warn(unknownMsg())\n          return\n        }\n        throw new Error(unknownMsg())\n\n        function unknownMsg(): string {\n          return `unknown format \"${schema as string}\" ignored in schema at path \"${errSchemaPath}\"`\n        }\n      }\n\n      function getFormat(fmtDef: AddedFormat): [string, FormatValidate, Code] {\n        const code =\n          fmtDef instanceof RegExp\n            ? regexpCode(fmtDef)\n            : opts.code.formats\n            ? _`${opts.code.formats}${getProperty(schema)}`\n            : undefined\n        const fmt = gen.scopeValue(\"formats\", {key: schema, ref: fmtDef, code})\n        if (typeof fmtDef == \"object\" && !(fmtDef instanceof RegExp)) {\n          return [fmtDef.type || \"string\", fmtDef.validate, _`${fmt}.validate`]\n        }\n\n        return [\"string\", fmtDef, fmt]\n      }\n\n      function validCondition(): Code {\n        if (typeof formatDef == \"object\" && !(formatDef instanceof RegExp) && formatDef.async) {\n          if (!schemaEnv.$async) throw new Error(\"async format in sync schema\")\n          return _`await ${fmtRef}(${data})`\n        }\n        return typeof format == \"function\" ? _`${fmtRef}(${data})` : _`${fmtRef}.test(${data})`\n      }\n    }\n  },\n}\n\nexport default def\n","import type {Vocabulary} from \"../types\"\n\nexport const metadataVocabulary: Vocabulary = [\n  \"title\",\n  \"description\",\n  \"default\",\n  \"deprecated\",\n  \"readOnly\",\n  \"writeOnly\",\n  \"examples\",\n]\n\nexport const contentVocabulary: Vocabulary = [\n  \"contentMediaType\",\n  \"contentEncoding\",\n  \"contentSchema\",\n]\n","import type {CodeKeywordDefinition, AnySchemaObject, KeywordErrorDefinition} from \"../../types\"\nimport type {KeywordCxt} from \"../../compile/validate\"\nimport {_, getProperty, Name} from \"../../compile/codegen\"\nimport {DiscrError, DiscrErrorObj} from \"../discriminator/types\"\nimport {resolveRef, SchemaEnv} from \"../../compile\"\nimport {schemaHasRulesButRef} from \"../../compile/util\"\n\nexport type DiscriminatorError = DiscrErrorObj<DiscrError.Tag> | DiscrErrorObj<DiscrError.Mapping>\n\nconst error: KeywordErrorDefinition = {\n  message: ({params: {discrError, tagName}}) =>\n    discrError === DiscrError.Tag\n      ? `tag \"${tagName}\" must be string`\n      : `value of tag \"${tagName}\" must be in oneOf`,\n  params: ({params: {discrError, tag, tagName}}) =>\n    _`{error: ${discrError}, tag: ${tagName}, tagValue: ${tag}}`,\n}\n\nconst def: CodeKeywordDefinition = {\n  keyword: \"discriminator\",\n  type: \"object\",\n  schemaType: \"object\",\n  error,\n  code(cxt: KeywordCxt) {\n    const {gen, data, schema, parentSchema, it} = cxt\n    const {oneOf} = parentSchema\n    if (!it.opts.discriminator) {\n      throw new Error(\"discriminator: requires discriminator option\")\n    }\n    const tagName = schema.propertyName\n    if (typeof tagName != \"string\") throw new Error(\"discriminator: requires propertyName\")\n    if (schema.mapping) throw new Error(\"discriminator: mapping is not supported\")\n    if (!oneOf) throw new Error(\"discriminator: requires oneOf keyword\")\n    const valid = gen.let(\"valid\", false)\n    const tag = gen.const(\"tag\", _`${data}${getProperty(tagName)}`)\n    gen.if(\n      _`typeof ${tag} == \"string\"`,\n      () => validateMapping(),\n      () => cxt.error(false, {discrError: DiscrError.Tag, tag, tagName})\n    )\n    cxt.ok(valid)\n\n    function validateMapping(): void {\n      const mapping = getMapping()\n      gen.if(false)\n      for (const tagValue in mapping) {\n        gen.elseIf(_`${tag} === ${tagValue}`)\n        gen.assign(valid, applyTagSchema(mapping[tagValue]))\n      }\n      gen.else()\n      cxt.error(false, {discrError: DiscrError.Mapping, tag, tagName})\n      gen.endIf()\n    }\n\n    function applyTagSchema(schemaProp?: number): Name {\n      const _valid = gen.name(\"valid\")\n      const schCxt = cxt.subschema({keyword: \"oneOf\", schemaProp}, _valid)\n      cxt.mergeEvaluated(schCxt, Name)\n      return _valid\n    }\n\n    function getMapping(): {[T in string]?: number} {\n      const oneOfMapping: {[T in string]?: number} = {}\n      const topRequired = hasRequired(parentSchema)\n      let tagRequired = true\n      for (let i = 0; i < oneOf.length; i++) {\n        let sch = oneOf[i]\n        if (sch?.$ref && !schemaHasRulesButRef(sch, it.self.RULES)) {\n          sch = resolveRef.call(it.self, it.schemaEnv.root, it.baseId, sch?.$ref)\n          if (sch instanceof SchemaEnv) sch = sch.schema\n        }\n        const propSch = sch?.properties?.[tagName]\n        if (typeof propSch != \"object\") {\n          throw new Error(\n            `discriminator: oneOf subschemas (or referenced schemas) must have \"properties/${tagName}\"`\n          )\n        }\n        tagRequired = tagRequired && (topRequired || hasRequired(sch))\n        addMappings(propSch, i)\n      }\n      if (!tagRequired) throw new Error(`discriminator: \"${tagName}\" must be required`)\n      return oneOfMapping\n\n      function hasRequired({required}: AnySchemaObject): boolean {\n        return Array.isArray(required) && required.includes(tagName)\n      }\n\n      function addMappings(sch: AnySchemaObject, i: number): void {\n        if (sch.const) {\n          addMapping(sch.const, i)\n        } else if (sch.enum) {\n          for (const tagValue of sch.enum) {\n            addMapping(tagValue, i)\n          }\n        } else {\n          throw new Error(`discriminator: \"properties/${tagName}\" must have \"const\" or \"enum\"`)\n        }\n      }\n\n      function addMapping(tagValue: unknown, i: number): void {\n        if (typeof tagValue != \"string\" || tagValue in oneOfMapping) {\n          throw new Error(`discriminator: \"${tagName}\" values must be unique strings`)\n        }\n        oneOfMapping[tagValue] = i\n      }\n    }\n  },\n}\n\nexport default def\n","import type {ErrorObject} from \"../../types\"\n\nexport enum DiscrError {\n  Tag = \"tag\",\n  Mapping = \"mapping\",\n}\n\nexport type DiscrErrorObj<E extends DiscrError> = ErrorObject<\n  \"discriminator\",\n  {error: E; tag: string; tagValue: unknown},\n  string\n>\n","{\n  \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n  \"$id\": \"http://json-schema.org/draft-07/schema#\",\n  \"title\": \"Core schema meta-schema\",\n  \"definitions\": {\n    \"schemaArray\": {\n      \"type\": \"array\",\n      \"minItems\": 1,\n      \"items\": {\"$ref\": \"#\"}\n    },\n    \"nonNegativeInteger\": {\n      \"type\": \"integer\",\n      \"minimum\": 0\n    },\n    \"nonNegativeIntegerDefault0\": {\n      \"allOf\": [{\"$ref\": \"#/definitions/nonNegativeInteger\"}, {\"default\": 0}]\n    },\n    \"simpleTypes\": {\n      \"enum\": [\"array\", \"boolean\", \"integer\", \"null\", \"number\", \"object\", \"string\"]\n    },\n    \"stringArray\": {\n      \"type\": \"array\",\n      \"items\": {\"type\": \"string\"},\n      \"uniqueItems\": true,\n      \"default\": []\n    }\n  },\n  \"type\": [\"object\", \"boolean\"],\n  \"properties\": {\n    \"$id\": {\n      \"type\": \"string\",\n      \"format\": \"uri-reference\"\n    },\n    \"$schema\": {\n      \"type\": \"string\",\n      \"format\": \"uri\"\n    },\n    \"$ref\": {\n      \"type\": \"string\",\n      \"format\": \"uri-reference\"\n    },\n    \"$comment\": {\n      \"type\": \"string\"\n    },\n    \"title\": {\n      \"type\": \"string\"\n    },\n    \"description\": {\n      \"type\": \"string\"\n    },\n    \"default\": true,\n    \"readOnly\": {\n      \"type\": \"boolean\",\n      \"default\": false\n    },\n    \"examples\": {\n      \"type\": \"array\",\n      \"items\": true\n    },\n    \"multipleOf\": {\n      \"type\": \"number\",\n      \"exclusiveMinimum\": 0\n    },\n    \"maximum\": {\n      \"type\": \"number\"\n    },\n    \"exclusiveMaximum\": {\n      \"type\": \"number\"\n    },\n    \"minimum\": {\n      \"type\": \"number\"\n    },\n    \"exclusiveMinimum\": {\n      \"type\": \"number\"\n    },\n    \"maxLength\": {\"$ref\": \"#/definitions/nonNegativeInteger\"},\n    \"minLength\": {\"$ref\": \"#/definitions/nonNegativeIntegerDefault0\"},\n    \"pattern\": {\n      \"type\": \"string\",\n      \"format\": \"regex\"\n    },\n    \"additionalItems\": {\"$ref\": \"#\"},\n    \"items\": {\n      \"anyOf\": [{\"$ref\": \"#\"}, {\"$ref\": \"#/definitions/schemaArray\"}],\n      \"default\": true\n    },\n    \"maxItems\": {\"$ref\": \"#/definitions/nonNegativeInteger\"},\n    \"minItems\": {\"$ref\": \"#/definitions/nonNegativeIntegerDefault0\"},\n    \"uniqueItems\": {\n      \"type\": \"boolean\",\n      \"default\": false\n    },\n    \"contains\": {\"$ref\": \"#\"},\n    \"maxProperties\": {\"$ref\": \"#/definitions/nonNegativeInteger\"},\n    \"minProperties\": {\"$ref\": \"#/definitions/nonNegativeIntegerDefault0\"},\n    \"required\": {\"$ref\": \"#/definitions/stringArray\"},\n    \"additionalProperties\": {\"$ref\": \"#\"},\n    \"definitions\": {\n      \"type\": \"object\",\n      \"additionalProperties\": {\"$ref\": \"#\"},\n      \"default\": {}\n    },\n    \"properties\": {\n      \"type\": \"object\",\n      \"additionalProperties\": {\"$ref\": \"#\"},\n      \"default\": {}\n    },\n    \"patternProperties\": {\n      \"type\": \"object\",\n      \"additionalProperties\": {\"$ref\": \"#\"},\n      \"propertyNames\": {\"format\": \"regex\"},\n      \"default\": {}\n    },\n    \"dependencies\": {\n      \"type\": \"object\",\n      \"additionalProperties\": {\n        \"anyOf\": [{\"$ref\": \"#\"}, {\"$ref\": \"#/definitions/stringArray\"}]\n      }\n    },\n    \"propertyNames\": {\"$ref\": \"#\"},\n    \"const\": true,\n    \"enum\": {\n      \"type\": \"array\",\n      \"items\": true,\n      \"minItems\": 1,\n      \"uniqueItems\": true\n    },\n    \"type\": {\n      \"anyOf\": [\n        {\"$ref\": \"#/definitions/simpleTypes\"},\n        {\n          \"type\": \"array\",\n          \"items\": {\"$ref\": \"#/definitions/simpleTypes\"},\n          \"minItems\": 1,\n          \"uniqueItems\": true\n        }\n      ]\n    },\n    \"format\": {\"type\": \"string\"},\n    \"contentMediaType\": {\"type\": \"string\"},\n    \"contentEncoding\": {\"type\": \"string\"},\n    \"if\": {\"$ref\": \"#\"},\n    \"then\": {\"$ref\": \"#\"},\n    \"else\": {\"$ref\": \"#\"},\n    \"allOf\": {\"$ref\": \"#/definitions/schemaArray\"},\n    \"anyOf\": {\"$ref\": \"#/definitions/schemaArray\"},\n    \"oneOf\": {\"$ref\": \"#/definitions/schemaArray\"},\n    \"not\": {\"$ref\": \"#\"}\n  },\n  \"default\": true\n}\n","!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(t=\"undefined\"!=typeof globalThis?globalThis:t||self).graphology=e()}(this,(function(){\"use strict\";function t(e){return t=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},t(e)}function e(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,r(t,e)}function n(t){return n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},n(t)}function r(t,e){return r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},r(t,e)}function i(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function o(t,e,n){return o=i()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var o=new(Function.bind.apply(t,i));return n&&r(o,n.prototype),o},o.apply(null,arguments)}function a(t){var e=\"function\"==typeof Map?new Map:void 0;return a=function(t){if(null===t||(i=t,-1===Function.toString.call(i).indexOf(\"[native code]\")))return t;var i;if(\"function\"!=typeof t)throw new TypeError(\"Super expression must either be null or a function\");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,a)}function a(){return o(t,arguments,n(this).constructor)}return a.prototype=Object.create(t.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),r(a,t)},a(t)}function u(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}var c=function(){for(var t=arguments[0],e=1,n=arguments.length;e<n;e++)if(arguments[e])for(var r in arguments[e])t[r]=arguments[e][r];return t};function s(t,e,n,r){var i=t._nodes.get(e),o=null;return i?o=\"mixed\"===r?i.out&&i.out[n]||i.undirected&&i.undirected[n]:\"directed\"===r?i.out&&i.out[n]:i.undirected&&i.undirected[n]:o}function d(e){return null!==e&&\"object\"===t(e)&&\"function\"==typeof e.addUndirectedEdgeWithKey&&\"function\"==typeof e.dropNode}function h(e){return\"object\"===t(e)&&null!==e&&e.constructor===Object}function p(t){var e;for(e in t)return!1;return!0}function f(t,e,n){Object.defineProperty(t,e,{enumerable:!1,configurable:!1,writable:!0,value:n})}function l(t,e,n){var r={enumerable:!0,configurable:!0};\"function\"==typeof n?r.get=n:(r.value=n,r.writable=!1),Object.defineProperty(t,e,r)}function g(t){return!!h(t)&&!(t.attributes&&!Array.isArray(t.attributes))}\"function\"==typeof Object.assign&&(c=Object.assign);var y,w={exports:{}},v=\"object\"==typeof Reflect?Reflect:null,b=v&&\"function\"==typeof v.apply?v.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};y=v&&\"function\"==typeof v.ownKeys?v.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var m=Number.isNaN||function(t){return t!=t};function k(){k.init.call(this)}w.exports=k,w.exports.once=function(t,e){return new Promise((function(n,r){function i(n){t.removeListener(e,o),r(n)}function o(){\"function\"==typeof t.removeListener&&t.removeListener(\"error\",i),n([].slice.call(arguments))}N(t,e,o,{once:!0}),\"error\"!==e&&function(t,e,n){\"function\"==typeof t.on&&N(t,\"error\",e,n)}(t,i,{once:!0})}))},k.EventEmitter=k,k.prototype._events=void 0,k.prototype._eventsCount=0,k.prototype._maxListeners=void 0;var _=10;function G(t){if(\"function\"!=typeof t)throw new TypeError('The \"listener\" argument must be of type Function. Received type '+typeof t)}function x(t){return void 0===t._maxListeners?k.defaultMaxListeners:t._maxListeners}function E(t,e,n,r){var i,o,a,u;if(G(n),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit(\"newListener\",e,n.listener?n.listener:n),o=t._events),a=o[e]),void 0===a)a=o[e]=n,++t._eventsCount;else if(\"function\"==typeof a?a=o[e]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=x(t))>0&&a.length>i&&!a.warned){a.warned=!0;var c=new Error(\"Possible EventEmitter memory leak detected. \"+a.length+\" \"+String(e)+\" listeners added. Use emitter.setMaxListeners() to increase limit\");c.name=\"MaxListenersExceededWarning\",c.emitter=t,c.type=e,c.count=a.length,u=c,console&&console.warn&&console.warn(u)}return t}function A(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function S(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=A.bind(r);return i.listener=n,r.wrapFn=i,i}function D(t,e,n){var r=t._events;if(void 0===r)return[];var i=r[e];return void 0===i?[]:\"function\"==typeof i?n?[i.listener||i]:[i]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(i):U(i,i.length)}function L(t){var e=this._events;if(void 0!==e){var n=e[t];if(\"function\"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function U(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function N(t,e,n,r){if(\"function\"==typeof t.on)r.once?t.once(e,n):t.on(e,n);else{if(\"function\"!=typeof t.addEventListener)throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function i(o){r.once&&t.removeEventListener(e,i),n(o)}))}}function j(t){if(\"function\"!=typeof t)throw new Error(\"obliterator/iterator: expecting a function!\");this.next=t}Object.defineProperty(k,\"defaultMaxListeners\",{enumerable:!0,get:function(){return _},set:function(t){if(\"number\"!=typeof t||t<0||m(t))throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received '+t+\".\");_=t}}),k.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},k.prototype.setMaxListeners=function(t){if(\"number\"!=typeof t||t<0||m(t))throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received '+t+\".\");return this._maxListeners=t,this},k.prototype.getMaxListeners=function(){return x(this)},k.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r=\"error\"===t,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var a=new Error(\"Unhandled error.\"+(o?\" (\"+o.message+\")\":\"\"));throw a.context=o,a}var u=i[t];if(void 0===u)return!1;if(\"function\"==typeof u)b(u,this,e);else{var c=u.length,s=U(u,c);for(n=0;n<c;++n)b(s[n],this,e)}return!0},k.prototype.addListener=function(t,e){return E(this,t,e,!1)},k.prototype.on=k.prototype.addListener,k.prototype.prependListener=function(t,e){return E(this,t,e,!0)},k.prototype.once=function(t,e){return G(e),this.on(t,S(this,t,e)),this},k.prototype.prependOnceListener=function(t,e){return G(e),this.prependListener(t,S(this,t,e)),this},k.prototype.removeListener=function(t,e){var n,r,i,o,a;if(G(e),void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit(\"removeListener\",t,n.listener||e));else if(\"function\"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,i),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit(\"removeListener\",t,a||e)}return this},k.prototype.off=k.prototype.removeListener,k.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)\"removeListener\"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners(\"removeListener\"),this._events=Object.create(null),this._eventsCount=0,this}if(\"function\"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},k.prototype.listeners=function(t){return D(this,t,!0)},k.prototype.rawListeners=function(t){return D(this,t,!1)},k.listenerCount=function(t,e){return\"function\"==typeof t.listenerCount?t.listenerCount(e):L.call(t,e)},k.prototype.listenerCount=L,k.prototype.eventNames=function(){return this._eventsCount>0?y(this._events):[]},\"undefined\"!=typeof Symbol&&(j.prototype[Symbol.iterator]=function(){return this}),j.of=function(){var t=arguments,e=t.length,n=0;return new j((function(){return n>=e?{done:!0}:{done:!1,value:t[n++]}}))},j.empty=function(){return new j((function(){return{done:!0}}))},j.fromSequence=function(t){var e=0,n=t.length;return new j((function(){return e>=n?{done:!0}:{done:!1,value:t[e++]}}))},j.is=function(t){return t instanceof j||\"object\"==typeof t&&null!==t&&\"function\"==typeof t.next};var O=j,C={};C.ARRAY_BUFFER_SUPPORT=\"undefined\"!=typeof ArrayBuffer,C.SYMBOL_SUPPORT=\"undefined\"!=typeof Symbol;var z=O,M=C,W=M.ARRAY_BUFFER_SUPPORT,P=M.SYMBOL_SUPPORT;var R=function(t){var e=function(t){return\"string\"==typeof t||Array.isArray(t)||W&&ArrayBuffer.isView(t)?z.fromSequence(t):\"object\"!=typeof t||null===t?null:P&&\"function\"==typeof t[Symbol.iterator]?t[Symbol.iterator]():\"function\"==typeof t.next?t:null}(t);if(!e)throw new Error(\"obliterator: target is not iterable nor a valid iterator.\");return e},K=R,T=function(t,e){for(var n,r=arguments.length>1?e:1/0,i=r!==1/0?new Array(r):[],o=0,a=K(t);;){if(o===r)return i;if((n=a.next()).done)return o!==e&&(i.length=o),i;i[o++]=n.value}},B=function(t){function n(e){var n;return(n=t.call(this)||this).name=\"GraphError\",n.message=e,n}return e(n,t),n}(a(Error)),F=function(t){function n(e){var r;return(r=t.call(this,e)||this).name=\"InvalidArgumentsGraphError\",\"function\"==typeof Error.captureStackTrace&&Error.captureStackTrace(u(r),n.prototype.constructor),r}return e(n,t),n}(B),I=function(t){function n(e){var r;return(r=t.call(this,e)||this).name=\"NotFoundGraphError\",\"function\"==typeof Error.captureStackTrace&&Error.captureStackTrace(u(r),n.prototype.constructor),r}return e(n,t),n}(B),Y=function(t){function n(e){var r;return(r=t.call(this,e)||this).name=\"UsageGraphError\",\"function\"==typeof Error.captureStackTrace&&Error.captureStackTrace(u(r),n.prototype.constructor),r}return e(n,t),n}(B);function q(t,e){this.key=t,this.attributes=e,this.clear()}function J(t,e){this.key=t,this.attributes=e,this.clear()}function V(t,e){this.key=t,this.attributes=e,this.clear()}function H(t,e,n,r,i){this.key=e,this.attributes=i,this.undirected=t,this.source=n,this.target=r}q.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.undirectedDegree=0,this.in={},this.out={},this.undirected={}},J.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.in={},this.out={}},V.prototype.clear=function(){this.undirectedDegree=0,this.undirected={}},H.prototype.attach=function(){var t=\"out\",e=\"in\";this.undirected&&(t=e=\"undirected\");var n=this.source.key,r=this.target.key;this.source[t][r]=this,this.undirected&&n===r||(this.target[e][n]=this)},H.prototype.attachMulti=function(){var t=\"out\",e=\"in\",n=this.source.key,r=this.target.key;this.undirected&&(t=e=\"undirected\");var i=this.source[t],o=i[r];if(void 0===o)return i[r]=this,void(this.undirected&&n===r||(this.target[e][n]=this));o.previous=this,this.next=o,i[r]=this,this.target[e][n]=this},H.prototype.detach=function(){var t=this.source.key,e=this.target.key,n=\"out\",r=\"in\";this.undirected&&(n=r=\"undirected\"),delete this.source[n][e],delete this.target[r][t]},H.prototype.detachMulti=function(){var t=this.source.key,e=this.target.key,n=\"out\",r=\"in\";this.undirected&&(n=r=\"undirected\"),void 0===this.previous?void 0===this.next?(delete this.source[n][e],delete this.target[r][t]):(this.next.previous=void 0,this.source[n][e]=this.next,this.target[r][t]=this.next):(this.previous.next=this.next,void 0!==this.next&&(this.next.previous=this.previous))};function Q(t,e,n,r,i,o,a){var u,c,s,d;if(r=\"\"+r,0===n){if(!(u=t._nodes.get(r)))throw new I(\"Graph.\".concat(e,': could not find the \"').concat(r,'\" node in the graph.'));s=i,d=o}else if(3===n){if(i=\"\"+i,!(c=t._edges.get(i)))throw new I(\"Graph.\".concat(e,': could not find the \"').concat(i,'\" edge in the graph.'));var h=c.source.key,p=c.target.key;if(r===h)u=c.target;else{if(r!==p)throw new I(\"Graph.\".concat(e,': the \"').concat(r,'\" node is not attached to the \"').concat(i,'\" edge (').concat(h,\", \").concat(p,\").\"));u=c.source}s=o,d=a}else{if(!(c=t._edges.get(r)))throw new I(\"Graph.\".concat(e,': could not find the \"').concat(r,'\" edge in the graph.'));u=1===n?c.source:c.target,s=i,d=o}return[u,s,d]}var X=[{name:function(t){return\"get\".concat(t,\"Attribute\")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i){var o=Q(this,e,n,t,r,i),a=o[0],u=o[1];return a.attributes[u]}}},{name:function(t){return\"get\".concat(t,\"Attributes\")},attacher:function(t,e,n){t.prototype[e]=function(t,r){return Q(this,e,n,t,r)[0].attributes}}},{name:function(t){return\"has\".concat(t,\"Attribute\")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i){var o=Q(this,e,n,t,r,i),a=o[0],u=o[1];return a.attributes.hasOwnProperty(u)}}},{name:function(t){return\"set\".concat(t,\"Attribute\")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i,o){var a=Q(this,e,n,t,r,i,o),u=a[0],c=a[1],s=a[2];return u.attributes[c]=s,this.emit(\"nodeAttributesUpdated\",{key:u.key,type:\"set\",attributes:u.attributes,name:c}),this}}},{name:function(t){return\"update\".concat(t,\"Attribute\")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i,o){var a=Q(this,e,n,t,r,i,o),u=a[0],c=a[1],s=a[2];if(\"function\"!=typeof s)throw new F(\"Graph.\".concat(e,\": updater should be a function.\"));var d=u.attributes,h=s(d[c]);return d[c]=h,this.emit(\"nodeAttributesUpdated\",{key:u.key,type:\"set\",attributes:u.attributes,name:c}),this}}},{name:function(t){return\"remove\".concat(t,\"Attribute\")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i){var o=Q(this,e,n,t,r,i),a=o[0],u=o[1];return delete a.attributes[u],this.emit(\"nodeAttributesUpdated\",{key:a.key,type:\"remove\",attributes:a.attributes,name:u}),this}}},{name:function(t){return\"replace\".concat(t,\"Attributes\")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i){var o=Q(this,e,n,t,r,i),a=o[0],u=o[1];if(!h(u))throw new F(\"Graph.\".concat(e,\": provided attributes are not a plain object.\"));return a.attributes=u,this.emit(\"nodeAttributesUpdated\",{key:a.key,type:\"replace\",attributes:a.attributes}),this}}},{name:function(t){return\"merge\".concat(t,\"Attributes\")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i){var o=Q(this,e,n,t,r,i),a=o[0],u=o[1];if(!h(u))throw new F(\"Graph.\".concat(e,\": provided attributes are not a plain object.\"));return c(a.attributes,u),this.emit(\"nodeAttributesUpdated\",{key:a.key,type:\"merge\",attributes:a.attributes,data:u}),this}}},{name:function(t){return\"update\".concat(t,\"Attributes\")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i){var o=Q(this,e,n,t,r,i),a=o[0],u=o[1];if(\"function\"!=typeof u)throw new F(\"Graph.\".concat(e,\": provided updater is not a function.\"));return a.attributes=u(a.attributes),this.emit(\"nodeAttributesUpdated\",{key:a.key,type:\"update\",attributes:a.attributes}),this}}}];var Z=[{name:function(t){return\"get\".concat(t,\"Attribute\")},attacher:function(t,e,n){t.prototype[e]=function(t,r){var i;if(\"mixed\"!==this.type&&\"mixed\"!==n&&n!==this.type)throw new Y(\"Graph.\".concat(e,\": cannot find this type of edges in your \").concat(this.type,\" graph.\"));if(arguments.length>2){if(this.multi)throw new Y(\"Graph.\".concat(e,\": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.\"));var o=\"\"+t,a=\"\"+r;if(r=arguments[2],!(i=s(this,o,a,n)))throw new I(\"Graph.\".concat(e,': could not find an edge for the given path (\"').concat(o,'\" - \"').concat(a,'\").'))}else{if(\"mixed\"!==n)throw new Y(\"Graph.\".concat(e,\": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.\"));if(t=\"\"+t,!(i=this._edges.get(t)))throw new I(\"Graph.\".concat(e,': could not find the \"').concat(t,'\" edge in the graph.'))}return i.attributes[r]}}},{name:function(t){return\"get\".concat(t,\"Attributes\")},attacher:function(t,e,n){t.prototype[e]=function(t){var r;if(\"mixed\"!==this.type&&\"mixed\"!==n&&n!==this.type)throw new Y(\"Graph.\".concat(e,\": cannot find this type of edges in your \").concat(this.type,\" graph.\"));if(arguments.length>1){if(this.multi)throw new Y(\"Graph.\".concat(e,\": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.\"));var i=\"\"+t,o=\"\"+arguments[1];if(!(r=s(this,i,o,n)))throw new I(\"Graph.\".concat(e,': could not find an edge for the given path (\"').concat(i,'\" - \"').concat(o,'\").'))}else{if(\"mixed\"!==n)throw new Y(\"Graph.\".concat(e,\": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.\"));if(t=\"\"+t,!(r=this._edges.get(t)))throw new I(\"Graph.\".concat(e,': could not find the \"').concat(t,'\" edge in the graph.'))}return r.attributes}}},{name:function(t){return\"has\".concat(t,\"Attribute\")},attacher:function(t,e,n){t.prototype[e]=function(t,r){var i;if(\"mixed\"!==this.type&&\"mixed\"!==n&&n!==this.type)throw new Y(\"Graph.\".concat(e,\": cannot find this type of edges in your \").concat(this.type,\" graph.\"));if(arguments.length>2){if(this.multi)throw new Y(\"Graph.\".concat(e,\": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.\"));var o=\"\"+t,a=\"\"+r;if(r=arguments[2],!(i=s(this,o,a,n)))throw new I(\"Graph.\".concat(e,': could not find an edge for the given path (\"').concat(o,'\" - \"').concat(a,'\").'))}else{if(\"mixed\"!==n)throw new Y(\"Graph.\".concat(e,\": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.\"));if(t=\"\"+t,!(i=this._edges.get(t)))throw new I(\"Graph.\".concat(e,': could not find the \"').concat(t,'\" edge in the graph.'))}return i.attributes.hasOwnProperty(r)}}},{name:function(t){return\"set\".concat(t,\"Attribute\")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i){var o;if(\"mixed\"!==this.type&&\"mixed\"!==n&&n!==this.type)throw new Y(\"Graph.\".concat(e,\": cannot find this type of edges in your \").concat(this.type,\" graph.\"));if(arguments.length>3){if(this.multi)throw new Y(\"Graph.\".concat(e,\": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.\"));var a=\"\"+t,u=\"\"+r;if(r=arguments[2],i=arguments[3],!(o=s(this,a,u,n)))throw new I(\"Graph.\".concat(e,': could not find an edge for the given path (\"').concat(a,'\" - \"').concat(u,'\").'))}else{if(\"mixed\"!==n)throw new Y(\"Graph.\".concat(e,\": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.\"));if(t=\"\"+t,!(o=this._edges.get(t)))throw new I(\"Graph.\".concat(e,': could not find the \"').concat(t,'\" edge in the graph.'))}return o.attributes[r]=i,this.emit(\"edgeAttributesUpdated\",{key:o.key,type:\"set\",attributes:o.attributes,name:r}),this}}},{name:function(t){return\"update\".concat(t,\"Attribute\")},attacher:function(t,e,n){t.prototype[e]=function(t,r,i){var o;if(\"mixed\"!==this.type&&\"mixed\"!==n&&n!==this.type)throw new Y(\"Graph.\".concat(e,\": cannot find this type of edges in your \").concat(this.type,\" graph.\"));if(arguments.length>3){if(this.multi)throw new Y(\"Graph.\".concat(e,\": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.\"));var a=\"\"+t,u=\"\"+r;if(r=arguments[2],i=arguments[3],!(o=s(this,a,u,n)))throw new I(\"Graph.\".concat(e,': could not find an edge for the given path (\"').concat(a,'\" - \"').concat(u,'\").'))}else{if(\"mixed\"!==n)throw new Y(\"Graph.\".concat(e,\": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.\"));if(t=\"\"+t,!(o=this._edges.get(t)))throw new I(\"Graph.\".concat(e,': could not find the \"').concat(t,'\" edge in the graph.'))}if(\"function\"!=typeof i)throw new F(\"Graph.\".concat(e,\": updater should be a function.\"));return o.attributes[r]=i(o.attributes[r]),this.emit(\"edgeAttributesUpdated\",{key:o.key,type:\"set\",attributes:o.attributes,name:r}),this}}},{name:function(t){return\"remove\".concat(t,\"Attribute\")},attacher:function(t,e,n){t.prototype[e]=function(t,r){var i;if(\"mixed\"!==this.type&&\"mixed\"!==n&&n!==this.type)throw new Y(\"Graph.\".concat(e,\": cannot find this type of edges in your \").concat(this.type,\" graph.\"));if(arguments.length>2){if(this.multi)throw new Y(\"Graph.\".concat(e,\": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.\"));var o=\"\"+t,a=\"\"+r;if(r=arguments[2],!(i=s(this,o,a,n)))throw new I(\"Graph.\".concat(e,': could not find an edge for the given path (\"').concat(o,'\" - \"').concat(a,'\").'))}else{if(\"mixed\"!==n)throw new Y(\"Graph.\".concat(e,\": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.\"));if(t=\"\"+t,!(i=this._edges.get(t)))throw new I(\"Graph.\".concat(e,': could not find the \"').concat(t,'\" edge in the graph.'))}return delete i.attributes[r],this.emit(\"edgeAttributesUpdated\",{key:i.key,type:\"remove\",attributes:i.attributes,name:r}),this}}},{name:function(t){return\"replace\".concat(t,\"Attributes\")},attacher:function(t,e,n){t.prototype[e]=function(t,r){var i;if(\"mixed\"!==this.type&&\"mixed\"!==n&&n!==this.type)throw new Y(\"Graph.\".concat(e,\": cannot find this type of edges in your \").concat(this.type,\" graph.\"));if(arguments.length>2){if(this.multi)throw new Y(\"Graph.\".concat(e,\": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.\"));var o=\"\"+t,a=\"\"+r;if(r=arguments[2],!(i=s(this,o,a,n)))throw new I(\"Graph.\".concat(e,': could not find an edge for the given path (\"').concat(o,'\" - \"').concat(a,'\").'))}else{if(\"mixed\"!==n)throw new Y(\"Graph.\".concat(e,\": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.\"));if(t=\"\"+t,!(i=this._edges.get(t)))throw new I(\"Graph.\".concat(e,': could not find the \"').concat(t,'\" edge in the graph.'))}if(!h(r))throw new F(\"Graph.\".concat(e,\": provided attributes are not a plain object.\"));return i.attributes=r,this.emit(\"edgeAttributesUpdated\",{key:i.key,type:\"replace\",attributes:i.attributes}),this}}},{name:function(t){return\"merge\".concat(t,\"Attributes\")},attacher:function(t,e,n){t.prototype[e]=function(t,r){var i;if(\"mixed\"!==this.type&&\"mixed\"!==n&&n!==this.type)throw new Y(\"Graph.\".concat(e,\": cannot find this type of edges in your \").concat(this.type,\" graph.\"));if(arguments.length>2){if(this.multi)throw new Y(\"Graph.\".concat(e,\": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.\"));var o=\"\"+t,a=\"\"+r;if(r=arguments[2],!(i=s(this,o,a,n)))throw new I(\"Graph.\".concat(e,': could not find an edge for the given path (\"').concat(o,'\" - \"').concat(a,'\").'))}else{if(\"mixed\"!==n)throw new Y(\"Graph.\".concat(e,\": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.\"));if(t=\"\"+t,!(i=this._edges.get(t)))throw new I(\"Graph.\".concat(e,': could not find the \"').concat(t,'\" edge in the graph.'))}if(!h(r))throw new F(\"Graph.\".concat(e,\": provided attributes are not a plain object.\"));return c(i.attributes,r),this.emit(\"edgeAttributesUpdated\",{key:i.key,type:\"merge\",attributes:i.attributes,data:r}),this}}},{name:function(t){return\"update\".concat(t,\"Attributes\")},attacher:function(t,e,n){t.prototype[e]=function(t,r){var i;if(\"mixed\"!==this.type&&\"mixed\"!==n&&n!==this.type)throw new Y(\"Graph.\".concat(e,\": cannot find this type of edges in your \").concat(this.type,\" graph.\"));if(arguments.length>2){if(this.multi)throw new Y(\"Graph.\".concat(e,\": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.\"));var o=\"\"+t,a=\"\"+r;if(r=arguments[2],!(i=s(this,o,a,n)))throw new I(\"Graph.\".concat(e,': could not find an edge for the given path (\"').concat(o,'\" - \"').concat(a,'\").'))}else{if(\"mixed\"!==n)throw new Y(\"Graph.\".concat(e,\": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.\"));if(t=\"\"+t,!(i=this._edges.get(t)))throw new I(\"Graph.\".concat(e,': could not find the \"').concat(t,'\" edge in the graph.'))}if(\"function\"!=typeof r)throw new F(\"Graph.\".concat(e,\": provided updater is not a function.\"));return i.attributes=r(i.attributes),this.emit(\"edgeAttributesUpdated\",{key:i.key,type:\"update\",attributes:i.attributes}),this}}}];var $=O,tt=R,et=function(){var t=arguments,e=null,n=-1;return new $((function(){for(var r=null;;){if(null===e){if(++n>=t.length)return{done:!0};e=tt(t[n])}if(!0!==(r=e.next()).done)break;e=null}return r}))},nt=[{name:\"edges\",type:\"mixed\"},{name:\"inEdges\",type:\"directed\",direction:\"in\"},{name:\"outEdges\",type:\"directed\",direction:\"out\"},{name:\"inboundEdges\",type:\"mixed\",direction:\"in\"},{name:\"outboundEdges\",type:\"mixed\",direction:\"out\"},{name:\"directedEdges\",type:\"directed\"},{name:\"undirectedEdges\",type:\"undirected\"}];function rt(t,e,n,r){var i=!1;for(var o in e)if(o!==r){var a=e[o];if(i=n(a.key,a.attributes,a.source.key,a.target.key,a.source.attributes,a.target.attributes,a.undirected),t&&i)return a.key}}function it(t,e,n,r){var i,o,a,u=!1;for(var c in e)if(c!==r){i=e[c];do{if(o=i.source,a=i.target,u=n(i.key,i.attributes,o.key,a.key,o.attributes,a.attributes,i.undirected),t&&u)return i.key;i=i.next}while(void 0!==i)}}function ot(t,e){var n,r=Object.keys(t),i=r.length,o=0;return new O((function(){do{if(n)n=n.next;else{if(o>=i)return{done:!0};var a=r[o++];if(a===e){n=void 0;continue}n=t[a]}}while(!n);return{done:!1,value:{edge:n.key,attributes:n.attributes,source:n.source.key,target:n.target.key,sourceAttributes:n.source.attributes,targetAttributes:n.target.attributes,undirected:n.undirected}}}))}function at(t,e,n,r){var i=e[n];if(i){var o=i.source,a=i.target;return r(i.key,i.attributes,o.key,a.key,o.attributes,a.attributes,i.undirected)&&t?i.key:void 0}}function ut(t,e,n,r){var i=e[n];if(i){var o=!1;do{if(o=r(i.key,i.attributes,i.source.key,i.target.key,i.source.attributes,i.target.attributes,i.undirected),t&&o)return i.key;i=i.next}while(void 0!==i)}}function ct(t,e){var n=t[e];return void 0!==n.next?new O((function(){if(!n)return{done:!0};var t={edge:n.key,attributes:n.attributes,source:n.source.key,target:n.target.key,sourceAttributes:n.source.attributes,targetAttributes:n.target.attributes,undirected:n.undirected};return n=n.next,{done:!1,value:t}})):O.of({edge:n.key,attributes:n.attributes,source:n.source.key,target:n.target.key,sourceAttributes:n.source.attributes,targetAttributes:n.target.attributes,undirected:n.undirected})}function st(t,e){if(0===t.size)return[];if(\"mixed\"===e||e===t.type)return\"function\"==typeof Array.from?Array.from(t._edges.keys()):T(t._edges.keys(),t._edges.size);for(var n,r,i=\"undirected\"===e?t.undirectedSize:t.directedSize,o=new Array(i),a=\"undirected\"===e,u=t._edges.values(),c=0;!0!==(n=u.next()).done;)(r=n.value).undirected===a&&(o[c++]=r.key);return o}function dt(t,e,n,r){if(0!==e.size)for(var i,o,a=\"mixed\"!==n&&n!==e.type,u=\"undirected\"===n,c=!1,s=e._edges.values();!0!==(i=s.next()).done;)if(o=i.value,!a||o.undirected===u){var d=o,h=d.key,p=d.attributes,f=d.source,l=d.target;if(c=r(h,p,f.key,l.key,f.attributes,l.attributes,o.undirected),t&&c)return h}}function ht(t,e){if(0===t.size)return O.empty();var n=\"mixed\"!==e&&e!==t.type,r=\"undirected\"===e,i=t._edges.values();return new O((function(){for(var t,e;;){if((t=i.next()).done)return t;if(e=t.value,!n||e.undirected===r)break}return{value:{edge:e.key,attributes:e.attributes,source:e.source.key,target:e.target.key,sourceAttributes:e.source.attributes,targetAttributes:e.target.attributes,undirected:e.undirected},done:!1}}))}function pt(t,e,n,r,i,o){var a,u=e?it:rt;if(\"undirected\"!==n){if(\"out\"!==r&&(a=u(t,i.in,o),t&&a))return a;if(\"in\"!==r&&(a=u(t,i.out,o,r?void 0:i.key),t&&a))return a}if(\"directed\"!==n&&(a=u(t,i.undirected,o),t&&a))return a}function ft(t,e,n,r){var i=[];return pt(!1,t,e,n,r,(function(t){i.push(t)})),i}function lt(t,e,n){var r=O.empty();return\"undirected\"!==t&&(\"out\"!==e&&void 0!==n.in&&(r=et(r,ot(n.in))),\"in\"!==e&&void 0!==n.out&&(r=et(r,ot(n.out,e?void 0:n.key)))),\"directed\"!==t&&void 0!==n.undirected&&(r=et(r,ot(n.undirected))),r}function gt(t,e,n,r,i,o,a){var u,c=n?ut:at;if(\"undirected\"!==e){if(void 0!==i.in&&\"out\"!==r&&(u=c(t,i.in,o,a),t&&u))return u;if(void 0!==i.out&&\"in\"!==r&&(r||i.key!==o)&&(u=c(t,i.out,o,a),t&&u))return u}if(\"directed\"!==e&&void 0!==i.undirected&&(u=c(t,i.undirected,o,a),t&&u))return u}function yt(t,e,n,r,i){var o=[];return gt(!1,t,e,n,r,i,(function(t){o.push(t)})),o}function wt(t,e,n,r){var i=O.empty();return\"undirected\"!==t&&(void 0!==n.in&&\"out\"!==e&&r in n.in&&(i=et(i,ct(n.in,r))),void 0!==n.out&&\"in\"!==e&&r in n.out&&(e||n.key!==r)&&(i=et(i,ct(n.out,r)))),\"directed\"!==t&&void 0!==n.undirected&&r in n.undirected&&(i=et(i,ct(n.undirected,r))),i}var vt=[{name:\"neighbors\",type:\"mixed\"},{name:\"inNeighbors\",type:\"directed\",direction:\"in\"},{name:\"outNeighbors\",type:\"directed\",direction:\"out\"},{name:\"inboundNeighbors\",type:\"mixed\",direction:\"in\"},{name:\"outboundNeighbors\",type:\"mixed\",direction:\"out\"},{name:\"directedNeighbors\",type:\"directed\"},{name:\"undirectedNeighbors\",type:\"undirected\"}];function bt(){this.A=null,this.B=null}function mt(t,e,n,r,i){for(var o in r){var a=r[o],u=a.source,c=a.target,s=u===n?c:u;if(!e||!e.has(s.key)){var d=i(s.key,s.attributes);if(t&&d)return s.key}}}function kt(t,e,n,r,i){if(\"mixed\"!==e){if(\"undirected\"===e)return mt(t,null,r,r.undirected,i);if(\"string\"==typeof n)return mt(t,null,r,r[n],i)}var o,a=new bt;if(\"undirected\"!==e){if(\"out\"!==n){if(o=mt(t,null,r,r.in,i),t&&o)return o;a.wrap(r.in)}if(\"in\"!==n){if(o=mt(t,a,r,r.out,i),t&&o)return o;a.wrap(r.out)}}if(\"directed\"!==e&&(o=mt(t,a,r,r.undirected,i),t&&o))return o}function _t(t,e,n){var r=Object.keys(n),i=r.length,o=0;return new O((function(){var a=null;do{if(o>=i)return t&&t.wrap(n),{done:!0};var u=n[r[o++]],c=u.source,s=u.target;a=c===e?s:c,t&&t.has(a.key)&&(a=null)}while(null===a);return{done:!1,value:{neighbor:a.key,attributes:a.attributes}}}))}function Gt(t,e){var n=e.name,r=e.type,i=e.direction;t.prototype[n]=function(t){if(\"mixed\"!==r&&\"mixed\"!==this.type&&r!==this.type)return[];t=\"\"+t;var e=this._nodes.get(t);if(void 0===e)throw new I(\"Graph.\".concat(n,': could not find the \"').concat(t,'\" node in the graph.'));return function(t,e,n){if(\"mixed\"!==t){if(\"undirected\"===t)return Object.keys(n.undirected);if(\"string\"==typeof e)return Object.keys(n[e])}var r=[];return kt(!1,t,e,n,(function(t){r.push(t)})),r}(\"mixed\"===r?this.type:r,i,e)}}function xt(t,e){var n=e.name,r=e.type,i=e.direction,o=n.slice(0,-1)+\"Entries\";t.prototype[o]=function(t){if(\"mixed\"!==r&&\"mixed\"!==this.type&&r!==this.type)return O.empty();t=\"\"+t;var e=this._nodes.get(t);if(void 0===e)throw new I(\"Graph.\".concat(o,': could not find the \"').concat(t,'\" node in the graph.'));return function(t,e,n){if(\"mixed\"!==t){if(\"undirected\"===t)return _t(null,n,n.undirected);if(\"string\"==typeof e)return _t(null,n,n[e])}var r=O.empty(),i=new bt;return\"undirected\"!==t&&(\"out\"!==e&&(r=et(r,_t(i,n,n.in))),\"in\"!==e&&(r=et(r,_t(i,n,n.out)))),\"directed\"!==t&&(r=et(r,_t(i,n,n.undirected))),r}(\"mixed\"===r?this.type:r,i,e)}}function Et(t,e,n,r,i){for(var o,a,u,c,s,d,h,p=r._nodes.values(),f=r.type;!0!==(o=p.next()).done;){var l=!1;if(a=o.value,\"undirected\"!==f)for(u in c=a.out){s=c[u];do{if(d=s.target,l=!0,h=i(a.key,d.key,a.attributes,d.attributes,s.key,s.attributes,s.undirected),t&&h)return s;s=s.next}while(s)}if(\"directed\"!==f)for(u in c=a.undirected)if(!(e&&a.key>u)){s=c[u];do{if((d=s.target).key!==u&&(d=s.source),l=!0,h=i(a.key,d.key,a.attributes,d.attributes,s.key,s.attributes,s.undirected),t&&h)return s;s=s.next}while(s)}if(n&&!l&&(h=i(a.key,null,a.attributes,null,null,null,null),t&&h))return null}}function At(t){if(!h(t))throw new F('Graph.import: invalid serialized node. A serialized node should be a plain object with at least a \"key\" property.');if(!(\"key\"in t))throw new F(\"Graph.import: serialized node is missing its key.\");if(\"attributes\"in t&&(!h(t.attributes)||null===t.attributes))throw new F(\"Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.\")}function St(t){if(!h(t))throw new F('Graph.import: invalid serialized edge. A serialized edge should be a plain object with at least a \"source\" & \"target\" property.');if(!(\"source\"in t))throw new F(\"Graph.import: serialized edge is missing its source.\");if(!(\"target\"in t))throw new F(\"Graph.import: serialized edge is missing its target.\");if(\"attributes\"in t&&(!h(t.attributes)||null===t.attributes))throw new F(\"Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.\");if(\"undirected\"in t&&\"boolean\"!=typeof t.undirected)throw new F(\"Graph.import: invalid undirectedness information. Undirected should be boolean or omitted.\")}bt.prototype.wrap=function(t){null===this.A?this.A=t:null===this.B&&(this.B=t)},bt.prototype.has=function(t){return null!==this.A&&t in this.A||null!==this.B&&t in this.B};var Dt,Lt=(Dt=255&Math.floor(256*Math.random()),function(){return Dt++}),Ut=new Set([\"directed\",\"undirected\",\"mixed\"]),Nt=new Set([\"domain\",\"_events\",\"_eventsCount\",\"_maxListeners\"]),jt={allowSelfLoops:!0,multi:!1,type:\"mixed\"};function Ot(t,e,n){var r=new t.NodeDataClass(e,n);return t._nodes.set(e,r),t.emit(\"nodeAdded\",{key:e,attributes:n}),r}function Ct(t,e,n,r,i,o,a,u){if(!r&&\"undirected\"===t.type)throw new Y(\"Graph.\".concat(e,\": you cannot add a directed edge to an undirected graph. Use the #.addEdge or #.addUndirectedEdge instead.\"));if(r&&\"directed\"===t.type)throw new Y(\"Graph.\".concat(e,\": you cannot add an undirected edge to a directed graph. Use the #.addEdge or #.addDirectedEdge instead.\"));if(u&&!h(u))throw new F(\"Graph.\".concat(e,': invalid attributes. Expecting an object but got \"').concat(u,'\"'));if(o=\"\"+o,a=\"\"+a,u=u||{},!t.allowSelfLoops&&o===a)throw new Y(\"Graph.\".concat(e,': source & target are the same (\"').concat(o,\"\\\"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false.\"));var c=t._nodes.get(o),s=t._nodes.get(a);if(!c)throw new I(\"Graph.\".concat(e,': source node \"').concat(o,'\" not found.'));if(!s)throw new I(\"Graph.\".concat(e,': target node \"').concat(a,'\" not found.'));var d={key:null,undirected:r,source:o,target:a,attributes:u};if(n)i=t._edgeKeyGenerator();else if(i=\"\"+i,t._edges.has(i))throw new Y(\"Graph.\".concat(e,': the \"').concat(i,'\" edge already exists in the graph.'));if(!t.multi&&(r?void 0!==c.undirected[a]:void 0!==c.out[a]))throw new Y(\"Graph.\".concat(e,': an edge linking \"').concat(o,'\" to \"').concat(a,\"\\\" already exists. If you really want to add multiple edges linking those nodes, you should create a multi graph by using the 'multi' option.\"));var p=new H(r,i,c,s,u);t._edges.set(i,p);var f=o===a;return r?(c.undirectedDegree++,s.undirectedDegree++,f&&t._undirectedSelfLoopCount++):(c.outDegree++,s.inDegree++,f&&t._directedSelfLoopCount++),t.multi?p.attachMulti():p.attach(),r?t._undirectedSize++:t._directedSize++,d.key=i,t.emit(\"edgeAdded\",d),i}function zt(t,e,n,r,i,o,a,u,s){if(!r&&\"undirected\"===t.type)throw new Y(\"Graph.\".concat(e,\": you cannot merge/update a directed edge to an undirected graph. Use the #.mergeEdge/#.updateEdge or #.addUndirectedEdge instead.\"));if(r&&\"directed\"===t.type)throw new Y(\"Graph.\".concat(e,\": you cannot merge/update an undirected edge to a directed graph. Use the #.mergeEdge/#.updateEdge or #.addDirectedEdge instead.\"));if(u)if(s){if(\"function\"!=typeof u)throw new F(\"Graph.\".concat(e,': invalid updater function. Expecting a function but got \"').concat(u,'\"'))}else if(!h(u))throw new F(\"Graph.\".concat(e,': invalid attributes. Expecting an object but got \"').concat(u,'\"'));var d;if(o=\"\"+o,a=\"\"+a,s&&(d=u,u=void 0),!t.allowSelfLoops&&o===a)throw new Y(\"Graph.\".concat(e,': source & target are the same (\"').concat(o,\"\\\"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false.\"));var p,f,l=t._nodes.get(o),g=t._nodes.get(a);if(!n&&(p=t._edges.get(i))){if(!(p.source.key===o&&p.target.key===a||r&&p.source.key===a&&p.target.key===o))throw new Y(\"Graph.\".concat(e,': inconsistency detected when attempting to merge the \"').concat(i,'\" edge with \"').concat(o,'\" source & \"').concat(a,'\" target vs. (\"').concat(p.source.key,'\", \"').concat(p.target.key,'\").'));f=p}if(f||t.multi||!l||(f=r?l.undirected[a]:l.out[a]),f){var y=[f.key,!1,!1,!1];if(s?!d:!u)return y;if(s){var w=f.attributes;f.attributes=d(w),t.emit(\"edgeAttributesUpdated\",{type:\"replace\",key:f.key,attributes:f.attributes})}else c(f.attributes,u),t.emit(\"edgeAttributesUpdated\",{type:\"merge\",key:f.key,attributes:f.attributes,data:u});return y}u=u||{},s&&d&&(u=d(u));var v={key:null,undirected:r,source:o,target:a,attributes:u};if(n)i=t._edgeKeyGenerator();else if(i=\"\"+i,t._edges.has(i))throw new Y(\"Graph.\".concat(e,': the \"').concat(i,'\" edge already exists in the graph.'));var b=!1,m=!1;l||(l=Ot(t,o,{}),b=!0,o===a&&(g=l,m=!0)),g||(g=Ot(t,a,{}),m=!0),p=new H(r,i,l,g,u),t._edges.set(i,p);var k=o===a;return r?(l.undirectedDegree++,g.undirectedDegree++,k&&t._undirectedSelfLoopCount++):(l.outDegree++,g.inDegree++,k&&t._directedSelfLoopCount++),t.multi?p.attachMulti():p.attach(),r?t._undirectedSize++:t._directedSize++,v.key=i,t.emit(\"edgeAdded\",v),[i,!0,b,m]}function Mt(t,e){t._edges.delete(e.key);var n=e.source,r=e.target,i=e.attributes,o=e.undirected,a=n===r;o?(n.undirectedDegree--,r.undirectedDegree--,a&&t._undirectedSelfLoopCount--):(n.outDegree--,r.inDegree--,a&&t._directedSelfLoopCount--),t.multi?e.detachMulti():e.detach(),o?t._undirectedSize--:t._directedSize--,t.emit(\"edgeDropped\",{key:e.key,attributes:i,source:n.key,target:r.key,undirected:o})}var Wt=function(n){function r(t){var e;if(e=n.call(this)||this,\"boolean\"!=typeof(t=c({},jt,t)).multi)throw new F(\"Graph.constructor: invalid 'multi' option. Expecting a boolean but got \\\"\".concat(t.multi,'\".'));if(!Ut.has(t.type))throw new F('Graph.constructor: invalid \\'type\\' option. Should be one of \"mixed\", \"directed\" or \"undirected\" but got \"'.concat(t.type,'\".'));if(\"boolean\"!=typeof t.allowSelfLoops)throw new F(\"Graph.constructor: invalid 'allowSelfLoops' option. Expecting a boolean but got \\\"\".concat(t.allowSelfLoops,'\".'));var r=\"mixed\"===t.type?q:\"directed\"===t.type?J:V;f(u(e),\"NodeDataClass\",r);var i=\"geid_\"+Lt()+\"_\",o=0;return f(u(e),\"_attributes\",{}),f(u(e),\"_nodes\",new Map),f(u(e),\"_edges\",new Map),f(u(e),\"_directedSize\",0),f(u(e),\"_undirectedSize\",0),f(u(e),\"_directedSelfLoopCount\",0),f(u(e),\"_undirectedSelfLoopCount\",0),f(u(e),\"_edgeKeyGenerator\",(function(){var t;do{t=i+o++}while(e._edges.has(t));return t})),f(u(e),\"_options\",t),Nt.forEach((function(t){return f(u(e),t,e[t])})),l(u(e),\"order\",(function(){return e._nodes.size})),l(u(e),\"size\",(function(){return e._edges.size})),l(u(e),\"directedSize\",(function(){return e._directedSize})),l(u(e),\"undirectedSize\",(function(){return e._undirectedSize})),l(u(e),\"selfLoopCount\",(function(){return e._directedSelfLoopCount+e._undirectedSelfLoopCount})),l(u(e),\"directedSelfLoopCount\",(function(){return e._directedSelfLoopCount})),l(u(e),\"undirectedSelfLoopCount\",(function(){return e._undirectedSelfLoopCount})),l(u(e),\"multi\",e._options.multi),l(u(e),\"type\",e._options.type),l(u(e),\"allowSelfLoops\",e._options.allowSelfLoops),l(u(e),\"implementation\",(function(){return\"graphology\"})),e}e(r,n);var i=r.prototype;return i._resetInstanceCounters=function(){this._directedSize=0,this._undirectedSize=0,this._directedSelfLoopCount=0,this._undirectedSelfLoopCount=0},i.hasNode=function(t){return this._nodes.has(\"\"+t)},i.hasDirectedEdge=function(t,e){if(\"undirected\"===this.type)return!1;if(1===arguments.length){var n=\"\"+t,r=this._edges.get(n);return!!r&&!r.undirected}if(2===arguments.length){t=\"\"+t,e=\"\"+e;var i=this._nodes.get(t);if(!i)return!1;var o=i.out[e];return!!o&&(!this.multi||!!o.size)}throw new F(\"Graph.hasDirectedEdge: invalid arity (\".concat(arguments.length,\", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.\"))},i.hasUndirectedEdge=function(t,e){if(\"directed\"===this.type)return!1;if(1===arguments.length){var n=\"\"+t,r=this._edges.get(n);return!!r&&r.undirected}if(2===arguments.length){t=\"\"+t,e=\"\"+e;var i=this._nodes.get(t);if(!i)return!1;var o=i.undirected[e];return!!o&&(!this.multi||!!o.size)}throw new F(\"Graph.hasDirectedEdge: invalid arity (\".concat(arguments.length,\", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.\"))},i.hasEdge=function(t,e){if(1===arguments.length){var n=\"\"+t;return this._edges.has(n)}if(2===arguments.length){t=\"\"+t,e=\"\"+e;var r=this._nodes.get(t);if(!r)return!1;var i=void 0!==r.out&&r.out[e];return i||(i=void 0!==r.undirected&&r.undirected[e]),!!i&&(!this.multi||!!i.size)}throw new F(\"Graph.hasEdge: invalid arity (\".concat(arguments.length,\", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.\"))},i.directedEdge=function(t,e){if(\"undirected\"!==this.type){if(t=\"\"+t,e=\"\"+e,this.multi)throw new Y(\"Graph.directedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.directedEdges instead.\");var n=this._nodes.get(t);if(!n)throw new I('Graph.directedEdge: could not find the \"'.concat(t,'\" source node in the graph.'));if(!this._nodes.has(e))throw new I('Graph.directedEdge: could not find the \"'.concat(e,'\" target node in the graph.'));var r=n.out&&n.out[e]||void 0;return r?r.key:void 0}},i.undirectedEdge=function(t,e){if(\"directed\"!==this.type){if(t=\"\"+t,e=\"\"+e,this.multi)throw new Y(\"Graph.undirectedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.undirectedEdges instead.\");var n=this._nodes.get(t);if(!n)throw new I('Graph.undirectedEdge: could not find the \"'.concat(t,'\" source node in the graph.'));if(!this._nodes.has(e))throw new I('Graph.undirectedEdge: could not find the \"'.concat(e,'\" target node in the graph.'));var r=n.undirected&&n.undirected[e]||void 0;return r?r.key:void 0}},i.edge=function(t,e){if(this.multi)throw new Y(\"Graph.edge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.edges instead.\");t=\"\"+t,e=\"\"+e;var n=this._nodes.get(t);if(!n)throw new I('Graph.edge: could not find the \"'.concat(t,'\" source node in the graph.'));if(!this._nodes.has(e))throw new I('Graph.edge: could not find the \"'.concat(e,'\" target node in the graph.'));var r=n.out&&n.out[e]||n.undirected&&n.undirected[e]||void 0;if(r)return r.key},i.areDirectedNeighbors=function(t,e){t=\"\"+t,e=\"\"+e;var n=this._nodes.get(t);if(!n)throw new I('Graph.areDirectedNeighbors: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"!==this.type&&(e in n.in||e in n.out)},i.areOutNeighbors=function(t,e){t=\"\"+t,e=\"\"+e;var n=this._nodes.get(t);if(!n)throw new I('Graph.areOutNeighbors: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"!==this.type&&e in n.out},i.areInNeighbors=function(t,e){t=\"\"+t,e=\"\"+e;var n=this._nodes.get(t);if(!n)throw new I('Graph.areInNeighbors: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"!==this.type&&e in n.in},i.areUndirectedNeighbors=function(t,e){t=\"\"+t,e=\"\"+e;var n=this._nodes.get(t);if(!n)throw new I('Graph.areUndirectedNeighbors: could not find the \"'.concat(t,'\" node in the graph.'));return\"directed\"!==this.type&&e in n.undirected},i.areNeighbors=function(t,e){t=\"\"+t,e=\"\"+e;var n=this._nodes.get(t);if(!n)throw new I('Graph.areNeighbors: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"!==this.type&&(e in n.in||e in n.out)||\"directed\"!==this.type&&e in n.undirected},i.areInboundNeighbors=function(t,e){t=\"\"+t,e=\"\"+e;var n=this._nodes.get(t);if(!n)throw new I('Graph.areInboundNeighbors: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"!==this.type&&e in n.in||\"directed\"!==this.type&&e in n.undirected},i.areOutboundNeighbors=function(t,e){t=\"\"+t,e=\"\"+e;var n=this._nodes.get(t);if(!n)throw new I('Graph.areOutboundNeighbors: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"!==this.type&&e in n.out||\"directed\"!==this.type&&e in n.undirected},i.inDegree=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new I('Graph.inDegree: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"===this.type?0:e.inDegree},i.outDegree=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new I('Graph.outDegree: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"===this.type?0:e.outDegree},i.directedDegree=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new I('Graph.directedDegree: could not find the \"'.concat(t,'\" node in the graph.'));return\"undirected\"===this.type?0:e.inDegree+e.outDegree},i.undirectedDegree=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new I('Graph.undirectedDegree: could not find the \"'.concat(t,'\" node in the graph.'));return\"directed\"===this.type?0:e.undirectedDegree},i.inboundDegree=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new I('Graph.inboundDegree: could not find the \"'.concat(t,'\" node in the graph.'));var n=0;return\"directed\"!==this.type&&(n+=e.undirectedDegree),\"undirected\"!==this.type&&(n+=e.inDegree),n},i.outboundDegree=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new I('Graph.outboundDegree: could not find the \"'.concat(t,'\" node in the graph.'));var n=0;return\"directed\"!==this.type&&(n+=e.undirectedDegree),\"undirected\"!==this.type&&(n+=e.outDegree),n},i.degree=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new I('Graph.degree: could not find the \"'.concat(t,'\" node in the graph.'));var n=0;return\"directed\"!==this.type&&(n+=e.undirectedDegree),\"undirected\"!==this.type&&(n+=e.inDegree+e.outDegree),n},i.inDegreeWithoutSelfLoops=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new I('Graph.inDegreeWithoutSelfLoops: could not find the \"'.concat(t,'\" node in the graph.'));if(\"undirected\"===this.type)return 0;var n=e.in[t],r=n?this.multi?n.size:1:0;return e.inDegree-r},i.outDegreeWithoutSelfLoops=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new I('Graph.outDegreeWithoutSelfLoops: could not find the \"'.concat(t,'\" node in the graph.'));if(\"undirected\"===this.type)return 0;var n=e.out[t],r=n?this.multi?n.size:1:0;return e.outDegree-r},i.directedDegreeWithoutSelfLoops=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new I('Graph.directedDegreeWithoutSelfLoops: could not find the \"'.concat(t,'\" node in the graph.'));if(\"undirected\"===this.type)return 0;var n=e.out[t],r=n?this.multi?n.size:1:0;return e.inDegree+e.outDegree-2*r},i.undirectedDegreeWithoutSelfLoops=function(t){t=\"\"+t;var e=this._nodes.get(t);if(!e)throw new I('Graph.undirectedDegreeWithoutSelfLoops: could not find the \"'.concat(t,'\" node in the graph.'));if(\"directed\"===this.type)return 0;var n=e.undirected[t],r=n?this.multi?n.size:1:0;return e.undirectedDegree-2*r},i.inboundDegreeWithoutSelfLoops=function(t){t=\"\"+t;var e,n=this._nodes.get(t);if(!n)throw new I('Graph.inboundDegreeWithoutSelfLoops: could not find the \"'.concat(t,'\" node in the graph.'));var r=0,i=0;return\"directed\"!==this.type&&(r+=n.undirectedDegree,i+=2*((e=n.undirected[t])?this.multi?e.size:1:0)),\"undirected\"!==this.type&&(r+=n.inDegree,i+=(e=n.out[t])?this.multi?e.size:1:0),r-i},i.outboundDegreeWithoutSelfLoops=function(t){t=\"\"+t;var e,n=this._nodes.get(t);if(!n)throw new I('Graph.outboundDegreeWithoutSelfLoops: could not find the \"'.concat(t,'\" node in the graph.'));var r=0,i=0;return\"directed\"!==this.type&&(r+=n.undirectedDegree,i+=2*((e=n.undirected[t])?this.multi?e.size:1:0)),\"undirected\"!==this.type&&(r+=n.outDegree,i+=(e=n.in[t])?this.multi?e.size:1:0),r-i},i.degreeWithoutSelfLoops=function(t){t=\"\"+t;var e,n=this._nodes.get(t);if(!n)throw new I('Graph.degreeWithoutSelfLoops: could not find the \"'.concat(t,'\" node in the graph.'));var r=0,i=0;return\"directed\"!==this.type&&(r+=n.undirectedDegree,i+=2*((e=n.undirected[t])?this.multi?e.size:1:0)),\"undirected\"!==this.type&&(r+=n.inDegree+n.outDegree,i+=2*((e=n.out[t])?this.multi?e.size:1:0)),r-i},i.source=function(t){t=\"\"+t;var e=this._edges.get(t);if(!e)throw new I('Graph.source: could not find the \"'.concat(t,'\" edge in the graph.'));return e.source.key},i.target=function(t){t=\"\"+t;var e=this._edges.get(t);if(!e)throw new I('Graph.target: could not find the \"'.concat(t,'\" edge in the graph.'));return e.target.key},i.extremities=function(t){t=\"\"+t;var e=this._edges.get(t);if(!e)throw new I('Graph.extremities: could not find the \"'.concat(t,'\" edge in the graph.'));return[e.source.key,e.target.key]},i.opposite=function(t,e){t=\"\"+t,e=\"\"+e;var n=this._edges.get(e);if(!n)throw new I('Graph.opposite: could not find the \"'.concat(e,'\" edge in the graph.'));var r=n.source.key,i=n.target.key;if(t===r)return i;if(t===i)return r;throw new I('Graph.opposite: the \"'.concat(t,'\" node is not attached to the \"').concat(e,'\" edge (').concat(r,\", \").concat(i,\").\"))},i.hasExtremity=function(t,e){t=\"\"+t,e=\"\"+e;var n=this._edges.get(t);if(!n)throw new I('Graph.hasExtremity: could not find the \"'.concat(t,'\" edge in the graph.'));return n.source.key===e||n.target.key===e},i.isUndirected=function(t){t=\"\"+t;var e=this._edges.get(t);if(!e)throw new I('Graph.isUndirected: could not find the \"'.concat(t,'\" edge in the graph.'));return e.undirected},i.isDirected=function(t){t=\"\"+t;var e=this._edges.get(t);if(!e)throw new I('Graph.isDirected: could not find the \"'.concat(t,'\" edge in the graph.'));return!e.undirected},i.isSelfLoop=function(t){t=\"\"+t;var e=this._edges.get(t);if(!e)throw new I('Graph.isSelfLoop: could not find the \"'.concat(t,'\" edge in the graph.'));return e.source===e.target},i.addNode=function(t,e){var n=function(t,e,n){if(n&&!h(n))throw new F('Graph.addNode: invalid attributes. Expecting an object but got \"'.concat(n,'\"'));if(e=\"\"+e,n=n||{},t._nodes.has(e))throw new Y('Graph.addNode: the \"'.concat(e,'\" node already exist in the graph.'));var r=new t.NodeDataClass(e,n);return t._nodes.set(e,r),t.emit(\"nodeAdded\",{key:e,attributes:n}),r}(this,t,e);return n.key},i.mergeNode=function(t,e){if(e&&!h(e))throw new F('Graph.mergeNode: invalid attributes. Expecting an object but got \"'.concat(e,'\"'));t=\"\"+t,e=e||{};var n=this._nodes.get(t);return n?(e&&(c(n.attributes,e),this.emit(\"nodeAttributesUpdated\",{type:\"merge\",key:t,attributes:n.attributes,data:e})),[t,!1]):(n=new this.NodeDataClass(t,e),this._nodes.set(t,n),this.emit(\"nodeAdded\",{key:t,attributes:e}),[t,!0])},i.updateNode=function(t,e){if(e&&\"function\"!=typeof e)throw new F('Graph.updateNode: invalid updater function. Expecting a function but got \"'.concat(e,'\"'));t=\"\"+t;var n=this._nodes.get(t);if(n){if(e){var r=n.attributes;n.attributes=e(r),this.emit(\"nodeAttributesUpdated\",{type:\"replace\",key:t,attributes:n.attributes})}return[t,!1]}var i=e?e({}):{};return n=new this.NodeDataClass(t,i),this._nodes.set(t,n),this.emit(\"nodeAdded\",{key:t,attributes:i}),[t,!0]},i.dropNode=function(t){t=\"\"+t;var e,n=this._nodes.get(t);if(!n)throw new I('Graph.dropNode: could not find the \"'.concat(t,'\" node in the graph.'));if(\"undirected\"!==this.type){for(var r in n.out){e=n.out[r];do{Mt(this,e),e=e.next}while(e)}for(var i in n.in){e=n.in[i];do{Mt(this,e),e=e.next}while(e)}}if(\"directed\"!==this.type)for(var o in n.undirected){e=n.undirected[o];do{Mt(this,e),e=e.next}while(e)}this._nodes.delete(t),this.emit(\"nodeDropped\",{key:t,attributes:n.attributes})},i.dropEdge=function(t){var e;if(arguments.length>1){var n=\"\"+arguments[0],r=\"\"+arguments[1];if(!(e=s(this,n,r,this.type)))throw new I('Graph.dropEdge: could not find the \"'.concat(n,'\" -> \"').concat(r,'\" edge in the graph.'))}else if(t=\"\"+t,!(e=this._edges.get(t)))throw new I('Graph.dropEdge: could not find the \"'.concat(t,'\" edge in the graph.'));return Mt(this,e),this},i.dropDirectedEdge=function(t,e){if(arguments.length<2)throw new Y(\"Graph.dropDirectedEdge: it does not make sense to try and drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.\");if(this.multi)throw new Y(\"Graph.dropDirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.\");var n=s(this,t=\"\"+t,e=\"\"+e,\"directed\");if(!n)throw new I('Graph.dropDirectedEdge: could not find a \"'.concat(t,'\" -> \"').concat(e,'\" edge in the graph.'));return Mt(this,n),this},i.dropUndirectedEdge=function(t,e){if(arguments.length<2)throw new Y(\"Graph.dropUndirectedEdge: it does not make sense to drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.\");if(this.multi)throw new Y(\"Graph.dropUndirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.\");var n=s(this,t,e,\"undirected\");if(!n)throw new I('Graph.dropUndirectedEdge: could not find a \"'.concat(t,'\" -> \"').concat(e,'\" edge in the graph.'));return Mt(this,n),this},i.clear=function(){this._edges.clear(),this._nodes.clear(),this._resetInstanceCounters(),this.emit(\"cleared\")},i.clearEdges=function(){for(var t,e=this._nodes.values();!0!==(t=e.next()).done;)t.value.clear();this._edges.clear(),this._resetInstanceCounters(),this.emit(\"edgesCleared\")},i.getAttribute=function(t){return this._attributes[t]},i.getAttributes=function(){return this._attributes},i.hasAttribute=function(t){return this._attributes.hasOwnProperty(t)},i.setAttribute=function(t,e){return this._attributes[t]=e,this.emit(\"attributesUpdated\",{type:\"set\",attributes:this._attributes,name:t}),this},i.updateAttribute=function(t,e){if(\"function\"!=typeof e)throw new F(\"Graph.updateAttribute: updater should be a function.\");var n=this._attributes[t];return this._attributes[t]=e(n),this.emit(\"attributesUpdated\",{type:\"set\",attributes:this._attributes,name:t}),this},i.removeAttribute=function(t){return delete this._attributes[t],this.emit(\"attributesUpdated\",{type:\"remove\",attributes:this._attributes,name:t}),this},i.replaceAttributes=function(t){if(!h(t))throw new F(\"Graph.replaceAttributes: provided attributes are not a plain object.\");return this._attributes=t,this.emit(\"attributesUpdated\",{type:\"replace\",attributes:this._attributes}),this},i.mergeAttributes=function(t){if(!h(t))throw new F(\"Graph.mergeAttributes: provided attributes are not a plain object.\");return c(this._attributes,t),this.emit(\"attributesUpdated\",{type:\"merge\",attributes:this._attributes,data:t}),this},i.updateAttributes=function(t){if(\"function\"!=typeof t)throw new F(\"Graph.updateAttributes: provided updater is not a function.\");return this._attributes=t(this._attributes),this.emit(\"attributesUpdated\",{type:\"update\",attributes:this._attributes}),this},i.updateEachNodeAttributes=function(t,e){if(\"function\"!=typeof t)throw new F(\"Graph.updateEachNodeAttributes: expecting an updater function.\");if(e&&!g(e))throw new F(\"Graph.updateEachNodeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}\");for(var n,r,i=this._nodes.values();!0!==(n=i.next()).done;)(r=n.value).attributes=t(r.key,r.attributes);this.emit(\"eachNodeAttributesUpdated\",{hints:e||null})},i.updateEachEdgeAttributes=function(t,e){if(\"function\"!=typeof t)throw new F(\"Graph.updateEachEdgeAttributes: expecting an updater function.\");if(e&&!g(e))throw new F(\"Graph.updateEachEdgeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}\");for(var n,r,i,o,a=this._edges.values();!0!==(n=a.next()).done;)i=(r=n.value).source,o=r.target,r.attributes=t(r.key,r.attributes,i.key,o.key,i.attributes,o.attributes,r.undirected);this.emit(\"eachEdgeAttributesUpdated\",{hints:e||null})},i.forEachAdjacencyEntry=function(t){if(\"function\"!=typeof t)throw new F(\"Graph.forEachAdjacencyEntry: expecting a callback.\");Et(!1,!1,!1,this,t)},i.forEachAdjacencyEntryWithOrphans=function(t){if(\"function\"!=typeof t)throw new F(\"Graph.forEachAdjacencyEntryWithOrphans: expecting a callback.\");Et(!1,!1,!0,this,t)},i.forEachAssymetricAdjacencyEntry=function(t){if(\"function\"!=typeof t)throw new F(\"Graph.forEachAssymetricAdjacencyEntry: expecting a callback.\");Et(!1,!0,!1,this,t)},i.forEachAssymetricAdjacencyEntryWithOrphans=function(t){if(\"function\"!=typeof t)throw new F(\"Graph.forEachAssymetricAdjacencyEntryWithOrphans: expecting a callback.\");Et(!1,!0,!0,this,t)},i.nodes=function(){return\"function\"==typeof Array.from?Array.from(this._nodes.keys()):T(this._nodes.keys(),this._nodes.size)},i.forEachNode=function(t){if(\"function\"!=typeof t)throw new F(\"Graph.forEachNode: expecting a callback.\");for(var e,n,r=this._nodes.values();!0!==(e=r.next()).done;)t((n=e.value).key,n.attributes)},i.findNode=function(t){if(\"function\"!=typeof t)throw new F(\"Graph.findNode: expecting a callback.\");for(var e,n,r=this._nodes.values();!0!==(e=r.next()).done;)if(t((n=e.value).key,n.attributes))return n.key},i.mapNodes=function(t){if(\"function\"!=typeof t)throw new F(\"Graph.mapNode: expecting a callback.\");for(var e,n,r=this._nodes.values(),i=new Array(this.order),o=0;!0!==(e=r.next()).done;)n=e.value,i[o++]=t(n.key,n.attributes);return i},i.someNode=function(t){if(\"function\"!=typeof t)throw new F(\"Graph.someNode: expecting a callback.\");for(var e,n,r=this._nodes.values();!0!==(e=r.next()).done;)if(t((n=e.value).key,n.attributes))return!0;return!1},i.everyNode=function(t){if(\"function\"!=typeof t)throw new F(\"Graph.everyNode: expecting a callback.\");for(var e,n,r=this._nodes.values();!0!==(e=r.next()).done;)if(!t((n=e.value).key,n.attributes))return!1;return!0},i.filterNodes=function(t){if(\"function\"!=typeof t)throw new F(\"Graph.filterNodes: expecting a callback.\");for(var e,n,r=this._nodes.values(),i=[];!0!==(e=r.next()).done;)t((n=e.value).key,n.attributes)&&i.push(n.key);return i},i.reduceNodes=function(t,e){if(\"function\"!=typeof t)throw new F(\"Graph.reduceNodes: expecting a callback.\");if(arguments.length<2)throw new F(\"Graph.reduceNodes: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.\");for(var n,r,i=e,o=this._nodes.values();!0!==(n=o.next()).done;)i=t(i,(r=n.value).key,r.attributes);return i},i.nodeEntries=function(){var t=this._nodes.values();return new O((function(){var e=t.next();if(e.done)return e;var n=e.value;return{value:{node:n.key,attributes:n.attributes},done:!1}}))},i.export=function(){var t=new Array(this._nodes.size),e=0;this._nodes.forEach((function(n,r){t[e++]=function(t,e){var n={key:t};return p(e.attributes)||(n.attributes=c({},e.attributes)),n}(r,n)}));var n=new Array(this._edges.size);return e=0,this._edges.forEach((function(t,r){n[e++]=function(t,e){var n={key:t,source:e.source.key,target:e.target.key};return p(e.attributes)||(n.attributes=c({},e.attributes)),e.undirected&&(n.undirected=!0),n}(r,t)})),{options:{type:this.type,multi:this.multi,allowSelfLoops:this.allowSelfLoops},attributes:this.getAttributes(),nodes:t,edges:n}},i.import=function(t){var e,n,r,i,o,a=this,u=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(d(t))return t.forEachNode((function(t,e){u?a.mergeNode(t,e):a.addNode(t,e)})),t.forEachEdge((function(t,e,n,r,i,o,c){u?c?a.mergeUndirectedEdgeWithKey(t,n,r,e):a.mergeDirectedEdgeWithKey(t,n,r,e):c?a.addUndirectedEdgeWithKey(t,n,r,e):a.addDirectedEdgeWithKey(t,n,r,e)})),this;if(!h(t))throw new F(\"Graph.import: invalid argument. Expecting a serialized graph or, alternatively, a Graph instance.\");if(t.attributes){if(!h(t.attributes))throw new F(\"Graph.import: invalid attributes. Expecting a plain object.\");u?this.mergeAttributes(t.attributes):this.replaceAttributes(t.attributes)}if(t.nodes){if(r=t.nodes,!Array.isArray(r))throw new F(\"Graph.import: invalid nodes. Expecting an array.\");for(e=0,n=r.length;e<n;e++){At(i=r[e]);var c=i,s=c.key,p=c.attributes;u?this.mergeNode(s,p):this.addNode(s,p)}}if(t.edges){if(r=t.edges,!Array.isArray(r))throw new F(\"Graph.import: invalid edges. Expecting an array.\");for(e=0,n=r.length;e<n;e++){St(o=r[e]);var f=o,l=f.source,g=f.target,y=f.attributes,w=f.undirected,v=void 0!==w&&w;\"key\"in o?(u?v?this.mergeUndirectedEdgeWithKey:this.mergeDirectedEdgeWithKey:v?this.addUndirectedEdgeWithKey:this.addDirectedEdgeWithKey).call(this,o.key,l,g,y):(u?v?this.mergeUndirectedEdge:this.mergeDirectedEdge:v?this.addUndirectedEdge:this.addDirectedEdge).call(this,l,g,y)}}return this},i.nullCopy=function(t){var e=new r(c({},this._options,t));return e.replaceAttributes(c({},this.getAttributes())),e},i.emptyCopy=function(t){var e=this.nullCopy(t);return this._nodes.forEach((function(t,n){var r=c({},t.attributes);t=new e.NodeDataClass(n,r),e._nodes.set(n,t)})),e},i.copy=function(t){if(\"string\"==typeof(t=t||{}).type&&t.type!==this.type&&\"mixed\"!==t.type)throw new Y('Graph.copy: cannot create an incompatible copy from \"'.concat(this.type,'\" type to \"').concat(t.type,'\" because this would mean losing information about the current graph.'));if(\"boolean\"==typeof t.multi&&t.multi!==this.multi&&!0!==t.multi)throw new Y(\"Graph.copy: cannot create an incompatible copy by downgrading a multi graph to a simple one because this would mean losing information about the current graph.\");if(\"boolean\"==typeof t.allowSelfLoops&&t.allowSelfLoops!==this.allowSelfLoops&&!0!==t.allowSelfLoops)throw new Y(\"Graph.copy: cannot create an incompatible copy from a graph allowing self loops to one that does not because this would mean losing information about the current graph.\");for(var e,n,r=this.emptyCopy(t),i=this._edges.values();!0!==(e=i.next()).done;)Ct(r,\"copy\",!1,(n=e.value).undirected,n.key,n.source.key,n.target.key,c({},n.attributes));return r},i.toJSON=function(){return this.export()},i.toString=function(){return\"[object Graph]\"},i.inspect=function(){var e=this,n={};this._nodes.forEach((function(t,e){n[e]=t.attributes}));var r={},i={};this._edges.forEach((function(t,n){var o,a=t.undirected?\"--\":\"->\",u=\"\",c=t.source.key,s=t.target.key;t.undirected&&c>s&&(o=c,c=s,s=o);var d=\"(\".concat(c,\")\").concat(a,\"(\").concat(s,\")\");n.startsWith(\"geid_\")?e.multi&&(void 0===i[d]?i[d]=0:i[d]++,u+=\"\".concat(i[d],\". \")):u+=\"[\".concat(n,\"]: \"),r[u+=d]=t.attributes}));var o={};for(var a in this)this.hasOwnProperty(a)&&!Nt.has(a)&&\"function\"!=typeof this[a]&&\"symbol\"!==t(a)&&(o[a]=this[a]);return o.attributes=this._attributes,o.nodes=n,o.edges=r,f(o,\"constructor\",this.constructor),o},r}(w.exports.EventEmitter);\"undefined\"!=typeof Symbol&&(Wt.prototype[Symbol.for(\"nodejs.util.inspect.custom\")]=Wt.prototype.inspect),[{name:function(t){return\"\".concat(t,\"Edge\")},generateKey:!0},{name:function(t){return\"\".concat(t,\"DirectedEdge\")},generateKey:!0,type:\"directed\"},{name:function(t){return\"\".concat(t,\"UndirectedEdge\")},generateKey:!0,type:\"undirected\"},{name:function(t){return\"\".concat(t,\"EdgeWithKey\")}},{name:function(t){return\"\".concat(t,\"DirectedEdgeWithKey\")},type:\"directed\"},{name:function(t){return\"\".concat(t,\"UndirectedEdgeWithKey\")},type:\"undirected\"}].forEach((function(t){[\"add\",\"merge\",\"update\"].forEach((function(e){var n=t.name(e),r=\"add\"===e?Ct:zt;t.generateKey?Wt.prototype[n]=function(i,o,a){return r(this,n,!0,\"undirected\"===(t.type||this.type),null,i,o,a,\"update\"===e)}:Wt.prototype[n]=function(i,o,a,u){return r(this,n,!1,\"undirected\"===(t.type||this.type),i,o,a,u,\"update\"===e)}}))})),function(t){X.forEach((function(e){var n=e.name,r=e.attacher;r(t,n(\"Node\"),0),r(t,n(\"Source\"),1),r(t,n(\"Target\"),2),r(t,n(\"Opposite\"),3)}))}(Wt),function(t){Z.forEach((function(e){var n=e.name,r=e.attacher;r(t,n(\"Edge\"),\"mixed\"),r(t,n(\"DirectedEdge\"),\"directed\"),r(t,n(\"UndirectedEdge\"),\"undirected\")}))}(Wt),function(t){nt.forEach((function(e){!function(t,e){var n=e.name,r=e.type,i=e.direction;t.prototype[n]=function(t,e){if(\"mixed\"!==r&&\"mixed\"!==this.type&&r!==this.type)return[];if(!arguments.length)return st(this,r);if(1===arguments.length){t=\"\"+t;var o=this._nodes.get(t);if(void 0===o)throw new I(\"Graph.\".concat(n,': could not find the \"').concat(t,'\" node in the graph.'));return ft(this.multi,\"mixed\"===r?this.type:r,i,o)}if(2===arguments.length){t=\"\"+t,e=\"\"+e;var a=this._nodes.get(t);if(!a)throw new I(\"Graph.\".concat(n,':  could not find the \"').concat(t,'\" source node in the graph.'));if(!this._nodes.has(e))throw new I(\"Graph.\".concat(n,':  could not find the \"').concat(e,'\" target node in the graph.'));return yt(r,this.multi,i,a,e)}throw new F(\"Graph.\".concat(n,\": too many arguments (expecting 0, 1 or 2 and got \").concat(arguments.length,\").\"))}}(t,e),function(t,e){var n=e.name,r=e.type,i=e.direction,o=\"forEach\"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[o]=function(t,e,n){if(\"mixed\"===r||\"mixed\"===this.type||r===this.type){if(1===arguments.length)return dt(!1,this,r,n=t);if(2===arguments.length){t=\"\"+t,n=e;var a=this._nodes.get(t);if(void 0===a)throw new I(\"Graph.\".concat(o,': could not find the \"').concat(t,'\" node in the graph.'));return pt(!1,this.multi,\"mixed\"===r?this.type:r,i,a,n)}if(3===arguments.length){t=\"\"+t,e=\"\"+e;var u=this._nodes.get(t);if(!u)throw new I(\"Graph.\".concat(o,':  could not find the \"').concat(t,'\" source node in the graph.'));if(!this._nodes.has(e))throw new I(\"Graph.\".concat(o,':  could not find the \"').concat(e,'\" target node in the graph.'));return gt(!1,r,this.multi,i,u,e,n)}throw new F(\"Graph.\".concat(o,\": too many arguments (expecting 1, 2 or 3 and got \").concat(arguments.length,\").\"))}};var a=\"map\"+n[0].toUpperCase()+n.slice(1);t.prototype[a]=function(){var t,e=Array.prototype.slice.call(arguments),n=e.pop();if(0===e.length){var i=0;\"directed\"!==r&&(i+=this.undirectedSize),\"undirected\"!==r&&(i+=this.directedSize),t=new Array(i);var a=0;e.push((function(e,r,i,o,u,c,s){t[a++]=n(e,r,i,o,u,c,s)}))}else t=[],e.push((function(e,r,i,o,a,u,c){t.push(n(e,r,i,o,a,u,c))}));return this[o].apply(this,e),t};var u=\"filter\"+n[0].toUpperCase()+n.slice(1);t.prototype[u]=function(){var t=Array.prototype.slice.call(arguments),e=t.pop(),n=[];return t.push((function(t,r,i,o,a,u,c){e(t,r,i,o,a,u,c)&&n.push(t)})),this[o].apply(this,t),n};var c=\"reduce\"+n[0].toUpperCase()+n.slice(1);t.prototype[c]=function(){var t,e,n=Array.prototype.slice.call(arguments);if(n.length<2||n.length>4)throw new F(\"Graph.\".concat(c,\": invalid number of arguments (expecting 2, 3 or 4 and got \").concat(n.length,\").\"));if(\"function\"==typeof n[n.length-1]&&\"function\"!=typeof n[n.length-2])throw new F(\"Graph.\".concat(c,\": missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.\"));2===n.length?(t=n[0],e=n[1],n=[]):3===n.length?(t=n[1],e=n[2],n=[n[0]]):4===n.length&&(t=n[2],e=n[3],n=[n[0],n[1]]);var r=e;return n.push((function(e,n,i,o,a,u,c){r=t(r,e,n,i,o,a,u,c)})),this[o].apply(this,n),r}}(t,e),function(t,e){var n=e.name,r=e.type,i=e.direction,o=\"find\"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[o]=function(t,e,n){if(\"mixed\"!==r&&\"mixed\"!==this.type&&r!==this.type)return!1;if(1===arguments.length)return dt(!0,this,r,n=t);if(2===arguments.length){t=\"\"+t,n=e;var a=this._nodes.get(t);if(void 0===a)throw new I(\"Graph.\".concat(o,': could not find the \"').concat(t,'\" node in the graph.'));return pt(!0,this.multi,\"mixed\"===r?this.type:r,i,a,n)}if(3===arguments.length){t=\"\"+t,e=\"\"+e;var u=this._nodes.get(t);if(!u)throw new I(\"Graph.\".concat(o,':  could not find the \"').concat(t,'\" source node in the graph.'));if(!this._nodes.has(e))throw new I(\"Graph.\".concat(o,':  could not find the \"').concat(e,'\" target node in the graph.'));return gt(!0,r,this.multi,i,u,e,n)}throw new F(\"Graph.\".concat(o,\": too many arguments (expecting 1, 2 or 3 and got \").concat(arguments.length,\").\"))};var a=\"some\"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[a]=function(){var t=Array.prototype.slice.call(arguments),e=t.pop();return t.push((function(t,n,r,i,o,a,u){return e(t,n,r,i,o,a,u)})),!!this[o].apply(this,t)};var u=\"every\"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[u]=function(){var t=Array.prototype.slice.call(arguments),e=t.pop();return t.push((function(t,n,r,i,o,a,u){return!e(t,n,r,i,o,a,u)})),!this[o].apply(this,t)}}(t,e),function(t,e){var n=e.name,r=e.type,i=e.direction,o=n.slice(0,-1)+\"Entries\";t.prototype[o]=function(t,e){if(\"mixed\"!==r&&\"mixed\"!==this.type&&r!==this.type)return O.empty();if(!arguments.length)return ht(this,r);if(1===arguments.length){t=\"\"+t;var n=this._nodes.get(t);if(!n)throw new I(\"Graph.\".concat(o,': could not find the \"').concat(t,'\" node in the graph.'));return lt(r,i,n)}if(2===arguments.length){t=\"\"+t,e=\"\"+e;var a=this._nodes.get(t);if(!a)throw new I(\"Graph.\".concat(o,':  could not find the \"').concat(t,'\" source node in the graph.'));if(!this._nodes.has(e))throw new I(\"Graph.\".concat(o,':  could not find the \"').concat(e,'\" target node in the graph.'));return wt(r,i,a,e)}throw new F(\"Graph.\".concat(o,\": too many arguments (expecting 0, 1 or 2 and got \").concat(arguments.length,\").\"))}}(t,e)}))}(Wt),function(t){vt.forEach((function(e){Gt(t,e),function(t,e){var n=e.name,r=e.type,i=e.direction,o=\"forEach\"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[o]=function(t,e){if(\"mixed\"===r||\"mixed\"===this.type||r===this.type){t=\"\"+t;var n=this._nodes.get(t);if(void 0===n)throw new I(\"Graph.\".concat(o,': could not find the \"').concat(t,'\" node in the graph.'));kt(!1,\"mixed\"===r?this.type:r,i,n,e)}};var a=\"map\"+n[0].toUpperCase()+n.slice(1);t.prototype[a]=function(t,e){var n=[];return this[o](t,(function(t,r){n.push(e(t,r))})),n};var u=\"filter\"+n[0].toUpperCase()+n.slice(1);t.prototype[u]=function(t,e){var n=[];return this[o](t,(function(t,r){e(t,r)&&n.push(t)})),n};var c=\"reduce\"+n[0].toUpperCase()+n.slice(1);t.prototype[c]=function(t,e,n){if(arguments.length<3)throw new F(\"Graph.\".concat(c,\": missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.\"));var r=n;return this[o](t,(function(t,n){r=e(r,t,n)})),r}}(t,e),function(t,e){var n=e.name,r=e.type,i=e.direction,o=n[0].toUpperCase()+n.slice(1,-1),a=\"find\"+o;t.prototype[a]=function(t,e){if(\"mixed\"===r||\"mixed\"===this.type||r===this.type){t=\"\"+t;var n=this._nodes.get(t);if(void 0===n)throw new I(\"Graph.\".concat(a,': could not find the \"').concat(t,'\" node in the graph.'));return kt(!0,\"mixed\"===r?this.type:r,i,n,e)}};var u=\"some\"+o;t.prototype[u]=function(t,e){return!!this[a](t,e)};var c=\"every\"+o;t.prototype[c]=function(t,e){return!this[a](t,(function(t,n){return!e(t,n)}))}}(t,e),xt(t,e)}))}(Wt);var Pt=function(t){function n(e){var n=c({type:\"directed\"},e);if(\"multi\"in n&&!1!==n.multi)throw new F(\"DirectedGraph.from: inconsistent indication that the graph should be multi in given options!\");if(\"directed\"!==n.type)throw new F('DirectedGraph.from: inconsistent \"'+n.type+'\" type in given options!');return t.call(this,n)||this}return e(n,t),n}(Wt),Rt=function(t){function n(e){var n=c({type:\"undirected\"},e);if(\"multi\"in n&&!1!==n.multi)throw new F(\"UndirectedGraph.from: inconsistent indication that the graph should be multi in given options!\");if(\"undirected\"!==n.type)throw new F('UndirectedGraph.from: inconsistent \"'+n.type+'\" type in given options!');return t.call(this,n)||this}return e(n,t),n}(Wt),Kt=function(t){function n(e){var n=c({multi:!0},e);if(\"multi\"in n&&!0!==n.multi)throw new F(\"MultiGraph.from: inconsistent indication that the graph should be simple in given options!\");return t.call(this,n)||this}return e(n,t),n}(Wt),Tt=function(t){function n(e){var n=c({type:\"directed\",multi:!0},e);if(\"multi\"in n&&!0!==n.multi)throw new F(\"MultiDirectedGraph.from: inconsistent indication that the graph should be simple in given options!\");if(\"directed\"!==n.type)throw new F('MultiDirectedGraph.from: inconsistent \"'+n.type+'\" type in given options!');return t.call(this,n)||this}return e(n,t),n}(Wt),Bt=function(t){function n(e){var n=c({type:\"undirected\",multi:!0},e);if(\"multi\"in n&&!0!==n.multi)throw new F(\"MultiUndirectedGraph.from: inconsistent indication that the graph should be simple in given options!\");if(\"undirected\"!==n.type)throw new F('MultiUndirectedGraph.from: inconsistent \"'+n.type+'\" type in given options!');return t.call(this,n)||this}return e(n,t),n}(Wt);function Ft(t){t.from=function(e,n){var r=c({},e.options,n),i=new t(r);return i.import(e),i}}return Ft(Wt),Ft(Pt),Ft(Rt),Ft(Kt),Ft(Tt),Ft(Bt),Wt.Graph=Wt,Wt.DirectedGraph=Pt,Wt.UndirectedGraph=Rt,Wt.MultiGraph=Kt,Wt.MultiDirectedGraph=Tt,Wt.MultiUndirectedGraph=Bt,Wt.InvalidArgumentsGraphError=F,Wt.NotFoundGraphError=I,Wt.UsageGraphError=Y,Wt}));\n//# sourceMappingURL=graphology.umd.min.js.map\n"],"names":["$dDQ7z","parcelRequire","$58c87e6bad909ac6$export$be5234c0b764b6e0","Symbol","val","$58c87e6bad909ac6$export$ab8f1c00731ee83e","Map","canHandle","$58c87e6bad909ac6$var$isObject","obj","ref","MessageChannel","port1","port2","$58c87e6bad909ac6$export$9b7f6e342a8cbd38","port","start","target","value","$58c87e6bad909ac6$var$throwMarker","param","Error","isError","message","name","stack","deserialize","serialized","Object","assign","obj1","length","arguments","self","callback","ev","data","id","ref2","type","path","argumentList","map","$58c87e6bad909ac6$var$fromWireValue","parent","slice","reduce","prop","rawValue","returnValue1","apply","$58c87e6bad909ac6$export$923f96dd5afa9ce6","$dsFfn","default","$ciubM","ref1","$58c87e6bad909ac6$export$c9b234447cf4ef7c","undefined","value1","$j9Iow","Promise","resolve","catch","then","returnValue","$58c87e6bad909ac6$var$toWireValue","wireValue","transferables","ep","postMessage","removeEventListener","$58c87e6bad909ac6$var$closeEndPoint","endpoint","constructor","close","isReleased","Proxy","_target","isProxyReleased","$58c87e6bad909ac6$export$89981d4b8d9f48aa","$58c87e6bad909ac6$var$requestResponseMessage","p","toString","r","bind","$58c87e6bad909ac6$var$createProxy","concat","$58c87e6bad909ac6$var$throwIfProxyReleased","_thisArg","rawArgumentList","last","$58c87e6bad909ac6$export$39fb953702b7fcd7","$58c87e6bad909ac6$var$processArguments","construct","arr","processed","v","Array","prototype","$58c87e6bad909ac6$var$transferCache","WeakMap","transfers","set","_iteratorNormalCompletion","_didIteratorError","_iteratorError","handler","serialize","err","_iterator","return","get","msg","$e4044b8154fa92b0$export$2e2bcd8739ae039","ReferenceError","$187c4144c6a67abe$var$asyncGeneratorStep","gen","reject","_next","_throw","key","arg","info","error","done","$187c4144c6a67abe$export$2e2bcd8739ae039","fn","this","args","$ac9faa26fa7ec44d$export$2e2bcd8739ae039","instance","Constructor","TypeError","$2IMmB","$9ccde2aba8f265cd$var$isNativeReflectConstruct","Reflect","sham","Date","call","e","$9ccde2aba8f265cd$var$construct","Parent1","args1","Class1","Parent","Class","a","push","Function","$9ccde2aba8f265cd$export$2e2bcd8739ae039","$1fb534d731120aa2$var$setPrototypeOf","o1","p1","setPrototypeOf","o","__proto__","$1fb534d731120aa2$export$2e2bcd8739ae039","$06880cd84c64632f$var$_defineProperties","props","i","descriptor","enumerable","configurable","writable","defineProperty","$06880cd84c64632f$export$2e2bcd8739ae039","protoProps","staticProps","$5HFAF","$00885a921b2b65db$export$2e2bcd8739ae039","Derived","hasNativeReflectConstruct","result","Super","$icJ7n","NewTarget","$fxgve","$42713ae858e78e0c$export$2e2bcd8739ae039","Boolean","valueOf","$d40c5874763bdc7f$var$getPrototypeOf","getPrototypeOf","$d40c5874763bdc7f$export$2e2bcd8739ae039","$jzJ8f","$b4f6bd33c38c53dc$export$2e2bcd8739ae039","$19RbB","$0d7fe35f5140e933$export$2e2bcd8739ae039","$df214b6f9f1af81d$export$2e2bcd8739ae039","$2qV4g","$c1b80b6917b9e61e$var$get","target1","property1","receiver1","property","receiver","base","desc","getOwnPropertyDescriptor","$c1b80b6917b9e61e$export$2e2bcd8739ae039","reciever","$1c5a46edede777f9$export$2e2bcd8739ae039","object","hasOwnProperty","$31c0fb2c490cea6c$export$2e2bcd8739ae039","subClass","superClass","create","$8fc32a63010939ba$export$2e2bcd8739ae039","source","ownKeys","keys","getOwnPropertySymbols","filter","sym","forEach","$1GiyC","$9ee7590ab8825966$export$2e2bcd8739ae039","$jlEoW","$f93m1","$blfqo","$13981bc723750738$export$2e2bcd8739ae039","isArray","$e15f515596a27337$export$2e2bcd8739ae039","iter","iterator","from","$841d9ee9868a4d2c$export$2e2bcd8739ae039","$iJdxk","$b06a4c601790d7d1$export$2e2bcd8739ae039","minLen","n","test","$da26ee05db0a9bd7$export$2e2bcd8739ae039","len","arr2","$a4b4b7bb4beefae9$export$2e2bcd8739ae039","strings","raw","freeze","defineProperties","$9PZG0","$8f3e956276a8e46b$export$2e2bcd8739ae039","$4V7K7","$7298b82673fb26ab$export$2e2bcd8739ae039","$39527de157bc0a98$export$2e2bcd8739ae039","$72fdb3baf01d4137$var$wrapNativeSuper","_cache","$1p5Yl","has","Wrapper","$72fdb3baf01d4137$export$2e2bcd8739ae039","$105cc234174e2e27$export$2e2bcd8739ae039","indexOf","$778cb631993bbfda$var$ajv","$parcel$interopDefault","$8WDyN","$778cb631993bbfda$export$a6996f2dbf383186","$778cb631993bbfda$export$985739bfa5723e08","setup","JSON","parse","validate","schema","errorsText","errors","graph","initialNode","player","nodesNotInW","nodesToBeMovedToW","Set","forEachNode","node","attributes1","winning","add","reduceOutEdges","_","attributes","nodesInW","strategyEdges","size","_step","next","node1","delete","console","assert","forEachInEdge","edge","sourceNode","setEdgeAttribute","cb","interval","nextTime","$lq8Jt","MultiDirectedGraph","players","getPlayers","pendingStates","callbackIfItsTime","currentTime","export","addState","x","y","state","_this","getWinningPlayersFromState","addNode","label","color","initialState","getInitialState","encodeState","setNodeAttribute","popped","pop","_popped","x1","y1","name1","state1","offset","getNextStates","_value","nextStates","playerInfo","_iteratorNormalCompletion1","_didIteratorError1","_iteratorError1","_step1","_iterator1","nextState","nextName","hasNode","addEdge","winningPlayers","calculateStrategy","canvas","ctx","getContext","beginPath","fillStyle","fillRect","width","height","OffscreenCanvas","renderState","decodeState","getRenderingContext","bitmap","transferToImageBitmap","$PAmCh","transfer","$778cb631993bbfda$export$3c901a5f01941a06","importScripts","META_SUPPORT_DATA","META_SCHEMA_ID","Ajv","_default","$gD9ZZ","$aC47E","addVocabulary","opts","discriminator","addKeyword","$6XNhk","meta","metaSchema","$data","$dataMetaSchema","$jJs8Q","addMetaSchema","refs","defaultMeta","getSchema","$11bhT","module","exports","$jGmwh","KeywordCxt","$fJoTw","str","stringify","nil","Name","CodeGen","$0bdea3edf3ca0262$var$defaultRegExp","flags","RegExp","code","$0bdea3edf3ca0262$var$META_IGNORE_OPTIONS","$0bdea3edf3ca0262$var$EXT_SCOPE_NAMES","$0bdea3edf3ca0262$var$removedOptions","errorDataPath","format","nullable","jsonPointers","extendRefs","missingRefs","processCode","sourceCode","strictDefaults","strictKeywords","uniqueItems","unknownFormats","cache","ajvErrors","$0bdea3edf3ca0262$var$deprecatedOptions","ignoreKeywordsWithRef","jsPropertySyntax","unicode","$0bdea3edf3ca0262$var$requiredOptions","s","strict","_optz","_a","optimize","regExp","_c","_b","uriResolver","_d","$5iojN","strictSchema","_f","_e","strictNumbers","_h","_g","strictTypes","_k","_j","strictTuples","_m","_l","strictRequired","_p","_o","$clf6M","loopRequired","_q","loopEnum","_r","_s","messages","_t","inlineRefs","_u","schemaId","_v","addUsedSchema","_w","validateSchema","_x","validateFormats","_y","unicodeRegExp","_z","int32range","_0","$0bdea3edf3ca0262$var$Ajv","schemas","formats","_compilations","_loading","_code","es5","lines","scope","ValueScope","prefixes","logger","$0bdea3edf3ca0262$var$getLogger","formatOpt","RULES","$2lrXD","getRules","$0bdea3edf3ca0262$var$checkOptions","_metaOpts","$0bdea3edf3ca0262$var$getMetaSchemaOptions","$0bdea3edf3ca0262$var$addInitialFormats","_addVocabularies","_addDefaultMetaSchema","keywords","$0bdea3edf3ca0262$var$addInitialKeywords","$0bdea3edf3ca0262$var$addInitialSchemas","_opts","_dataRefSchema","$lOiYK","$id","schemaKeyRef","compile","valid","_meta","sch","_addSchema","_compileSchemaEnv","loadSchema","runCompileAsync","_schema","_runCompileAsync","$26kLW","$3DTNj","mark","_callee","loadMetaSchema","$schema","_compileAsync","$ref","_loadMetaSchema","__compileAsync","_ctx","t0","$8tw6j","checkLoaded","loadMissingSchema","missingSchema","missingRef","_loadMissingSchema","_loadSchema","sent","addSchema","__loadSchema","_validateSchema","$b4wWH","normalizeId","_checkUnique","throwOrLogError","warn","keyRef","$0bdea3edf3ca0262$var$getSchEnv","root","$aVtqS","SchemaEnv","resolveSchema","_removeAllSchemas","clear","cacheKey","definitions","def","kwdOrDef","keyword","$0bdea3edf3ca0262$var$checkKeyword","$lFd4N","eachItem","kwd","$0bdea3edf3ca0262$var$addRule","_this1","$0bdea3edf3ca0262$var$keywordMetaschema","definition","$3si1Z","getJSONTypes","schemaType","k","t","rule","all","rules","group","findIndex","splice","_separator","separator","_dataVar","dataVar","instancePath","text","keywordsJsonPointers","segments","split","$0bdea3edf3ca0262$var$schemaOrData","regex","baseId","jtd","localRefs","getSchemaRefs","startsWith","_compileMetaSchema","compileSchema","currentOpts","checkOpts","options","log","opt","optsSchemas","addFormat","defs","metaOpts","ValidationError","$1dQ0j","MissingRefError","$0bdea3edf3ca0262$var$noLogs","$0bdea3edf3ca0262$var$KEYWORD_NAME","dataType","post","ruleGroup","find","before","$0bdea3edf3ca0262$var$addBeforeRule","implements","_rule","$0bdea3edf3ca0262$var$$dataRef","anyOf","$2a704b3b64f49569$var$runtime","Op","hasOwn","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","err1","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","context","Context","_invoke","GenStateSuspendedStart","method","GenStateExecuting","GenStateCompleted","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","_sent","dispatchException","abrupt","record","tryCatch","GenStateSuspendedYield","makeInvokeMethod","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","NativeIteratorPrototype","values","Gp","defineIteratorMethods","AsyncIterator","PromiseImpl","invoke","__await","unwrapped","previousPromise","callInvokeWithMethodAndArg","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","next1","displayName","isGeneratorFunction","genFun","ctor","awrap","async","key1","reverse","skipTempReset","prev","charAt","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","globalThis","$e5436884f97e7df1$var$validateFunction","body","validateName","schemaEnv","func","_templateObject","$ex7ij","valCxt","$async","_templateObject1","$e5436884f97e7df1$var$funcSourceUrl","if","var","_templateObject5","parentData","_templateObject6","parentDataProperty","_templateObject7","rootData","_templateObject8","dynamicRef","dynamicAnchors","_templateObject9","_templateObject10","_templateObject11","_templateObject12","_templateObject13","$e5436884f97e7df1$var$destructureValCxtES5","_templateObject2","_templateObject4","_templateObject3","$e5436884f97e7df1$var$destructureValCxt","schId","process","_templateObject21","$e5436884f97e7df1$var$subschemaCode","it","$e5436884f97e7df1$var$isSchemaObj","$e5436884f97e7df1$var$checkKeywords","$e5436884f97e7df1$var$schemaCxtHasRules","$comment","$e5436884f97e7df1$var$commentKeyword","resolveUrl","$e5436884f97e7df1$var$updateContext","$e5436884f97e7df1$var$checkAsyncSchema","errsCount","const","$e5436884f97e7df1$var$typeAndKeywords","_templateObject22","$e5436884f97e7df1$var$subSchemaObjCode","$eS1cv","boolOrEmptySchema","checkUnknownRules","errSchemaPath","schemaHasRulesButRef","$e5436884f97e7df1$var$checkRefsAndKeywords","$e5436884f97e7df1$var$schemaKeywords","types","getSchemaTypes","coerceAndCheckDataType","_templateObject23","schemaPath","_templateObject24","rootName","scopeValue","_templateObject25","typeErrors","allErrors","groupKeywords","$1r7P8","shouldUseGroup","checkDataType","$e5436884f97e7df1$var$iterateKeywords","else","reportTypeError","endIf","_templateObject32","dataTypes","$e5436884f97e7df1$var$includesType","$e5436884f97e7df1$var$strictTypesError","join","$e5436884f97e7df1$var$checkContextTypes","allowUnionTypes","ts","includes","$e5436884f97e7df1$var$checkMultipleTypes","shouldUseRule","some","$e5436884f97e7df1$var$hasApplicableType","$e5436884f97e7df1$var$checkKeywordTypes","$e5436884f97e7df1$var$checkStrictTypes","block","$e5436884f97e7df1$var$keywordCode","useDefaults","$uKNvS","assignDefaults","schTs","kwdT","checkStrictMode","validateFunctionCode","$e5436884f97e7df1$var$checkNoDefault","let","vErrors","unevaluated","evaluated","_templateObject14","_templateObject15","_templateObject16","_templateObject17","_templateObject18","_templateObject19","_templateObject20","$e5436884f97e7df1$var$resetEvaluated","_templateObject26","throw","_templateObject27","_templateObject28","items","_templateObject30","_templateObject31","$e5436884f97e7df1$var$assignEvaluated","_templateObject29","$e5436884f97e7df1$var$returnResults","$e5436884f97e7df1$var$topSchemaObjCode","topBoolOrEmptySchema","$e5436884f97e7df1$var$KeywordCxt","$8Vh1T","validateKeywordUsage","schemaValue","schemaRefOrVal","parentSchema","params","schemaCode","$e5436884f97e7df1$var$getData","validSchemaType","allowUndefined","trackErrors","condition","successAction","failAction","failResult","not","fail","_templateObject33","or","invalid$data","append","errorParams","errorPaths","setParams","_error","$2pcVU","reportExtraError","reportError","$dataError","keyword$DataError","resetErrorsCount","cond","codeBlock","$dataValid","check$data","_templateObject34","elseIf","st","_templateObject35","checkDataTypes","DataType","Wrong","wrong$DataType","validateSchemaRef","_templateObject36","invalid$DataSchema","appl","subschema1","$cLKeG","getSubschema","extendSubschemaData","extendSubschemaMode","nextContext","schemaCxt","toName","mergeEvaluated","ruleType","cxt","funcKeywordCode","macroKeywordCode","$e5436884f97e7df1$var$JSON_POINTER","$e5436884f97e7df1$var$RELATIVE_JSON_POINTER","jsonPointer","dataLevel","dataNames","dataPathArr","matches","exec","up","errorMsg","expr","segment","_templateObject37","getProperty","unescapeJsonPointer","_templateObject38","pointerType","getData","$ad370a4928778cf7$var$boolError","$ad370a4928778cf7$var$falseSchemaError","overrideAllErrors","$1c07f2ca7cbcd3b6$var$addError","errObj","$1c07f2ca7cbcd3b6$var$returnErrors","errs","keywordError","compositeRule","$1c07f2ca7cbcd3b6$var$errorObjectCode","extendErrors","forRange","strConcat","errorPath","verbose","$1c07f2ca7cbcd3b6$var$E","propertyName","createErrors","_gen","keyValues","$1c07f2ca7cbcd3b6$var$errorInstancePath","$1c07f2ca7cbcd3b6$var$errorSchemaPath","$1c07f2ca7cbcd3b6$var$extraErrorProps","$1c07f2ca7cbcd3b6$var$errorObject","param1","instPath","getErrorPath","Type","Str","param2","schPath","topSchemaRef","$797y9","regexpCode","$aK4az","Scope","ValueScopeName","varKinds","operators","GT","_Code","GTE","LT","LTE","EQ","NEQ","NOT","OR","AND","ADD","$b73e5e811bec4d9f$var$Node","_names","_constants","$b73e5e811bec4d9f$var$Def","Node","varKind","rhs","_n","names","constants","$b73e5e811bec4d9f$var$optimizeExpr","_CodeOrName","$9S5Rk","$b73e5e811bec4d9f$var$Assign","lhs","sideEffects","$b73e5e811bec4d9f$var$addExprNames","$b73e5e811bec4d9f$var$AssignOp","Assign","op","$b73e5e811bec4d9f$var$Label","$b73e5e811bec4d9f$var$Break","$b73e5e811bec4d9f$var$Throw","$b73e5e811bec4d9f$var$AnyCode","$b73e5e811bec4d9f$var$ParentNode","nodes","render","_nodes","optimizeNodes","optimizeNames","$b73e5e811bec4d9f$var$subtractNames","$b73e5e811bec4d9f$var$addNames","$b73e5e811bec4d9f$var$BlockNode","ParentNode","$b73e5e811bec4d9f$var$Root","$b73e5e811bec4d9f$var$Else","BlockNode","kind","$b73e5e811bec4d9f$var$If","ns","$b73e5e811bec4d9f$var$not","$b73e5e811bec4d9f$var$For","$b73e5e811bec4d9f$var$ForLoop","For","iteration","$b73e5e811bec4d9f$var$ForRange","to","$b73e5e811bec4d9f$var$ForIter","loop","$b73e5e811bec4d9f$var$Func","_async","$b73e5e811bec4d9f$var$Return","$b73e5e811bec4d9f$var$Try","finally","$b73e5e811bec4d9f$var$Catch","$b73e5e811bec4d9f$var$Finally","$b73e5e811bec4d9f$var$CodeGen","extScope","_values","_blockStarts","_extScope","_scope","_root","prefix","prefixOrName","keyOrRef","getValue","scopeName","scopeRefs","scopeCode","nameOrPrefix","constant","_leafNode","_constant","_def","c","_len","_key","addCodeArg","thenBody","elseBody","_blockNode","_elseNode","_endBlockNode","forBody","endFor","_for","ownProperties","forOf","tryBody","catchCode","finallyCode","_currNode","nodeCount","endBlock","toClose","funcBody","endFunc","N1","N2","replaceName","_items","$b73e5e811bec4d9f$var$par","$b73e5e811bec4d9f$var$andCode","$b73e5e811bec4d9f$var$mappend","and","$b73e5e811bec4d9f$var$orCode","$533f3ae215731b7a$var$_CodeOrName","IDENTIFIER","$533f3ae215731b7a$var$Name","$533f3ae215731b7a$var$_Code","item","_str","$533f3ae215731b7a$var$_","strs","$533f3ae215731b7a$var$addCodeArg","$533f3ae215731b7a$var$plus","$533f3ae215731b7a$var$str","$533f3ae215731b7a$var$safeStringify","$533f3ae215731b7a$var$optimize","res","$533f3ae215731b7a$var$mergeExprItems","b","replace","c1","c2","emptyStr","safeStringify","getEsmExportName","rx","$7d216f3a314c116a$var$UsedValueState","UsedValueState","$7d216f3a314c116a$var$ValueError","$7d216f3a314c116a$var$Scope","_prefixes","_parent","_newName","ng","_nameGroup","index","$7d216f3a314c116a$var$ValueScopeName","_Name","nameStr","itemIndex","scopePath","$7d216f3a314c116a$var$line","$7d216f3a314c116a$var$ValueScope","valueKey","vs","_name","setValue","_reduceValues","usedValues","getCode","valueCode","nameSet","Started","Completed","$fc5791fa7f9292b1$var$checkUnknownRules","$fc5791fa7f9292b1$var$checkStrictMode","$fc5791fa7f9292b1$var$schemaHasRules","$fc5791fa7f9292b1$var$escapeJsonPointer","$fc5791fa7f9292b1$var$unescapeJsonPointer","$fc5791fa7f9292b1$var$makeMergeEvaluated","mergeNames","mergeToName","mergeValues","resultToName","$fc5791fa7f9292b1$var$evaluatedPropsToName","ps","$fc5791fa7f9292b1$var$setEvaluated","toHash","hash","alwaysValidSchema","schemaHasRules","unescapeFragment","decodeURIComponent","escapeFragment","encodeURIComponent","escapeJsonPointer","xs","f","Math","max","evaluatedPropsToName","setEvaluated","$fc5791fa7f9292b1$var$Type","$fc5791fa7f9292b1$var$snippets","mode","useFunc","dataProp","dataPropType","isNumber","Num","$a949ce42ad09568f$var$names","json","jsonPos","jsonLen","jsonPart","$2841f93e159dd587$var$DataType","$2841f93e159dd587$var$getJSONTypes","every","isJSONType","coerceTo","coerceTypes","$2841f93e159dd587$var$COERCIBLE","$2841f93e159dd587$var$coerceToTypes","checkTypes","schemaHasRulesForType","wrongType","$2841f93e159dd587$var$checkDataTypes","coerced","coerceSpecificType","$2841f93e159dd587$var$reportTypeError","$2841f93e159dd587$var$assignParentData","$2841f93e159dd587$var$coerceData","$2841f93e159dd587$var$checkDataType","strictNums","correct","Correct","numCond","_cond","array","notObj","null","number","integer","$2841f93e159dd587$var$typeError","$2841f93e159dd587$var$getTypeErrorContext","$1b533b608269d19a$var$jsonTypes","groups","string","boolean","$10be61b0b07b5ec4$var$shouldUseGroup","$10be61b0b07b5ec4$var$shouldUseRule","$05c71a7c1700f6ae$var$assignDefault","defaultValue","childData","ty","properties","$67f0db50c5b2e43f$var$modifyData","$67f0db50c5b2e43f$var$useKeyword","macroSchema","macro","schemaRef","subschema","pass","$67f0db50c5b2e43f$var$checkAsyncKeyword","validateRef","assignValid","_await","passCxt","passContext","passSchema","$d3kS5","callValidateCode","modifying","reportErrs","block$data","ruleErrs","try","validateAsync","validateErrs","$67f0db50c5b2e43f$var$addErrs","ok","_a1","deps","dependencies","$980bbecadeee786b$var$hasPropFunc","$980bbecadeee786b$var$isOwnProperty","$980bbecadeee786b$var$noPropertyInData","$980bbecadeee786b$var$allSchemaProperties","schemaMap","checkReportMissingProp","missingProperty","checkMissingProp","missing","reportMissingProp","hasPropFunc","isOwnProperty","propertyInData","noPropertyInData","allSchemaProperties","schemaProperties","_it","dataAndSchema","$980bbecadeee786b$var$newRegExp","usePattern","pattern","u","validateArray","validArr","validateItems","break","notValid","validateUnion","schValid","_sch","schCxt","schemaProp","mergeValidEvaluated","dpType","dataContextProps","_nextData","definedProperties","jtdDiscriminator","jtdMetadata","$80f99fcb21a836c7$var$SIMPLE_INLINED","inlineRef","limit","$80f99fcb21a836c7$var$hasRef","$80f99fcb21a836c7$var$countKeys","$80f99fcb21a836c7$var$REF_KEYWORDS","count","Infinity","$80f99fcb21a836c7$var$getFullPath","resolver","normalize","$80f99fcb21a836c7$var$normalizeId","$80f99fcb21a836c7$var$_getFullPath","getFullPath","_getFullPath","$80f99fcb21a836c7$var$TRAILING_SLASH_HASH","$80f99fcb21a836c7$var$ANCHOR","baseIds","pathPrefix","schemaRefs","$1Sc1s","allKeys","jsonPtr","parentJsonPtr","fullPath","_$baseId","addRef","addAnchor","$anchor","$dynamicAnchor","_resolve","ambiguos","schOrRef","checkAmbiguosRef","anchor","sch1","sch2","$iIuIF","equal","$15d429007f900102$var$traverse","$15d429007f900102$var$_traverse","pre","rootSchema","parentKeyword","keyIndex","arrayKeywords","propsKeywords","skipKeywords","additionalItems","contains","additionalProperties","propertyNames","allOf","oneOf","$defs","patternProperties","enum","required","maximum","minimum","exclusiveMaximum","exclusiveMinimum","multipleOf","maxLength","minLength","maxItems","minItems","maxProperties","minProperties","$0e3f583e3bcc1061$var$ValidationError","ajv","validation","$62b9eeb1bb1fba7b$var$MissingRefError","$7f460ee8e1aef4b7$var$SchemaEnv","env","$7f460ee8e1aef4b7$var$compileSchema","$7f460ee8e1aef4b7$var$getCompilingSchema","_ValidationError","rootId","validateCode","makeValidate","scopeValues","dynamicProps","dynamicItems","$7f460ee8e1aef4b7$var$inlineOrCompile","schEnv","s1","s2","$7f460ee8e1aef4b7$var$resolve","$7f460ee8e1aef4b7$var$resolveSchema","refPath","$7f460ee8e1aef4b7$var$getJsonPointer","resolveRef","schOrFunc","getCompilingSchema","$7f460ee8e1aef4b7$var$PREVENT_SCOPE_CHANGE","parsedRef","fragment","part","partSchema","$3LA7U","merge","sets","xl","subexp","typeOf","shift","toLowerCase","toUpperCase","toArray","setInterval","buildExps","isIRI","ALPHA$$","DIGIT$$","HEXDIG$$","PCT_ENCODED$","SUB_DELIMS$$","RESERVED$$","SCHEME$","USERINFO$","UNRESERVED$$","DEC_OCTET_RELAXED$","H16$","LS32$","IPV4ADDRESS$","IPV6ADDRESS1$","IPV6ADDRESS2$","IPV6ADDRESS3$","IPV6ADDRESS4$","IPV6ADDRESS5$","IPV6ADDRESS6$","IPV6ADDRESS7$","IPV6ADDRESS8$","IPV6ADDRESS9$","ZONEID$","IPV6ADDRESS$","IP_LITERAL$","IPV6ADDRZ_RELAXED$","IPVFUTURE$","HOST$","REG_NAME$","PORT$","AUTHORITY$","PCHAR$","SEGMENT$","SEGMENT_NZ$","SEGMENT_NZ_NC$","PATH_ABEMPTY$","PATH_ABSOLUTE$","PATH_EMPTY$","QUERY$","PATH_NOSCHEME$","PATH_ROOTLESS$","IPRIVATE$$","FRAGMENT$","HIER_PART$","URI$","RELATIVE_PART$","RELATIVE$","NOT_SCHEME","NOT_USERINFO","NOT_HOST","NOT_PATH","NOT_PATH_NOSCHEME","NOT_QUERY","NOT_FRAGMENT","ESCAPE","UNRESERVED","OTHER_CHARS","PCT_ENCODED","IPV4ADDRESS","IPV6ADDRESS","URI_PROTOCOL","IRI_PROTOCOL","maxInt","tMin","tMax","skew","damp","initialBias","initialN","delimiter","regexPunycode","regexNonASCII","regexSeparators","overflow","baseMinusTMin","floor","stringFromCharCode","String","fromCharCode","RangeError","mapDomain","parts","ucs2decode","counter","output","charCodeAt","extra","basicToDigit","codePoint","digitToBasic","digit","flag","adapt","delta","numPoints","firstTime","decode","input","inputLength","bias","basic","lastIndexOf","j","error$1","oldi","w","baseMinusT","out","fromCodePoint","encode","currentValue","basicLength","handledCPCount","m","_step2","_iteratorNormalCompletion2","_iterator2","handledCPCountPlusOne","_step3","_iteratorNormalCompletion3","_iterator3","q","qMinusT","toUnicode","toASCII","punycode","version","ucs2","ucs2encode","toConsumableArray","SCHEMES","pctEncChar","chr","pctDecChars","newStr","il","parseInt","substr","c3","_normalizeComponentEncoding","components","protocol","decodeUnreserved","decStr","match","scheme","userinfo","host","query","_stripLeadingZeros","_normalizeIPv4","address","_normalizeIPv6","zone","first","firstFields","lastFields","isLastFieldIPv4Address","fieldCount","lastFieldsStart","fields","allZeroFields","longestZeroFields","acc","field","lastLongest","sort","newHost","newFirst","newLast","URI_PARSE","NO_MATCH_IS_UNDEFINED","uriString","iri","reference","schemeHandler","unicodeSupport","domainHost","_recomposeAuthority","uriTokens","$1","$2","RDS1","RDS2","RDS3","RDS5","removeDotSegments","im","authority","absolutePath","resolveComponents","relative","skipNormalization","tolerant","baseURI","relativeURI","schemelessOptions","uri","uriA","uriB","escapeComponent","unescapeComponent","secure","http","isSecure","wsComponents","resourceName","ws","O","ATEXT$$","VCHAR$$","SOME_DELIMS$$","NOT_LOCAL_PART","NOT_HFNAME","NOT_HFVALUE","mailtoComponents","unknownHeaders","headers","hfields","hfield","toAddrs","subject","addr","toAddr","atIdx","localPart","domain","URN_PARSE","urnComponents","nid","nss","urnScheme","uriComponents","UUID","uuidComponents","uuid","https","wss","mailto","urn","$7ba0a69d7e8b0cc9$var$draft7Vocabularies","$3VxTu","$4GXtr","$kCTdR","$kBcLR","$9n4ZK","metadataVocabulary","contentVocabulary","$2dc0fc9dbb140dea$var$core","$2Ednn","$RfTGp","$1ed9b16614edd4dc$var$def","$0a0148301168e2c1$var$def","$0a0148301168e2c1$var$callRef","callRootRef","schOrEnv","$0a0148301168e2c1$var$getValidate","schName","inlineRefSchema","addErrorsFrom","addEvaluatedFrom","schEvaluated","callAsyncRef","getValidate","callRef","$36a937f645cfd129$var$validation","$lFa7t","$bQ27F","$8A3sn","$fj0nr","$19ZVm","$hcC0I","$6hURg","$1xBgw","$fWEXz","$5iSBd","$fc5546d328ad9c21$var$ops","$fc5546d328ad9c21$var$KWDs","okStr","$fc5546d328ad9c21$var$error","$fc5546d328ad9c21$var$def","fail$data","$89e632936c90c9db$var$def","prec","multipleOfPrecision","invalid","$63f45df1c0d6d574$var$def","comp","$2nSBl","$1bc8156c6dff5db1$var$ucs2length","pos","$b248ec3d7f96a695$var$def","$0d86aa9293f482a4$var$def","$c8610ac61d6d8a15$var$def","useLoop","loopAllRequired","allErrorsMode","loopUntilMissing","exitOnErrorMode","requiredKey","$49406f6d755cc6b2$var$def","$11f5c7aa5d0369f9$var$def","_params","itemTypes","loopN","loopN2","indices","for","eql","$a5QNl","outer","$b9bc0b8eaea9b41d$var$def","$3dc8fc7849a74b70$var$def","getEql","vSchema","equalCode","draft2020","applicator","$gPahi","$3rX9t","$jdniB","$fVJij","$f2JTk","$5D3Lu","$3UhT4","$d65BI","$36DnM","$dmZst","$02SDm","$hsRAF","$gy1zG","$aQV4g","$alhAt","$k4jcu","$7e6b072fbdf27ea7$var$def","$7e6b072fbdf27ea7$var$validateAdditionalItems","validateAdditionalItems","$cb6e9f1c58b5a033$var$def","validateTuple","$787982081732e7a6$var$def","$787982081732e7a6$var$validateTuple","extraItems","schArr","checkStrictTuple","l","fullTuple","$c0c10afc8b4b7a33$var$def","prefixItems","$e9c31330c24cf279$var$def","min","minContains","maxContains","validateItemsWithCount","checkLimits","_valid","depsCount","property_ies","$24307b2c6496383a$var$def","propertyDeps","schemaDeps","$24307b2c6496383a$var$splitDependencies","propDeps","schDeps","$24307b2c6496383a$var$validatePropertyDeps","$24307b2c6496383a$var$validateSchemaDeps","hasProperty","depProp","_loop","validatePropertyDeps","validateSchemaDeps","$2d847a1715bce8ee$var$def","forIn","$98902f644b2c9baa$var$def","additionalProperty","removeAdditional","patProps","definedProp","propsSchema","isAdditional","additionalPropertyCode","deleteAdditional","applyAdditionalSchema","$9bbd00befefa67fc$var$def","allProps","prop1","hasDefault","applyPropertySchema","$008a912d9608bb1b$var$def","patterns","alwaysValidPatterns","checkProperties","allowMatchingProperties","pat","checkMatchingProperties","validateProperties","validatePatternProperties","alwaysValid","$c3f961c00e417a53$var$def","$2831c707d3b61f3b$var$def","$dfd14ded05c81507$var$def","passing","$b98f506c4782befa$var$def","$af3aa40338163645$var$def","ifClause","hasThen","$af3aa40338163645$var$hasSchema","hasElse","validateClause","$419383e49b1aa36f$var$def","$eff12b65eb3090f7$var$format","$e41a00bdf23c936d$var$def","fmts","fDef","fType","callFormat","validData","formatDef","unknownMsg","unknownFormat","fmtDef","fmt","fmtType","fmtRef","validCondition","validateFormat","$511e7a73583eb4e9$var$def","discrError","tagName","$f3IPt","DiscrError","Tag","tag","mapping","applyTagSchema","oneOfMapping","topRequired","hasRequired","tagRequired","i1","propSch","addMappings","addMapping","tagValue","getMapping","Mapping","validateMapping","t1","e1","r1","t2","t3","e2","t4","e3","n1","_$i","_$o","t5","a1","u1","undirected","d1","addUndirectedEdgeWithKey","dropNode","h1","f1","l1","g1","w1","v1","getOwnPropertyNames","m1","Number","init","once","t6","e4","n2","removeListener","N","on","EventEmitter","_events","_eventsCount","_maxListeners","G","defaultMaxListeners","E","_$a","newListener","emit","listener","unshift","warned","emitter","A","fired","wrapFn","S","D","t7","_$e","_$n","U","L","addEventListener","setMaxListeners","getMaxListeners","addListener","prependListener","prependOnceListener","t8","e5","off","removeAllListeners","listeners","rawListeners","listenerCount","eventNames","of","empty","fromSequence","is","C","ARRAY_BUFFER_SUPPORT","ArrayBuffer","SYMBOL_SUPPORT","z","M","W","P","R","t9","isView","K","T","B","F","captureStackTrace","I","Y","J","V","H","Q","d","_edges","h","inDegree","outDegree","undirectedDegree","in","attach","attachMulti","previous","detach","detachMulti","X","attacher","t10","t11","t12","t13","t14","t15","t16","t17","t18","Z","t19","multi","t20","t21","t22","t23","t24","t25","t26","t27","$","tt","et","nt","direction","rt","ot","sourceAttributes","targetAttributes","at","ut","ct","_$t","undirectedSize","directedSize","dt","ht","pt","ft","t28","lt","gt","yt","t29","wt","vt","bt","mt","kt","neighbor","Gt","t30","e6","n3","r2","t31","t32","xt","t33","e7","n4","r3","i2","t34","Et","At","St","Dt","Lt","random","Ut","Nt","jt","allowSelfLoops","Ot","NodeDataClass","Ct","_edgeKeyGenerator","_undirectedSelfLoopCount","_directedSelfLoopCount","_undirectedSize","_directedSize","zt","g","_$k","Mt","t46","t41","Wt","n5","r4","t35","_$r","_options","i3","_resetInstanceCounters","hasDirectedEdge","hasUndirectedEdge","hasEdge","directedEdge","undirectedEdge","areDirectedNeighbors","areOutNeighbors","areInNeighbors","areUndirectedNeighbors","areNeighbors","areInboundNeighbors","areOutboundNeighbors","directedDegree","inboundDegree","outboundDegree","degree","inDegreeWithoutSelfLoops","outDegreeWithoutSelfLoops","directedDegreeWithoutSelfLoops","undirectedDegreeWithoutSelfLoops","inboundDegreeWithoutSelfLoops","outboundDegreeWithoutSelfLoops","degreeWithoutSelfLoops","extremities","opposite","hasExtremity","isUndirected","isDirected","isSelfLoop","t36","e8","mergeNode","updateNode","dropEdge","dropDirectedEdge","dropUndirectedEdge","clearEdges","getAttribute","_attributes","getAttributes","hasAttribute","setAttribute","updateAttribute","removeAttribute","replaceAttributes","mergeAttributes","updateAttributes","updateEachNodeAttributes","hints","updateEachEdgeAttributes","forEachAdjacencyEntry","forEachAdjacencyEntryWithOrphans","forEachAssymetricAdjacencyEntry","forEachAssymetricAdjacencyEntryWithOrphans","findNode","mapNodes","order","someNode","everyNode","filterNodes","reduceNodes","nodeEntries","t37","_$n1","t38","edges","import","t39","forEachEdge","mergeUndirectedEdgeWithKey","mergeDirectedEdgeWithKey","addDirectedEdgeWithKey","mergeUndirectedEdge","mergeDirectedEdge","addUndirectedEdge","addDirectedEdge","nullCopy","emptyCopy","t40","copy","toJSON","inspect","_$a1","generateKey","e9","t42","e10","t43","e11","n6","r5","i4","o2","_$a2","i5","u2","n7","t44","e12","n8","r6","i7","o3","_$a3","u3","t45","e13","n9","e14","t47","e15","n10","r7","t48","t49","t50","n11","t51","e16","n12","t52","Pt","Rt","Kt","Tt","Bt","Ft","Graph","DirectedGraph","UndirectedGraph","MultiGraph","MultiUndirectedGraph","InvalidArgumentsGraphError","NotFoundGraphError","UsageGraphError"],"version":3,"file":"tictactoe.37f29f78.js.map"}